/*! For license information please see main.af5aaf84.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},v={};function p(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(v,e)||!f.call(d,e)&&(h.test(e)?v[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function B(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Se=null;function Ie(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ce(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function _e(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Se)&&(Ne(),_e())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(le){Pe=!1}function Re(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ve=null,Be={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Re.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Ue(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,St,It,Ct=!1,_t=[],Tt=null,Nt=null,At=null,Dt=new Map,Ot=new Map,Pt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Tt&&jt(Tt)&&(Tt=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Dt.forEach(Vt),Ot.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return zt(t,e)}if(0<_t.length){zt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Dt.forEach(t),Ot.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var qt=k.ReactCurrentBatchConfig,Kt=!0;function Ht(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Wt(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),vn=an(dn),pn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function In(){return Sn}var Cn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(Cn),Tn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Dn),Pn=[9,13,27,32],Ln=l&&"CompositionEvent"in window,Rn=null;l&&"documentMode"in document&&(Rn=document.documentMode);var Mn=l&&"TextEvent"in window&&!Rn,Fn=l&&(!Ln||Rn&&8<Rn&&11>=Rn),jn=String.fromCharCode(32),Vn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Wn=null;function Qn(e){jr(e,0)}function $n(e){if(W(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Wn=Gn=null)}function nr(e){if("value"===e.propertyName&&$n(Wn)){var t=[];Hn(t,Wn,e,we(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Wn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Sr={};function Ir(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Cr=Ir("animationend"),_r=Ir("animationiteration"),Tr=Ir("animationstart"),Nr=Ir("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),s(t,[e])}for(var Pr=0;Pr<Dr.length;Pr++){var Lr=Dr[Pr];Or(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Or(Cr,"onAnimationEnd"),Or(_r,"onAnimationIteration"),Or(Tr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=_n;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Cr:case _r:case Tr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,v=r;null!==v;){var p=(d=v).stateNode;if(5===d.tag&&null!==p&&(d=p,null!==h&&(null!=(p=Oe(v,h))&&l.push(Hr(v,p,d)))),f)break;v=v.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[vi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=vn,p="onMouseLeave",h="onMouseEnter",v="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,p="onPointerLeave",h="onPointerEnter",v="pointer"),f=null==s?u:ki(s),d=null==c?u:ki(c),(u=new l(p,v+"leave",s,n,i)).target=f,u.relatedTarget=d,p=null,gi(i)===r&&((l=new l(h,v+"enter",c,n,i)).target=d,l.relatedTarget=f,p=l),f=p,s&&c)e:{for(h=c,v=0,d=l=s;d;d=Wr(d))v++;for(d=0,p=h;p;p=Wr(p))d++;for(;0<v-d;)l=Wr(l),v--;for(;0<d-v;)h=Wr(h),d--;for(;v--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Kn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?ki(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Un=!0)),0<(y=Gr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Ln&&Bn(e,t)?(e=en(),Zt=Jt=Xt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(Hr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(Hr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,vi="__reactContainer$"+fi,pi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[vi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function Si(e){return{current:e}}function Ii(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Ci(e,t){Ei++,xi[Ei]=e.current,e.current=t}var _i={},Ti=Si(_i),Ni=Si(!1),Ai=_i;function Di(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ii(Ni),Ii(Ti)}function Li(e,t,n){if(Ti.current!==_i)throw Error(a(168));Ci(Ti,t),Ci(Ni,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ai=Ti.current,Ci(Ti,e),Ci(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ri(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ti),Ci(Ti,e)):Ii(Ni),Ci(Ni,n)}var ji=null,Vi=!1,Bi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Ui(){if(!Bi&&null!==ji){Bi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),We(Ze,Ui),i}finally{bt=t,Bi=!1}}return null}var qi=k.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Hi=Si(null),Gi=null,Wi=null,Qi=null;function $i(){Qi=Wi=Gi=null}function Yi(e){var t=Hi.current;Ii(Hi),e._currentValue=t}function Xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){Gi=e,Qi=Wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wu=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if(Qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Wi){if(null===Gi)throw Error(a(308));Wi=e,Gi.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=e,p=u;switch(h=t,d=n,p.tag){case 1:if("function"===typeof(v=p.payload)){f=v.call(d,f,h);break e}f=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null===(h="function"===typeof(v=p.payload)?v.call(d,f,h):v)||void 0===h)break e;f=F({},f,h);break e;case 2:ta=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ps|=o,e.lanes=o,e.memoizedState=f}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xs(),i=Js(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xs(),i=Js(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xs(),r=Js(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Zs(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function va(e,t,n){var r=!1,i=_i,a=t.contextType;return"object"===typeof a&&null!==a?a=Zi(a):(i=Oi(t)?Ai:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):_i),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function pa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Zi(a):(a=Oi(t)?Ai:Ti.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ya=[],ga=0,ba=null,ka=0,wa=[],xa=0,Ea=null,Sa=1,Ia="";function Ca(e,t){ya[ga++]=ka,ya[ga++]=ba,ba=e,ka=t}function _a(e,t,n){wa[xa++]=Sa,wa[xa++]=Ia,wa[xa++]=Ea,Ea=e;var r=Sa;e=Ia;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Sa=1<<32-ot(t)+i|n<<i|r,Ia=a+e}else Sa=1<<a|n<<i|r,Ia=e}function Ta(e){null!==e.return&&(Ca(e,1),_a(e,1,0))}function Na(e){for(;e===ba;)ba=ya[--ga],ya[ga]=null,ka=ya[--ga],ya[ga]=null;for(;e===Ea;)Ea=wa[--xa],wa[xa]=null,Ia=wa[--xa],wa[xa]=null,Sa=wa[--xa],wa[xa]=null}var Aa=null,Da=null,Oa=!1,Pa=null;function La(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Ra(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Aa=e,Da=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Aa=e,Da=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ea?{id:Sa,overflow:Ia}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Aa=e,Da=null,!0);default:return!1}}function Ma(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Fa(e){if(Oa){var t=Da;if(t){var n=t;if(!Ra(e,t)){if(Ma(e))throw Error(a(418));t=ci(n.nextSibling);var r=Aa;t&&Ra(e,t)?La(r,n):(e.flags=-4097&e.flags|2,Oa=!1,Aa=e)}}else{if(Ma(e))throw Error(a(418));e.flags=-4097&e.flags|2,Oa=!1,Aa=e}}}function ja(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Aa=e}function Va(e){if(e!==Aa)return!1;if(!Oa)return ja(e),Oa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Da)){if(Ma(e)){for(e=Da;e;)e=ci(e.nextSibling);throw Error(a(418))}for(;t;)La(e,t),t=ci(t.nextSibling)}if(ja(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Da=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Da=null}}else Da=Aa?ci(e.stateNode.nextSibling):null;return!0}function Ba(){Da=Aa=null,Oa=!1}function za(e){null===Pa?Pa=[e]:Pa.push(e)}function Ua(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ka(e){return(0,e._init)(e._payload)}function Ha(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Ka(a)===t.type)?((r=i(t,n.props)).ref=Ua(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ua(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ua(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Lc(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:f(e,t,n,r,null);qa(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return v(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return f(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function p(i,a,u,s){for(var c=null,l=null,f=a,p=a=0,m=null;null!==f&&p<u.length;p++){f.index>p?(m=f,f=null):m=f.sibling;var y=d(i,f,u[p],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,p),null===l?c=y:l.sibling=y,l=y,f=m}if(p===u.length)return n(i,f),Oa&&Ca(i,p),c;if(null===f){for(;p<u.length;p++)null!==(f=h(i,u[p],s))&&(a=o(f,a,p),null===l?c=f:l.sibling=f,l=f);return Oa&&Ca(i,p),c}for(f=r(i,f);p<u.length;p++)null!==(m=v(f,i,p,u[p],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?p:m.key),a=o(m,a,p),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Oa&&Ca(i,p),c}function m(i,u,s,c){var l=R(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,p=u,m=u=0,y=null,g=s.next();null!==p&&!g.done;m++,g=s.next()){p.index>m?(y=p,p=null):y=p.sibling;var b=d(i,p,g.value,c);if(null===b){null===p&&(p=y);break}e&&p&&null===b.alternate&&t(i,p),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,p=y}if(g.done)return n(i,p),Oa&&Ca(i,m),l;if(null===p){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Oa&&Ca(i,m),l}for(p=r(i,p);!g.done;m++,g=s.next())null!==(g=v(p,i,m,g.value,c))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&p.forEach((function(e){return t(i,e)})),Oa&&Ca(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Ka(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ua(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Pc(o.type,o.key,o.props,null,r.mode,s)).ref=Ua(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return p(r,a,o,s);if(R(o))return m(r,a,o,s);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ga=Ha(!0),Wa=Ha(!1),Qa={},$a=Si(Qa),Ya=Si(Qa),Xa=Si(Qa);function Ja(e){if(e===Qa)throw Error(a(174));return e}function Za(e,t){switch(Ci(Xa,t),Ci(Ya,e),Ci($a,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii($a),Ci($a,t)}function eo(){Ii($a),Ii(Ya),Ii(Xa)}function to(e){Ja(Xa.current);var t=Ja($a.current),n=se(t,e.type);t!==n&&(Ci(Ya,e),Ci($a,n))}function no(e){Ya.current===e&&(Ii($a),Ii(Ya))}var ro=Si(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var uo=k.ReactCurrentDispatcher,so=k.ReactCurrentBatchConfig,co=0,lo=null,fo=null,ho=null,vo=!1,po=!1,mo=0,yo=0;function go(){throw Error(a(321))}function bo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function ko(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=null===e||null===e.memoizedState?ru:iu,e=n(r,i),po){o=0;do{if(po=!1,mo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,uo.current=au,e=n(r,i)}while(po)}if(uo.current=nu,t=null!==fo&&null!==fo.next,co=0,ho=fo=lo=null,vo=!1,t)throw Error(a(300));return e}function wo(){var e=0!==mo;return mo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?lo.memoizedState=ho=e:ho=ho.next=e,ho}function Eo(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?lo.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?lo.memoizedState=ho=e:ho=ho.next=e}return ho}function So(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((co&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,lo.lanes|=f,Ps|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(wu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Ps|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Co(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(wu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function _o(){}function To(e,t){var n=lo,r=Eo(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,wu=!0),r=r.queue,Vo(Do.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Lo(9,Ao.bind(null,n,r,i,t),void 0,null),null===Cs)throw Error(a(349));0!==(30&co)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,Oo(t)&&Zs(e,1,-1)}function Do(e,t,n){return n((function(){Oo(t)&&Zs(e,1,-1)}))}function Oo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Po(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:e},t.queue=e,e=e.dispatch=Xo.bind(null,lo,e),[t.memoizedState,e]}function Lo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ro(){return Eo().memoizedState}function Mo(e,t,n,r){var i=xo();lo.flags|=e,i.memoizedState=Lo(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=Eo();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&bo(r,o.deps))return void(i.memoizedState=Lo(t,n,a,r))}lo.flags|=e,i.memoizedState=Lo(1|t,n,a,r)}function jo(e,t){return Mo(8390656,8,e,t)}function Vo(e,t){return Fo(2048,8,e,t)}function Bo(e,t){return Fo(4,2,e,t)}function zo(e,t){return Fo(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,Uo.bind(null,t,e),n)}function Ko(){}function Ho(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,wu=!0),e.memoizedState=n):(ur(n,t)||(n=pt(),lo.lanes|=n,Ps|=n,e.baseState=!0),t)}function Qo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{bt=n,so.transition=r}}function $o(){return Eo().memoizedState}function Yo(e,t,n){var r=Js(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e)?Zo(t,n):(eu(e,t,n),null!==(e=Zs(e,r,n=Xs()))&&tu(e,t,r))}function Xo(e,t,n){var r=Js(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Zo(t,i);else{eu(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o))return}catch(s){}null!==(e=Zs(e,r,n=Xs()))&&tu(e,t,r)}}function Jo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Zo(e,t){po=vo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eu(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function tu(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var nu={readContext:Zi,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},ru={readContext:Zi,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:jo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yo.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Po,useDebugValue:Ko,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Qo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=xo();if(Oa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Cs)throw Error(a(349));0!==(30&co)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,jo(Do.bind(null,r,o,e),[e]),r.flags|=2048,Lo(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Cs.identifierPrefix;if(Oa){var n=Ia;t=":"+t+"R"+(n=(Sa&~(1<<32-ot(Sa)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iu={readContext:Zi,useCallback:Ho,useContext:Zi,useEffect:Vo,useImperativeHandle:qo,useInsertionEffect:Bo,useLayoutEffect:zo,useMemo:Go,useReducer:Io,useRef:Ro,useState:function(){return Io(So)},useDebugValue:Ko,useDeferredValue:function(e){return Wo(Eo(),fo.memoizedState,e)},useTransition:function(){return[Io(So)[0],Eo().memoizedState]},useMutableSource:_o,useSyncExternalStore:To,useId:$o,unstable_isNewReconciler:!1},au={readContext:Zi,useCallback:Ho,useContext:Zi,useEffect:Vo,useImperativeHandle:qo,useInsertionEffect:Bo,useLayoutEffect:zo,useMemo:Go,useReducer:Co,useRef:Ro,useState:function(){return Co(So)},useDebugValue:Ko,useDeferredValue:function(e){var t=Eo();return null===fo?t.memoizedState=e:Wo(t,fo.memoizedState,e)},useTransition:function(){return[Co(So)[0],Eo().memoizedState]},useMutableSource:_o,useSyncExternalStore:To,useId:$o,unstable_isNewReconciler:!1};function ou(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var su,cu,lu,fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zs||(zs=!0,Us=r),uu(0,t)},n}function du(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uu(0,t),"function"!==typeof r&&(null===qs?qs=new Set([this]):qs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function pu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function mu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function yu(e,t){if(!Oa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bu(e,t,n){var r=t.pendingProps;switch(Na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gu(t),null;case 1:case 17:return Oi(t.type)&&Pi(),gu(t),null;case 3:return r=t.stateNode,eo(),Ii(Ni),Ii(Ti),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Va(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Pa&&(ac(Pa),Pa=null))),gu(t),null;case 5:no(t);var i=Ja(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)cu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gu(t),null}if(e=Ja($a.current),Va(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,su(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gu(t),null;case 6:if(e&&null!=t.stateNode)lu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ja(Xa.current),Ja($a.current),Va(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=Aa))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return gu(t),null;case 13:if(Ii(ro),r=t.memoizedState,Oa&&null!==Da&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Da;r;)r=ci(r.nextSibling);return Ba(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Va(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hi]=t}else Ba(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gu(t),null}return null!==Pa&&(ac(Pa),Pa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Va(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Ds&&(Ds=3):vc())),null!==t.updateQueue&&(t.flags|=4),gu(t),null);case 4:return eo(),null===e&&Ur(t.stateNode.containerInfo),gu(t),null;case 10:return Yi(t.type._context),gu(t),null;case 19:if(Ii(ro),null===(o=t.memoizedState))return gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)yu(o,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=io(e))){for(t.flags|=128,yu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Vs&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),yu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Oa)return gu(t),null}else 2*Xe()-o.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ro.current,Ci(ro,r?1&n|2:1&n),t):(gu(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ns)&&(gu(t),6&t.subtreeFlags&&(t.flags|=8192)):gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}su=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ja($a.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var ku=k.ReactCurrentOwner,wu=!1;function xu(e,t,n,r){t.child=null===e?Wa(t,null,n,r):Ga(t,e.child,n,r)}function Eu(e,t,n,r,i){n=n.render;var a=t.ref;return Ji(t,i),r=ko(e,t,n,r,a,i),n=wo(),null===e||wu?(Oa&&n&&Ta(t),t.flags|=1,xu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Su(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(wu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(wu=!0)}}return Tu(e,t,n,r,i)}function Cu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(As,Ns),Ns|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(As,Ns),Ns|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(As,Ns),Ns|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(As,Ns),Ns|=r;return xu(e,t,i,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Oi(n)?Ai:Ti.current;return a=Di(t,a),Ji(t,i),n=ko(e,t,n,r,a,i),r=wo(),null===e||wu?(Oa&&r&&Ta(t),t.flags|=1,xu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Nu(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Ji(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),va(t,n,r),ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Zi(c):c=Di(t,c=Oi(n)?Ai:Ti.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&pa(t,o,r,c),ta=!1;var h=t.memoizedState;o.state=h,sa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||ta?("function"===typeof l&&(fa(t,n,l,r),s=t.memoizedState),(u=ta||da(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ki(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Zi(s):s=Di(t,s=Oi(n)?Ai:Ti.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&pa(t,o,r,s),ta=!1,h=t.memoizedState,o.state=h,sa(t,r,o,i);var v=t.memoizedState;u!==f||h!==v||Ni.current||ta?("function"===typeof d&&(fa(t,n,d,r),v=t.memoizedState),(c=ta||da(t,n,c,r,h,v,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,v,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,v,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){_u(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ga(t,e.child,null,a),t.child=Ga(t,null,u,a)):xu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Du(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Za(e,t.containerInfo)}function Ou(e,t,n,r,i){return Ba(),za(i),t.flags|=256,xu(e,t,n,r),t.child}var Pu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ru(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Mu(e,t,n){var r,i=t.pendingProps,o=ro.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(ro,1&o),null===e)return Fa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Rc(o,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Pu,e):Fu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Bu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Rc({mode:"visible",children:i.children},o,0,null),(u=Lc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&Ga(t,e.child,null,n),t.child.memoizedState=Lu(n),t.memoizedState=Pu,u);if(0===(1&t.mode))t=Bu(e,t,n,null);else if("$!"===r.data)t=Bu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),wu||i){if(null!==(i=Cs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Zs(e,i,-1))}vc(),t=Bu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Da=ci(r.nextSibling),Aa=t,Oa=!0,Pa=null,null!==n&&(wa[xa++]=Sa,wa[xa++]=Ia,wa[xa++]=Ea,Sa=n.id,Ia=n.overflow,Ea=t),(t=Fu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Vu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Lu(n):Ru(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Pu,i):(n=ju(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Vu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Lu(n):Ru(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Pu,i):(n=ju(e,t,i.children,n),t.memoizedState=null,n)}function Fu(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){var i=e.child;return e=i.sibling,n=Oc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Vu(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=Oc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Oc(o,r):(r=Lc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Bu(e,t,n,r){return null!==r&&za(r),Ga(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Xi(e.return,t,n)}function Uu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xu(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uu(t,!0,n,null,a);break;case"together":Uu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ps|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){switch(Na(t),t.tag){case 1:return Oi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Ii(Ni),Ii(Ti),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Ii(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Ba()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(ro),null;case 4:return eo(),null;case 10:return Yi(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Gu=!1,Wu=!1,Qu="function"===typeof WeakSet?WeakSet:Set,$u=null;function Yu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function Xu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var Ju=!1;function Zu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Xu(t,n,a)}i=i.next}while(i!==r)}}function es(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ts(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ns(e){var t=e.alternate;null!==t&&(e.alternate=null,ns(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[pi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rs(e){return 5===e.tag||3===e.tag||4===e.tag}function is(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function as(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(as(e,t,n),e=e.sibling;null!==e;)as(e,t,n),e=e.sibling}function os(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(os(e,t,n),e=e.sibling;null!==e;)os(e,t,n),e=e.sibling}var us=null,ss=!1;function cs(e,t,n){for(n=n.child;null!==n;)ls(e,t,n),n=n.sibling}function ls(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Wu||Yu(n,t);case 6:var r=us,i=ss;us=null,cs(e,t,n),ss=i,null!==(us=r)&&(ss?(e=us,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):us.removeChild(n.stateNode));break;case 18:null!==us&&(ss?(e=us,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Ut(e)):si(us,n.stateNode));break;case 4:r=us,i=ss,us=n.stateNode.containerInfo,ss=!0,cs(e,t,n),us=r,ss=i;break;case 0:case 11:case 14:case 15:if(!Wu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Xu(n,t,o),i=i.next}while(i!==r)}cs(e,t,n);break;case 1:if(!Wu&&(Yu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}cs(e,t,n);break;case 21:cs(e,t,n);break;case 22:1&n.mode?(Wu=(r=Wu)||null!==n.memoizedState,cs(e,t,n),Wu=r):cs(e,t,n);break;default:cs(e,t,n)}}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qu),t.forEach((function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:us=s.stateNode,ss=!1;break e;case 3:case 4:us=s.stateNode.containerInfo,ss=!0;break e}s=s.return}if(null===us)throw Error(a(160));ls(o,u,i),us=null,ss=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ds(t,e),t=t.sibling}function ds(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(t,e),vs(e),4&r){try{Zu(3,e,e.return),es(3,e)}catch(p){Ec(e,e.return,p)}try{Zu(5,e,e.return)}catch(p){Ec(e,e.return,p)}}break;case 1:hs(t,e),vs(e),512&r&&null!==n&&Yu(n,n.return);break;case 5:if(hs(t,e),vs(e),512&r&&null!==n&&Yu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(p){Ec(e,e.return,p)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;null!=v?ne(i,!!o.multiple,v,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(p){Ec(e,e.return,p)}}break;case 6:if(hs(t,e),vs(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(p){Ec(e,e.return,p)}}break;case 3:if(hs(t,e),vs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(p){Ec(e,e.return,p)}break;case 4:default:hs(t,e),vs(e);break;case 13:hs(t,e),vs(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(js=Xe()),4&r&&fs(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Wu=(f=Wu)||l,hs(t,e),Wu=f):hs(t,e),vs(e),8192&r){f=null!==e.memoizedState;e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,f?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=pe("display",u))}catch(p){Ec(e,e.return,p)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(p){Ec(e,e.return,p)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(f&&!l&&0!==(1&e.mode))for($u=e,e=e.child;null!==e;){for(l=$u=e;null!==$u;){switch(h=(f=$u).child,f.tag){case 0:case 11:case 14:case 15:Zu(4,f,f.return);break;case 1:if(Yu(f,f.return),"function"===typeof(o=f.stateNode).componentWillUnmount){d=f,v=f.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(p){Ec(d,v,p)}}break;case 5:Yu(f,f.return);break;case 22:if(null!==f.memoizedState){gs(l);continue}}null!==h?(h.return=f,$u=h):gs(l)}e=e.sibling}}break;case 19:hs(t,e),vs(e),4&r&&fs(e);case 21:}}function vs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),os(e,is(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;as(e,is(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ps(e,t,n){$u=e,ms(e,t,n)}function ms(e,t,n){for(var r=0!==(1&e.mode);null!==$u;){var i=$u,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Gu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Wu;u=Gu;var c=Wu;if(Gu=o,(Wu=s)&&!c)for($u=i;null!==$u;)s=(o=$u).child,22===o.tag&&null!==o.memoizedState?bs(i):null!==s?(s.return=o,$u=s):bs(i);for(;null!==a;)$u=a,ms(a,t,n),a=a.sibling;$u=i,Gu=u,Wu=c}ys(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$u=a):ys(e)}}function ys(e){for(;null!==$u;){var t=$u;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Wu||es(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Wu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ki(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ca(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ca(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(a(163))}Wu||512&t.flags&&ts(t)}catch(d){Ec(t,t.return,d)}}if(t===e){$u=null;break}if(null!==(n=t.sibling)){n.return=t.return,$u=n;break}$u=t.return}}function gs(e){for(;null!==$u;){var t=$u;if(t===e){$u=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$u=n;break}$u=t.return}}function bs(e){for(;null!==$u;){var t=$u;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{es(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{ts(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{ts(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){$u=null;break}var u=t.sibling;if(null!==u){u.return=t.return,$u=u;break}$u=t.return}}var ks,ws=Math.ceil,xs=k.ReactCurrentDispatcher,Es=k.ReactCurrentOwner,Ss=k.ReactCurrentBatchConfig,Is=0,Cs=null,_s=null,Ts=0,Ns=0,As=Si(0),Ds=0,Os=null,Ps=0,Ls=0,Rs=0,Ms=null,Fs=null,js=0,Vs=1/0,Bs=null,zs=!1,Us=null,qs=null,Ks=!1,Hs=null,Gs=0,Ws=0,Qs=null,$s=-1,Ys=0;function Xs(){return 0!==(6&Is)?Xe():-1!==$s?$s:$s=Xe()}function Js(e){return 0===(1&e.mode)?1:0!==(2&Is)&&0!==Ts?Ts&-Ts:null!==qi.transition?(0===Ys&&(Ys=pt()),Ys):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function Zs(e,t,n){if(50<Ws)throw Ws=0,Qs=null,Error(a(185));var r=ec(e,t);return null===r?null:(yt(r,t,n),0!==(2&Is)&&r===Cs||(r===Cs&&(0===(2&Is)&&(Ls|=t),4===Ds&&oc(r,Ts)),nc(r,n),1===t&&0===Is&&0===(1&e.mode)&&(Vs=Xe()+500,Vi&&Ui())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Cs||null!==ea)&&0!==(1&e.mode)&&0===(2&Is)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Cs?Ts:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(uc.bind(null,e)):zi(uc.bind(null,e)),oi((function(){0===Is&&Ui()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if($s=-1,Ys=0,0!==(6&Is))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Cs?Ts:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=pc(e,r);else{t=r;var i=Is;Is|=2;var o=dc();for(Cs===e&&Ts===t||(Bs=null,Vs=Xe()+500,fc(e,t));;)try{yc();break}catch(s){hc(e,s)}$i(),xs.current=o,Is=i,null!==_s?t=0:(Cs=null,Ts=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=vt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Os,fc(e,0),oc(e,r),nc(e,Xe()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=pc(e,r))&&(0!==(o=vt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Os,fc(e,0),oc(e,r),nc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:kc(e,Fs,Bs);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=js+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Xs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kc.bind(null,e,Fs,Bs),t);break}kc(e,Fs,Bs);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ws(r/1960))-r)){e.timeoutHandle=ri(kc.bind(null,e,Fs,Bs),r);break}kc(e,Fs,Bs);break;default:throw Error(a(329))}}}return nc(e,Xe()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Ms;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=pc(e,t))&&(t=Fs,Fs=n,null!==t&&ac(t)),e}function ac(e){null===Fs?Fs=e:Fs.push.apply(Fs,e)}function oc(e,t){for(t&=~Rs,t&=~Ls,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Is))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Xe()),null;var n=pc(e,t);if(0!==e.tag&&2===n){var r=vt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Os,fc(e,0),oc(e,t),nc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Fs,Bs),nc(e,Xe()),null}function sc(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(Vs=Xe()+500,Vi&&Ui())}}function cc(e){null!==Hs&&0===Hs.tag&&0===(6&Is)&&wc();var t=Is;Is|=1;var n=Ss.transition,r=bt;try{if(Ss.transition=null,bt=1,e)return e()}finally{bt=r,Ss.transition=n,0===(6&(Is=t))&&Ui()}}function lc(){Ns=As.current,Ii(As)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==_s)for(n=_s.return;null!==n;){var r=n;switch(Na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:eo(),Ii(Ni),Ii(Ti),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Ii(ro);break;case 10:Yi(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Cs=e,_s=e=Oc(e.current,null),Ts=Ns=t,Ds=0,Os=null,Rs=Ls=Ps=0,Fs=Ms=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function hc(e,t){for(;;){var n=_s;try{if($i(),uo.current=nu,vo){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}vo=!1}if(co=0,ho=fo=lo=null,po=!1,mo=0,Es.current=null,null===n||null===n.return){Ds=1,Os=t,_s=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ts,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=pu(u);if(null!==v){v.flags&=-257,mu(v,u,s,0,t),1&v.mode&&vu(o,l,t),c=l;var p=(t=v).updateQueue;if(null===p){var m=new Set;m.add(c),t.updateQueue=m}else p.add(c);break e}if(0===(1&t)){vu(o,l,t),vc();break e}c=Error(a(426))}else if(Oa&&1&s.mode){var y=pu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),mu(y,u,s,0,t),za(c);break e}}o=c,4!==Ds&&(Ds=2),null===Ms?Ms=[o]:Ms.push(o),c=ou(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ua(s,hu(0,c,t));break e;case 1:o=c;var g=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===qs||!qs.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,ua(s,du(s,o,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(k){t=k,_s===n&&null!==n&&(_s=n=n.return);continue}break}}function dc(){var e=xs.current;return xs.current=nu,null===e?nu:e}function vc(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===Cs||0===(268435455&Ps)&&0===(268435455&Ls)||oc(Cs,Ts)}function pc(e,t){var n=Is;Is|=2;var r=dc();for(Cs===e&&Ts===t||(Bs=null,fc(e,t));;)try{mc();break}catch(i){hc(e,i)}if($i(),Is=n,xs.current=r,null!==_s)throw Error(a(261));return Cs=null,Ts=0,Ds}function mc(){for(;null!==_s;)gc(_s)}function yc(){for(;null!==_s&&!$e();)gc(_s)}function gc(e){var t=ks(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,null===t?bc(e):_s=t,Es.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=bu(n,t,Ns)))return void(_s=n)}else{if(null!==(n=Hu(n,t)))return n.flags&=32767,void(_s=n);if(null===e)return Ds=6,void(_s=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(_s=t);_s=t=e}while(null!==t);0===Ds&&(Ds=5)}function kc(e,t,n){var r=bt,i=Ss.transition;try{Ss.transition=null,bt=1,function(e,t,n,r){do{wc()}while(null!==Hs);if(0!==(6&Is))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Cs&&(_s=Cs=null,Ts=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ks||(Ks=!0,Tc(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ss.transition,Ss.transition=null;var u=bt;bt=1;var s=Is;Is|=4,Es.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var v;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(v=h.firstChild);)d=h,h=v;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(v=h.nextSibling))break;d=(h=d).parentNode}h=v}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,$u=t;null!==$u;)if(e=(t=$u).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$u=e;else for(;null!==$u;){t=$u;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,y=p.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ki(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;if(1===k.nodeType)k.textContent="";else if(9===k.nodeType){var w=k.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){Ec(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$u=e;break}$u=t.return}p=Ju,Ju=!1}(e,n),ds(n,e),vr(ti),Kt=!!ei,ti=ei=null,e.current=n,ps(n,e,i),Ye(),Is=s,bt=u,Ss.transition=o}else e.current=n;if(Ks&&(Ks=!1,Hs=e,Gs=i),0===(o=e.pendingLanes)&&(qs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(zs)throw zs=!1,e=Us,Us=null,e;0!==(1&Gs)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===Qs?Ws++:(Ws=0,Qs=e):Ws=0,Ui()}(e,t,n,r)}finally{Ss.transition=i,bt=r}return null}function wc(){if(null!==Hs){var e=kt(Gs),t=Ss.transition,n=bt;try{if(Ss.transition=null,bt=16>e?16:e,null===Hs)var r=!1;else{if(e=Hs,Hs=null,Gs=0,0!==(6&Is))throw Error(a(331));var i=Is;for(Is|=4,$u=e.current;null!==$u;){var o=$u,u=o.child;if(0!==(16&$u.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for($u=l;null!==$u;){var f=$u;switch(f.tag){case 0:case 11:case 15:Zu(8,f,o)}var h=f.child;if(null!==h)h.return=f,$u=h;else for(;null!==$u;){var d=(f=$u).sibling,v=f.return;if(ns(f),f===l){$u=null;break}if(null!==d){d.return=v,$u=d;break}$u=v}}}var p=o.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$u=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,$u=u;else e:for(;null!==$u;){if(0!==(2048&(o=$u).flags))switch(o.tag){case 0:case 11:case 15:Zu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$u=g;break e}$u=o.return}}var b=e.current;for($u=b;null!==$u;){var k=(u=$u).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,$u=k;else e:for(u=b;null!==$u;){if(0!==(2048&(s=$u).flags))try{switch(s.tag){case 0:case 11:case 15:es(9,s)}}catch(x){Ec(s,s.return,x)}if(s===u){$u=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,$u=w;break e}$u=s.return}}if(Is=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ss.transition=t}}return!1}function xc(e,t,n){aa(e,t=hu(0,t=ou(n,t),1)),t=Xs(),null!==(e=ec(e,1))&&(yt(e,1,t),nc(e,t))}function Ec(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r))){aa(t,e=du(t,e=ou(n,e),1)),e=Xs(),null!==(t=ec(t,1))&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xs(),e.pingedLanes|=e.suspendedLanes&n,Cs===e&&(Ts&n)===n&&(4===Ds||3===Ds&&(130023424&Ts)===Ts&&500>Xe()-js?fc(e,0):Rs|=n),nc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Xs();null!==(e=ec(e,t))&&(yt(e,t,n),nc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Tc(e,t){return We(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Nc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Lc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=Ac(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Ac(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Ac(19,n,t,i)).elementType=A,e.lanes=o,e;case P:return Rc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:u=10;break e;case _:u=9;break e;case T:u=11;break e;case D:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={},e}function Mc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return _i;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Ri(e,n,t)}return t}function Uc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=ia(r=Xs(),i=Js(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,yt(e,i,r),nc(e,r),e}function qc(e,t,n,r){var i=t.current,a=Xs(),o=Js(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Zs(i,o,a))&&oa(e,i,o),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}ks=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wu=!1,function(e,t,n){switch(t.tag){case 3:Du(t),Ba();break;case 5:to(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(Hi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Ci(ro,1&ro.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ci(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Cu(e,t,n)}return Ku(e,t,n)}(e,t,n);wu=0!==(131072&e.flags)}else wu=!1,Oa&&0!==(1048576&t.flags)&&_a(t,ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Di(t,Ti.current);Ji(t,n),i=ko(null,t,r,e,i,n);var o=wo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,ma(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,Oa&&o&&Ta(t),xu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===D)return 14}return 2}(r),e=Ki(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Nu(null,t,r,e,n);break e;case 11:t=Eu(null,t,r,e,n);break e;case 14:t=Su(null,t,r,Ki(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,Nu(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:e:{if(Du(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),sa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Ou(e,t,r,n,i=Error(a(424)));break e}for(Da=ci(t.stateNode.containerInfo.firstChild),Aa=t,Oa=!0,Pa=null,n=Wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ba(),r===i){t=Ku(e,t,n);break e}xu(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Fa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),_u(e,t),xu(e,t,u,n),t.child;case 6:return null===e&&Fa(t),null;case 13:return Mu(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ga(t,null,r,n):xu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Eu(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return xu(e,t,t.pendingProps,n),t.child;case 8:case 12:return xu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ci(Hi,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ia(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Xi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Xi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}xu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ji(t,n),r=r(i=Zi(i)),t.flags|=1,xu(e,t,r,n),t.child;case 14:return i=Ki(r=t.type,t.pendingProps),Su(e,t,r,i=Ki(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ji(t,n),va(t,r,i),ma(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Cu(e,t,n)}throw Error(a(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=Uc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[vi]=o.current,Ur(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[vi]=s.current,Ur(8===e.nodeType?e.parentNode:e),cc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){qc(null,e,null,null)})),t[vi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),nc(t,Xe()),0===(6&Is)&&(Vs=Xe()+500,Ui()))}break;case 13:var r=Xs();cc((function(){return Zs(e,1,r)})),Gc(e,1)}},xt=function(e){13===e.tag&&(Zs(e,134217728,Xs()),Gc(e,134217728))},Et=function(e){if(13===e.tag){var t=Xs(),n=Js(e);Zs(e,n,t),Gc(e,n)}},St=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=sc,Ne=cc;var el={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ce,_e,sc]},tl={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[vi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,i,0,o,u),e[vi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(cc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[vi]=null}))})),!0)},t.unstable_batchedUpdates=sc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},250:function(e,t,n){"use strict";var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,p(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+T(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+T(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},L={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,v=!1,p=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!p)if(null!==r(c))p=!0,P(x);else{var t=r(l);null!==t&&L(w,t.startTime-e)}}function x(e,n){p=!1,m&&(m=!1,g(C),C=-1),v=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&L(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,v=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,I=null,C=-1,_=5,T=-1;function N(){return!(t.unstable_now()-T<_)}function A(){if(null!==I){var e=t.unstable_now();T=e;var n=!0;try{n=I(!0,e)}finally{n?E():(S=!1,I=null)}}else S=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,O=D.port2;D.port1.onmessage=A,E=function(){O.postMessage(null)}}else E=function(){y(A,0)};function P(e){I=e,S||(S=!0,E())}function L(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||v||(p=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(C),C=-1):m=!0,L(w,a-o))):(e.sortIndex=u,n(c,e),p||v||(p=!0,P(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ie},SDK_VERSION:function(){return Nt},_DEFAULT_ENTRY_NAME:function(){return mt},_addComponent:function(){return kt},_addOrOverwriteComponent:function(){return wt},_apps:function(){return gt},_clearComponents:function(){return It},_components:function(){return bt},_getProvider:function(){return Et},_registerComponent:function(){return xt},_removeServiceInstance:function(){return St},deleteApp:function(){return Pt},getApp:function(){return Dt},getApps:function(){return Ot},initializeApp:function(){return At},onLog:function(){return Mt},registerVersion:function(){return Rt},setLogLevel:function(){return Ft}});var t=n(250);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o,u=n(791);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(o||(o={}));var c=function(e){return e};var l="beforeunload",f="popstate";function h(e){e.preventDefault(),e.returnValue=""}function d(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function v(){return Math.random().toString(36).substr(2,8)}function p(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function m(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var y=(0,u.createContext)(null);var g=(0,u.createContext)(null);var b=(0,u.createContext)({outlet:null,matches:[]});function k(e,t){if(!e)throw new Error(t)}function w(e,t,n){void 0===n&&(n="/");var r=N(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;var i=x(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=C(i[o],r);return a}function x(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||k(!1),a.relativePath=a.relativePath.slice(r.length));var o=A([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&k(!1),x(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:I(o,e.index),routesMeta:u})})),t}var E=/^:\w+$/,S=function(e){return"*"===e};function I(e,t){var n=e.split("/"),r=n.length;return n.some(S)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!S(e)})).reduce((function(e,t){return e+(E.test(t)?3:""===t?1:10)}),r)}function C(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=_({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:A([i,l.pathname]),pathnameBase:D(A([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=A([i,l.pathnameBase]))}return a}function _(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=a(n,2),i=r[0],o=r[1],u=t.match(i);if(!u)return null;var s=u[0],c=s.replace(/(.)\/+$/,"$1"),l=u.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function T(e,t,n){var r,i="string"===typeof e?m(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?m(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:O(a),hash:P(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var A=function(e){return e.join("/").replace(/\/\/+/g,"/")},D=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},O=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},P=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function L(e){R()||k(!1);var t=(0,u.useContext)(y),n=t.basename,r=t.navigator,i=j(e),a=i.hash,o=i.pathname,s=i.search,c=o;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?m(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===o?n+(f?"/":""):A([n,o])}return r.createHref({pathname:c,search:s,hash:a})}function R(){return null!=(0,u.useContext)(g)}function M(){return R()||k(!1),(0,u.useContext)(g).location}function F(){R()||k(!1);var e=(0,u.useContext)(y),t=e.basename,n=e.navigator,r=(0,u.useContext)(b).matches,i=M().pathname,a=JSON.stringify(r.map((function(e){return e.pathnameBase}))),o=(0,u.useRef)(!1);(0,u.useEffect)((function(){o.current=!0}));var s=(0,u.useCallback)((function(e,r){if(void 0===r&&(r={}),o.current)if("number"!==typeof e){var u=T(e,JSON.parse(a),i);"/"!==t&&(u.pathname=A([t,u.pathname])),(r.replace?n.replace:n.push)(u,r.state)}else n.go(e)}),[t,n,a,i]);return s}function j(e){var t=(0,u.useContext)(b).matches,n=M().pathname,r=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,u.useMemo)((function(){return T(e,JSON.parse(r),n)}),[e,r,n])}function V(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,i){return(0,u.createElement)(b.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,i+1))}})}),null)}function B(e){k(!1)}function z(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,a=e.location,s=e.navigationType,c=void 0===s?o.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;R()&&k(!1);var d=D(n),v=(0,u.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof a&&(a=m(a));var p=a,b=p.pathname,w=void 0===b?"/":b,x=p.search,E=void 0===x?"":x,S=p.hash,I=void 0===S?"":S,C=p.state,_=void 0===C?null:C,T=p.key,A=void 0===T?"default":T,O=(0,u.useMemo)((function(){var e=N(w,d);return null==e?null:{pathname:e,search:E,hash:I,state:_,key:A}}),[d,w,E,I,_,A]);return null==O?null:(0,u.createElement)(y.Provider,{value:v},(0,u.createElement)(g.Provider,{children:i,value:{location:O,navigationType:c}}))}function U(e){var t=e.children,n=e.location;return function(e,t){R()||k(!1);var n,r=(0,u.useContext)(b).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/"),s=(i&&i.route,M());if(t){var c,l="string"===typeof t?m(t):t;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||k(!1),n=l}else n=s;var f=n.pathname||"/",h=w(e,{pathname:"/"===o?f:f.slice(o.length)||"/"});return V(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:A([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:A([o,e.pathnameBase])})})),r)}(q(t),n)}function q(e){var t=[];return u.Children.forEach(e,(function(e){if((0,u.isValidElement)(e))if(e.type!==u.Fragment){e.type!==B&&k(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=q(e.props.children)),t.push(n)}else t.push.apply(t,q(e.props.children))})),t}function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var G=["onClick","reloadDocument","replace","state","target","to"];function W(e){var t=e.basename,n=e.children,r=e.window,i=(0,u.useRef)();null==i.current&&(i.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,o=r.state||{};return[o.idx,c({pathname:t,search:i,hash:a,state:o.usr||null,key:o.key||"default"})]}var a=null;n.addEventListener(f,(function(){if(a)w.call(a),a=null;else{var e=o.Pop,t=i(),n=t[0],r=t[1];if(w.length){if(null!=n){var u=g-n;u&&(a={action:e,location:r,retry:function(){_(-1*u)}},_(u))}}else C(e)}}));var u=o.Pop,y=i(),g=y[0],b=y[1],k=d(),w=d();function x(e){return"string"===typeof e?e:p(e)}function E(e,t){return void 0===t&&(t=null),c(s({pathname:b.pathname,hash:"",search:""},"string"===typeof e?m(e):e,{state:t,key:v()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function I(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function C(e){u=e;var t=i();g=t[0],b=t[1],k.call({action:u,location:b})}function _(e){r.go(e)}null==g&&(g=0,r.replaceState(s({},r.state,{idx:g}),""));var T={get action(){return u},get location(){return b},createHref:x,push:function e(t,i){var a=o.Push,u=E(t,i);if(I(a,u,(function(){e(t,i)}))){var s=S(u,g+1),c=s[0],l=s[1];try{r.pushState(c,"",l)}catch(f){n.location.assign(l)}C(a)}},replace:function e(t,n){var i=o.Replace,a=E(t,n);if(I(i,a,(function(){e(t,n)}))){var u=S(a,g),s=u[0],c=u[1];r.replaceState(s,"",c),C(i)}},go:_,back:function(){_(-1)},forward:function(){_(1)},listen:function(e){return k.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&n.addEventListener(l,h),function(){t(),w.length||n.removeEventListener(l,h)}}};return T}({window:r}));var y=i.current,g=a((0,u.useState)({action:y.action,location:y.location}),2),b=g[0],k=g[1];return(0,u.useLayoutEffect)((function(){return y.listen(k)}),[y]),(0,u.createElement)(z,{basename:t,children:n,location:b.location,navigationType:b.action,navigator:y})}var Q=(0,u.forwardRef)((function(e,t){var n=e.onClick,r=e.reloadDocument,i=e.replace,a=void 0!==i&&i,o=e.state,s=e.target,c=e.to,l=H(e,G),f=L(c),h=function(e,t){var n=void 0===t?{}:t,r=n.target,i=n.replace,a=n.state,o=F(),s=M(),c=j(e);return(0,u.useCallback)((function(t){if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!i||p(s)===p(c);o(e,{replace:n,state:a})}}),[s,o,c,i,a,r,e])}(c,{replace:a,state:o,target:s});return(0,u.createElement)("a",K({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||r||h(e)},ref:t,target:s}))}));function $(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function X(){X=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(C){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var v={};u(v,i,(function(){return this}));var p=Object.getPrototypeOf,m=p&&p(p(S([])));m&&m!==t&&n.call(m,i)&&(v=m);var y=d.prototype=f.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Y(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function J(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){J(a,r,i,o,u,"next",e)}function u(e){J(a,r,i,o,u,"throw",e)}o(void 0)}))}}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t,n){return t&&ie(e.prototype,t),n&&ie(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e,t){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},se(e,t)}function ce(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},le(e)}function fe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function he(e,t){if(t&&("object"===Y(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ue(e)}function de(e){var t=fe();return function(){var n,r=le(e);if(t){var i=le(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return he(this,n)}}function ve(e,t,n){return ve=fe()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&se(i,n.prototype),i},ve.apply(null,arguments)}function pe(e){var t="function"===typeof Map?new Map:void 0;return pe=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ve(e,arguments,le(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),se(n,e)},pe(e)}var me=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(me(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ge=function(e){return function(e){var t=me(e);return ye.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function be(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=be(e[n],t[n]));return e}var ke=function(){function e(){var t=this;re(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ae(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function we(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(a)),""].join(".")}function xe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){return"object"===typeof indexedDB}var Ie=function(e){ce(n,e);var t=de(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ue(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ue(a),Ce.prototype.create),a}return ae(n)}(pe(Error)),Ce=function(){function e(t,n,r){re(this,e),this.service=t,this.serviceName=n,this.errors=r}return ae(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?_e(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ie(n,a,t);return o}}]),e}();function _e(e,t){return e.replace(Te,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Te=/\{\$([^}]+)}/g;function Ne(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ae(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(De(u)&&De(s)){if(!Ae(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function De(e){return null!==e&&"object"===typeof e}function Oe(e,t){var n=new Pe(e,t);return n.subscribe.bind(n)}var Pe=function(){function e(t,n){var r=this;re(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ae(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=oe(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Le),void 0===r.error&&(r.error=Le),void 0===r.complete&&(r.complete=Le);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Le(){}function Re(e){return e&&e._delegate?e._delegate:e}var Me=function(){function e(t,n,r){re(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ae(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Fe="[DEFAULT]",je=function(){function e(t,n){re(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ae(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ke;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fe})}catch(c){}var t,n=oe(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=a(t.value,2),i=r[0],o=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Z(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat($(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),$(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=oe(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=a(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(o)}}catch(h){u.e(h)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=oe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Am){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Fe?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Am){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe;return this.component?this.component.multipleInstances?e:Fe:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ve,Be,ze=function(){function e(t){re(this,e),this.name=t,this.providers=new Map}return ae(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new je(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ue=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Be||(Be={}));var qe={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},Ke=Be.INFO,He=(ee(Ve={},Be.DEBUG,"log"),ee(Ve,Be.VERBOSE,"log"),ee(Ve,Be.INFO,"info"),ee(Ve,Be.WARN,"warn"),ee(Ve,Be.ERROR,"error"),Ve),Ge=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=He[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},We=function(){function e(t){re(this,e),this.name=t,this._logLevel=Ke,this._logHandler=Ge,this._userLogHandler=null,Ue.push(this)}return ae(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Be))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?qe[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Be.DEBUG].concat(t)),this._logHandler.apply(this,[this,Be.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Be.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Be.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Be.INFO].concat(t)),this._logHandler.apply(this,[this,Be.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Be.WARN].concat(t)),this._logHandler.apply(this,[this,Be.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Be.ERROR].concat(t)),this._logHandler.apply(this,[this,Be.ERROR].concat(t))}}]),e}();var Qe,$e;var Ye=new WeakMap,Xe=new WeakMap,Je=new WeakMap,Ze=new WeakMap,et=new WeakMap;var tt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Xe.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Je.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return it(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function nt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?($e||($e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(at(this),n),it(Ye.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return it(e.apply(at(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[at(this),t].concat(r));return Je.set(a,t.sort?t.sort():[t]),it(a)}}function rt(e){return"function"===typeof e?nt(e):(e instanceof IDBTransaction&&function(e){if(!Xe.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Xe.set(e,t)}}(e),t=e,(Qe||(Qe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,tt):e);var t}function it(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(it(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ye.set(t,e)})).catch((function(){})),et.set(t,e),t}(e);if(Ze.has(e))return Ze.get(e);var t=rt(e);return t!==e&&(Ze.set(e,t),et.set(t,e)),t}var at=function(e){return et.get(e)};var ot,ut,st=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],lt=new Map;function ft(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(lt.get(t))return lt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ct.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||st.includes(n))){var a=function(){var e=Z(X().mark((function e(t){var a,o,u,s,c,l,f=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return lt.set(t,a),a}}}tt=function(e){return ne(ne({},e),{},{get:function(t,n,r){return ft(t,n)||e.get(t,n,r)},has:function(t,n){return!!ft(t,n)||e.has(t,n)}})}(tt);var ht=function(){function e(t){re(this,e),this.container=t}return ae(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var dt="@firebase/app",vt="0.7.26",pt=new We("@firebase/app"),mt="[DEFAULT]",yt=(ee(ot={},dt,"fire-core"),ee(ot,"@firebase/app-compat","fire-core-compat"),ee(ot,"@firebase/analytics","fire-analytics"),ee(ot,"@firebase/analytics-compat","fire-analytics-compat"),ee(ot,"@firebase/app-check","fire-app-check"),ee(ot,"@firebase/app-check-compat","fire-app-check-compat"),ee(ot,"@firebase/auth","fire-auth"),ee(ot,"@firebase/auth-compat","fire-auth-compat"),ee(ot,"@firebase/database","fire-rtdb"),ee(ot,"@firebase/database-compat","fire-rtdb-compat"),ee(ot,"@firebase/functions","fire-fn"),ee(ot,"@firebase/functions-compat","fire-fn-compat"),ee(ot,"@firebase/installations","fire-iid"),ee(ot,"@firebase/installations-compat","fire-iid-compat"),ee(ot,"@firebase/messaging","fire-fcm"),ee(ot,"@firebase/messaging-compat","fire-fcm-compat"),ee(ot,"@firebase/performance","fire-perf"),ee(ot,"@firebase/performance-compat","fire-perf-compat"),ee(ot,"@firebase/remote-config","fire-rc"),ee(ot,"@firebase/remote-config-compat","fire-rc-compat"),ee(ot,"@firebase/storage","fire-gcs"),ee(ot,"@firebase/storage-compat","fire-gcs-compat"),ee(ot,"@firebase/firestore","fire-fst"),ee(ot,"@firebase/firestore-compat","fire-fst-compat"),ee(ot,"fire-js","fire-js"),ee(ot,"firebase","fire-js-all"),ot),gt=new Map,bt=new Map;function kt(e,t){try{e.container.addComponent(t)}catch(n){pt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function wt(e,t){e.container.addOrOverwriteComponent(t)}function xt(e){var t=e.name;if(bt.has(t))return pt.debug("There were multiple attempts to register component ".concat(t,".")),!1;bt.set(t,e);var n,r=oe(gt.values());try{for(r.s();!(n=r.n()).done;){kt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Et(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function St(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mt;Et(e,t).clearInstance(n)}function It(){bt.clear()}var Ct=(ee(ut={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ee(ut,"bad-app-name","Illegal App name: '{$appName}"),ee(ut,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ee(ut,"app-deleted","Firebase App named '{$appName}' already deleted"),ee(ut,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ee(ut,"invalid-log-argument","First argument to `onLog` must be null or a function."),ee(ut,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),ee(ut,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),ee(ut,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),ee(ut,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),ut),_t=new Ce("app","Firebase",Ct),Tt=function(){function e(t,n,r){var i=this;re(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Me("app",(function(){return i}),"PUBLIC"))}return ae(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw _t.create("app-deleted",{appName:this._name})}}]),e}(),Nt="9.8.3";function At(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:mt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw _t.create("bad-app-name",{appName:String(i)});var a=gt.get(i);if(a){if(Ae(e,a.options)&&Ae(r,a.config))return a;throw _t.create("duplicate-app",{appName:i})}var o,u=new ze(i),s=oe(bt.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Tt(e,r,u);return gt.set(i,l),l}function Dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=gt.get(e);if(!t)throw _t.create("no-app",{appName:e});return t}function Ot(){return Array.from(gt.values())}function Pt(e){return Lt.apply(this,arguments)}function Lt(){return(Lt=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!gt.has(n)){e.next=6;break}return gt.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rt(e,t,n){var r,i=null!==(r=yt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void pt.warn(u.join(" "))}xt(new Me("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Mt(e,t){if(null!==e&&"function"!==typeof e)throw _t.create("invalid-log-argument");!function(e,t){var n,r=oe(Ue);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=qe[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Be[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ft(e){var t;t=e,Ue.forEach((function(e){e.setLogLevel(t)}))}var jt="firebase-heartbeat-store",Vt=null;function Bt(){return Vt||(Vt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=it(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(it(u.result),e.oldVersion,e.newVersion,it(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(jt)}}).catch((function(e){throw _t.create("storage-open",{originalErrorMessage:e.message})}))),Vt}function zt(e){return Ut.apply(this,arguments)}function Ut(){return Ut=Z(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bt();case 3:return r=e.sent,e.abrupt("return",r.transaction(jt).objectStore(jt).get(Ht(t)));case 7:throw e.prev=7,e.t0=e.catch(0),_t.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ut.apply(this,arguments)}function qt(e,t){return Kt.apply(this,arguments)}function Kt(){return Kt=Z(X().mark((function e(t,n){var r,i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bt();case 3:return i=e.sent,a=i.transaction(jt,"readwrite"),o=a.objectStore(jt),e.next=8,o.put(n,Ht(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),_t.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Kt.apply(this,arguments)}function Ht(e){return"".concat(e.name,"!").concat(e.options.appId)}var Gt=function(){function e(t){var n=this;re(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Xt(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ae(e,[{key:"triggerHeartbeat",value:function(){var e=Z(X().mark((function e(){var t,n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Wt(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Z(X().mark((function e(){var t,n,r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Wt(),n=Qt(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ge(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Wt(){return(new Date).toISOString().substring(0,10)}function Qt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=oe(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Jt(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Jt(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var $t,Yt,Xt=function(){function e(t){re(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ae(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Se()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Z(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,zt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Z(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",qt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Z(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",qt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat($(r.heartbeats),$(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Jt(e){return ge(JSON.stringify({version:2,heartbeats:e})).length}$t="",xt(new Me("platform-logger",(function(e){return new ht(e)}),"PRIVATE")),xt(new Me("heartbeat",(function(e){return new Gt(e)}),"PRIVATE")),Rt(dt,vt,$t),Rt(dt,vt,"esm2017"),Rt("fire-js","");var Zt=function(){function e(t,n){var r=this;re(this,e),this._delegate=t,this.firebase=n,kt(t,new Me("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return ae(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Pt(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){kt(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){wt(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),en=(ee(Yt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ee(Yt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Yt),tn=new Ce("app-compat","Firebase",en);var nn=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=At(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ne(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Rt,setLogLevel:Ft,onLog:Mt,apps:null,SDK_VERSION:Nt,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(xt(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw tn.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&be(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ne(n,e=e||mt))throw tn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Zt);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){be(n,e)},createSubscribe:Oe,ErrorFactory:Ce,deepExtend:be}),n}(),rn=new We("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){rn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var an=self.firebase.SDK_VERSION;an&&an.indexOf("LITE")>=0&&rn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var on=nn;!function(e){Rt("@firebase/app-compat","0.1.27",e)}();function un(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=le(e)););return e}function sn(){return sn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=un(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},sn.apply(this,arguments)}on.registerVersion("firebase","9.8.3","app-compat");var cn,ln="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},fn={},hn=hn||{},dn=ln||self;function vn(){}function pn(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function mn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var yn="closure_uid_"+(1e9*Math.random()>>>0),gn=0;function bn(e,t,n){return e.call.apply(e.bind,arguments)}function kn(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function wn(e,t,n){return(wn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bn:kn).apply(null,arguments)}function xn(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function En(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Sn(){this.s=this.s,this.o=this.o}var In={};Sn.prototype.s=!1,Sn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,yn)&&e[yn]||(e[yn]=++gn)}(this);delete In[e]}},Sn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Cn=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},_n=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Tn(e){return Array.prototype.concat.apply([],arguments)}function Nn(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function An(e){return/^[\s\xa0]*$/.test(e)}var Dn,On=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Pn(e,t){return-1!=e.indexOf(t)}function Ln(e,t){return e<t?-1:e>t?1:0}e:{var Rn=dn.navigator;if(Rn){var Mn=Rn.userAgent;if(Mn){Dn=Mn;break e}}Dn=""}function Fn(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function jn(e){var t={};for(var n in e)t[n]=e[n];return t}var Vn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bn(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Vn.length;a++)n=Vn[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function zn(e){return zn[" "](e),e}zn[" "]=vn;var Un,qn=Pn(Dn,"Opera"),Kn=Pn(Dn,"Trident")||Pn(Dn,"MSIE"),Hn=Pn(Dn,"Edge"),Gn=Hn||Kn,Wn=Pn(Dn,"Gecko")&&!(Pn(Dn.toLowerCase(),"webkit")&&!Pn(Dn,"Edge"))&&!(Pn(Dn,"Trident")||Pn(Dn,"MSIE"))&&!Pn(Dn,"Edge"),Qn=Pn(Dn.toLowerCase(),"webkit")&&!Pn(Dn,"Edge");function $n(){var e=dn.document;return e?e.documentMode:void 0}e:{var Yn="",Xn=function(){var e=Dn;return Wn?/rv:([^\);]+)(\)|;)/.exec(e):Hn?/Edge\/([\d\.]+)/.exec(e):Kn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Qn?/WebKit\/(\S+)/.exec(e):qn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Xn&&(Yn=Xn?Xn[1]:""),Kn){var Jn=$n();if(null!=Jn&&Jn>parseFloat(Yn)){Un=String(Jn);break e}}Un=Yn}var Zn,er={};function tr(){return function(e){var t=er;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=On(String(Un)).split("."),n=On("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ln(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ln(0==a[2].length,0==o[2].length)||Ln(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(dn.document&&Kn){var nr=$n();Zn=nr||(parseInt(Un,10)||void 0)}else Zn=void 0;var rr=Zn,ir=function(){if(!dn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{dn.addEventListener("test",vn,t),dn.removeEventListener("test",vn,t)}catch(n){}return e}();function ar(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function or(e,t){if(ar.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Wn){e:{try{zn(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ur[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&or.Z.h.call(this)}}ar.prototype.h=function(){this.defaultPrevented=!0},En(or,ar);var ur={2:"touch",3:"pen",4:"mouse"};or.prototype.h=function(){or.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var sr="closure_listenable_"+(1e6*Math.random()|0),cr=0;function lr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++cr,this.ca=this.fa=!1}function fr(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function hr(e){this.src=e,this.g={},this.h=0}function dr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Cn(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(fr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function vr(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}hr.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=vr(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new lr(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var pr="closure_lm_"+(1e6*Math.random()|0),mr={};function yr(e,t,n,r,i){if(r&&r.once)return br(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)yr(e,t[a],n,r,i);return null}return n=Cr(n),e&&e[sr]?e.N(t,n,mn(r)?!!r.capture:!!r,i):gr(e,t,n,!1,r,i)}function gr(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=mn(i)?!!i.capture:!!i,u=Sr(e);if(u||(e[pr]=u=new hr(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Er;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ir||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(xr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function br(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)br(e,t[a],n,r,i);return null}return n=Cr(n),e&&e[sr]?e.O(t,n,mn(r)?!!r.capture:!!r,i):gr(e,t,n,!0,r,i)}function kr(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)kr(e,t[a],n,r,i);else r=mn(r)?!!r.capture:!!r,n=Cr(n),e&&e[sr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=vr(a=e.g[t],n,r,i))&&(fr(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Sr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=vr(t,n,r,i)),(n=-1<e?t[e]:null)&&wr(n))}function wr(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[sr])dr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(xr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Sr(t))?(dr(n,e),0==n.h&&(n.src=null,t[pr]=null)):fr(e)}}}function xr(e){return e in mr?mr[e]:mr[e]="on"+e}function Er(e,t){if(e.ca)e=!0;else{t=new or(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&wr(e),e=n.call(r,t)}return e}function Sr(e){return(e=e[pr])instanceof hr?e:null}var Ir="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cr(e){return"function"===typeof e?e:(e[Ir]||(e[Ir]=function(t){return e.handleEvent(t)}),e[Ir])}function _r(){Sn.call(this),this.i=new hr(this),this.P=this,this.I=null}function Tr(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ar(t,e);else if(t instanceof ar)t.target=t.target||e;else{var i=t;Bn(t=new ar(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Nr(o,r,!0,t)&&i}if(i=Nr(o=t.g=e,r,!0,t)&&i,i=Nr(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Nr(o=t.g=n[a],r,!1,t)&&i}function Nr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&dr(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}En(_r,Sn),_r.prototype[sr]=!0,_r.prototype.removeEventListener=function(e,t,n,r){kr(this,e,t,n,r)},_r.prototype.M=function(){if(_r.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)fr(n[r]);delete t.g[e],t.h--}}this.I=null},_r.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},_r.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ar=dn.JSON.stringify;function Dr(){var e=Vr,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Or,Pr=function(){function e(){re(this,e),this.h=this.g=null}return ae(e,[{key:"add",value:function(e,t){var n=Lr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Lr=new(function(){function e(t,n){re(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ae(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Rr}),(function(e){return e.reset()})),Rr=function(){function e(){re(this,e),this.next=this.g=this.h=null}return ae(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Mr(e){dn.setTimeout((function(){throw e}),0)}function Fr(e,t){Or||function(){var e=dn.Promise.resolve(void 0);Or=function(){e.then(Br)}}(),jr||(Or(),jr=!0),Vr.add(e,t)}var jr=!1,Vr=new Pr;function Br(){for(var e;e=Dr();){try{e.h.call(e.g)}catch(n){Mr(n)}var t=Lr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}jr=!1}function zr(e,t){_r.call(this),this.h=e||1,this.g=t||dn,this.j=wn(this.kb,this),this.l=Date.now()}function Ur(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function qr(e,t,n){if("function"===typeof e)n&&(e=wn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=wn(e.handleEvent,e)}return 2147483647<Number(t)?-1:dn.setTimeout(e,t||0)}function Kr(e){e.g=qr((function(){e.g=null,e.i&&(e.i=!1,Kr(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}En(zr,_r),(cn=zr.prototype).da=!1,cn.S=null,cn.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Tr(this,"tick"),this.da&&(Ur(this),this.start()))}},cn.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},cn.M=function(){zr.Z.M.call(this),Ur(this),delete this.g};var Hr=function(e){ce(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ae(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Kr(this)}},{key:"M",value:function(){sn(le(n.prototype),"M",this).call(this),this.g&&(dn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Sn);function Gr(e){Sn.call(this),this.h=e,this.g={}}En(Gr,Sn);var Wr=[];function Qr(e,t,n,r){Array.isArray(n)||(n&&(Wr[0]=n.toString()),n=Wr);for(var i=0;i<n.length;i++){var a=yr(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function $r(e){Fn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&wr(e)}),e),e.g={}}function Yr(){this.g=!0}function Xr(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ar(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Gr.prototype.M=function(){Gr.Z.M.call(this),$r(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yr.prototype.Aa=function(){this.g=!1},Yr.prototype.info=function(){};var Jr={},Zr=null;function ei(){return Zr=Zr||new _r}function ti(e){ar.call(this,Jr.Ma,e)}function ni(e){var t=ei();Tr(t,new ti(t,e))}function ri(e,t){ar.call(this,Jr.STAT_EVENT,e),this.stat=t}function ii(e){var t=ei();Tr(t,new ri(t,e))}function ai(e,t){ar.call(this,Jr.Na,e),this.size=t}function oi(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return dn.setTimeout((function(){e()}),t)}Jr.Ma="serverreachability",En(ti,ar),Jr.STAT_EVENT="statevent",En(ri,ar),Jr.Na="timingevent",En(ai,ar);var ui={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},si={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ci(){}function li(e){return e.h||(e.h=e.i())}function fi(){}ci.prototype.h=null;var hi,di={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function vi(){ar.call(this,"d")}function pi(){ar.call(this,"c")}function mi(){}function yi(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Gr(this),this.P=bi,e=Gn?125:void 0,this.W=new zr(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gi}function gi(){this.i=null,this.g="",this.h=!1}En(vi,ar),En(pi,ar),En(mi,ci),mi.prototype.g=function(){return new XMLHttpRequest},mi.prototype.i=function(){return{}},hi=new mi;var bi=45e3,ki={},wi={};function xi(e,t,n){e.K=1,e.v=Hi(Vi(t)),e.s=n,e.U=!0,Ei(e,null)}function Ei(e,t){e.F=Date.now(),_i(e),e.A=Vi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ia(n.h,"t",r),e.C=0,n=e.l.H,e.h=new gi,e.g=oo(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Hr(wn(e.Ia,e,e.g),e.O)),Qr(e.V,e.g,"readystatechange",e.gb),t=e.H?jn(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ni(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Si(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ii(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ci(e,n))==wi){4==t&&(e.o=4,ii(14),i=!1),Xr(e.j,e.m,null,"[Incomplete Response]");break}if(r==ki){e.o=4,ii(15),Xr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Xr(e.j,e.m,r,null),Oi(e,r)}Si(e)&&r!=wi&&r!=ki&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ii(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ja(t),t.L=!0,ii(11))):(Xr(e.j,e.m,n,"[Invalid Chunked Response]"),Di(e),Ai(e))}function Ci(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?wi:(n=Number(t.substring(n,r)),isNaN(n)?ki:(r+=1)+n>t.length?wi:(t=t.substr(r,n),e.C=r+n,t))}function _i(e){e.Y=Date.now()+e.P,Ti(e,e.P)}function Ti(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=oi(wn(e.eb,e),t)}function Ni(e){e.B&&(dn.clearTimeout(e.B),e.B=null)}function Ai(e){0==e.l.G||e.I||to(e.l,e)}function Di(e){Ni(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ur(e.W),$r(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Oi(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ha(n.i,e)))if(n.I=e.N,!e.J&&ha(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;eo(n),qa(n)}Xa(n),ii(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=oi(wn(n.ab,n),6e3));if(1>=fa(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else ro(n,11)}else if((e.J||n.g==e)&&eo(n),!An(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Pn(l,"spdy")||Pn(l,"quic")||Pn(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(da(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Ki(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ao(r,r.H?r.la:null,r.W),d.J){va(r.i,d);var v=d,p=r.K;p&&v.setTimeout(p),v.B&&(Ni(v),_i(v)),r.g=d}else Ya(r);0<n.l.length&&Ga(n)}else"stop"!=a[0]&&"close"!=a[0]||ro(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ro(n,7):Ua(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}ni(4)}catch(a){}}function Pi(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(pn(e)||"string"===typeof e)_n(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(pn(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(pn(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Li(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Li)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ri(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Mi(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Mi(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Mi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(cn=yi.prototype).setTimeout=function(e){this.P=e},cn.gb=function(e){e=e.target;var t=this.L;t&&3==Fa(e)?t.l():this.Ia(e)},cn.Ia=function(e){try{if(e==this.g)e:{var t=Fa(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Gn||this.g&&(this.h.h||this.g.ga()||ja(this.g)))){this.I||4!=t||7==n||ni(8==n||0>=r?3:2),Ni(this);var i=this.g.ba();this.N=i;t:if(Si(this)){var a=ja(this.g);e="";var o=a.length,u=4==Fa(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Di(this),Ai(this);var s="";break t}this.h.i=new dn.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!An(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ii(12),Di(this),Ai(this);break e}Xr(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Oi(this,i)}this.U?(Ii(this,t,s),Gn&&this.i&&3==t&&(Qr(this.V,this.W,"tick",this.fb),this.W.start())):(Xr(this.j,this.m,s,null),Oi(this,s)),4==t&&Di(this),this.i&&!this.I&&(4==t?to(this.l,this):(this.i=!1,_i(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,ii(12)):(this.o=0,ii(13)),Di(this),Ai(this)}}}catch(t){}},cn.fb=function(){if(this.g){var e=Fa(this.g),t=this.g.ga();this.C<t.length&&(Ni(this),Ii(this,e,t),this.i&&4!=e&&_i(this))}},cn.cancel=function(){this.I=!0,Di(this)},cn.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ni(3),ii(17)),Di(this),this.o=2,Ai(this)):Ti(this,this.Y-e)},(cn=Li.prototype).R=function(){Ri(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},cn.T=function(){return Ri(this),this.g.concat()},cn.get=function(e,t){return Mi(this.h,e)?this.h[e]:t},cn.set=function(e,t){Mi(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},cn.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Fi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ji(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ji){this.g=void 0!==t?t:e.g,Bi(this,e.j),this.s=e.s,zi(this,e.i),Ui(this,e.m),this.l=e.l,t=e.h;var n=new ea;n.i=t.i,t.g&&(n.g=new Li(t.g),n.h=t.h),qi(this,n),this.o=e.o}else e&&(n=String(e).match(Fi))?(this.g=!!t,Bi(this,n[1]||"",!0),this.s=Gi(n[2]||""),zi(this,n[3]||"",!0),Ui(this,n[4]),this.l=Gi(n[5]||"",!0),qi(this,n[6]||"",!0),this.o=Gi(n[7]||"")):(this.g=!!t,this.h=new ea(null,this.g))}function Vi(e){return new ji(e)}function Bi(e,t,n){e.j=n?Gi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function zi(e,t,n){e.i=n?Gi(t,!0):t}function Ui(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function qi(e,t,n){t instanceof ea?(e.h=t,function(e,t){t&&!e.j&&(ta(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(na(this,t),ia(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Wi(t,Ji)),e.h=new ea(t,e.g))}function Ki(e,t,n){e.h.set(t,n)}function Hi(e){return Ki(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Gi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wi(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Qi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Qi(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ji.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Wi(t,$i,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Wi(t,$i,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Wi(n,"/"==n.charAt(0)?Xi:Yi,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Wi(n,Zi)),e.join("")};var $i=/[#\/\?@]/g,Yi=/[#\?:]/g,Xi=/[#\?]/g,Ji=/[#\?@]/g,Zi=/#/g;function ea(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ta(e){e.g||(e.g=new Li,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function na(e,t){ta(e),t=aa(e,t),Mi(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Mi((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ri(e)))}function ra(e,t){return ta(e),t=aa(e,t),Mi(e.g.h,t)}function ia(e,t,n){na(e,t),0<n.length&&(e.i=null,e.g.set(aa(e,t),Nn(n)),e.h+=n.length)}function aa(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(cn=ea.prototype).add=function(e,t){ta(this),this.i=null,e=aa(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},cn.forEach=function(e,t){ta(this),this.g.forEach((function(n,r){_n(n,(function(n){e.call(t,n,r,this)}),this)}),this)},cn.T=function(){ta(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},cn.R=function(e){ta(this);var t=[];if("string"===typeof e)ra(this,e)&&(t=Tn(t,this.g.get(aa(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Tn(t,e[n])}return t},cn.set=function(e,t){return ta(this),this.i=null,ra(this,e=aa(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},cn.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},cn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var oa=ae((function e(t,n){re(this,e),this.h=t,this.g=n}));function ua(e){this.l=e||ca,dn.PerformanceNavigationTiming?e=0<(e=dn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(dn.g&&dn.g.Ea&&dn.g.Ea()&&dn.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sa,ca=10;function la(e){return!!e.h||!!e.g&&e.g.size>=e.j}function fa(e){return e.h?1:e.g?e.g.size:0}function ha(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function da(e,t){e.g?e.g.add(t):e.h=t}function va(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function pa(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=oe(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Nn(e.i)}function ma(){}function ya(){this.g=new ma}function ga(e,t,n){var r=n||"";try{Pi(e,(function(e,n){var i=e;mn(e)&&(i=Ar(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ba(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function ka(e){this.l=e.$b||null,this.j=e.ib||!1}function wa(e,t){_r.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=xa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ua.prototype.cancel=function(){if(this.i=pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=oe(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ma.prototype.stringify=function(e){return dn.JSON.stringify(e,void 0)},ma.prototype.parse=function(e){return dn.JSON.parse(e,void 0)},En(ka,ci),ka.prototype.g=function(){return new wa(this.l,this.j)},ka.prototype.i=(sa={},function(){return sa}),En(wa,_r);var xa=0;function Ea(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Sa(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ia(e)}function Ia(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(cn=wa.prototype).open=function(e,t){if(this.readyState!=xa)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ia(this)},cn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||dn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},cn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sa(this)),this.readyState=xa},cn.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ia(this)),this.g&&(this.readyState=3,Ia(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof dn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ea(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},cn.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Sa(this):Ia(this),3==this.readyState&&Ea(this)}},cn.Ua=function(e){this.g&&(this.response=this.responseText=e,Sa(this))},cn.Ta=function(e){this.g&&(this.response=e,Sa(this))},cn.ha=function(){this.g&&Sa(this)},cn.setRequestHeader=function(e,t){this.v.append(e,t)},cn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},cn.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ca=dn.JSON.parse;function _a(e){_r.call(this),this.headers=new Li,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ta,this.K=this.L=!1}En(_a,_r);var Ta="",Na=/^https?$/i,Aa=["POST","PUT"];function Da(e){return"content-type"==e.toLowerCase()}function Oa(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Pa(e),Ra(e)}function Pa(e){e.D||(e.D=!0,Tr(e,"complete"),Tr(e,"error"))}function La(e){if(e.h&&"undefined"!=typeof hn&&(!e.C[1]||4!=Fa(e)||2!=e.ba()))if(e.v&&4==Fa(e))qr(e.Fa,0,e);else if(Tr(e,"readystatechange"),4==Fa(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Fi)[1]||null;if(!a&&dn.self&&dn.self.location){var o=dn.self.location.protocol;a=o.substr(0,o.length-1)}i=!Na.test(a?a.toLowerCase():"")}t=i}if(t)Tr(e,"complete"),Tr(e,"success");else{e.m=6;try{var u=2<Fa(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Pa(e)}}finally{Ra(e)}}}function Ra(e,t){if(e.g){Ma(e);var n=e.g,r=e.C[0]?vn:null;e.g=null,e.C=null,t||Tr(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ma(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(dn.clearTimeout(e.A),e.A=null)}function Fa(e){return e.g?e.g.readyState:0}function ja(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ta:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Va(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Fn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ki(e,t,n))}function Ba(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function za(e){this.za=0,this.l=[],this.h=new Yr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ba("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ba("baseRetryDelayMs",5e3,e),this.$a=Ba("retryDelaySeedMs",1e4,e),this.Ya=Ba("forwardChannelMaxRetries",2,e),this.ra=Ba("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ua(e&&e.concurrentRequestLimit),this.Ca=new ya,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ua(e){if(Ka(e),3==e.G){var t=e.V++,n=Vi(e.F);Ki(n,"SID",e.J),Ki(n,"RID",t),Ki(n,"TYPE","terminate"),Qa(e,n),(t=new yi(e,e.h,t,void 0)).K=2,t.v=Hi(Vi(n)),n=!1,dn.navigator&&dn.navigator.sendBeacon&&(n=dn.navigator.sendBeacon(t.v.toString(),"")),!n&&dn.Image&&((new Image).src=t.v,n=!0),n||(t.g=oo(t.l,null),t.g.ea(t.v)),t.F=Date.now(),_i(t)}io(e)}function qa(e){e.g&&(Ja(e),e.g.cancel(),e.g=null)}function Ka(e){qa(e),e.u&&(dn.clearTimeout(e.u),e.u=null),eo(e),e.i.cancel(),e.m&&("number"===typeof e.m&&dn.clearTimeout(e.m),e.m=null)}function Ha(e,t){e.l.push(new oa(e.Za++,t)),3==e.G&&Ga(e)}function Ga(e){la(e.i)||e.m||(e.m=!0,Fr(e.Ha,e),e.C=0)}function Wa(e,t){var n;n=t?t.m:e.V++;var r=Vi(e.F);Ki(r,"SID",e.J),Ki(r,"RID",n),Ki(r,"AID",e.U),Qa(e,r),e.o&&e.s&&Va(r,e.o,e.s),n=new yi(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=$a(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),da(e.i,n),xi(n,r,t)}function Qa(e,t){e.j&&Pi({},(function(e,n){Ki(t,n,e)}))}function $a(e,t,n){n=Math.min(e.l.length,n);var r=e.j?wn(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{ga(l,o,"req"+c+"_")}catch(Ro){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Ya(e){e.g||e.u||(e.Y=1,Fr(e.Ga,e),e.A=0)}function Xa(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=oi(wn(e.Ga,e),no(e,e.A)),e.A++,!0)}function Ja(e){null!=e.B&&(dn.clearTimeout(e.B),e.B=null)}function Za(e){e.g=new yi(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Vi(e.oa);Ki(t,"RID","rpc"),Ki(t,"SID",e.J),Ki(t,"CI",e.N?"0":"1"),Ki(t,"AID",e.U),Qa(e,t),Ki(t,"TYPE","xmlhttp"),e.o&&e.s&&Va(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Hi(Vi(t)),n.s=null,n.U=!0,Ei(n,e)}function eo(e){null!=e.v&&(dn.clearTimeout(e.v),e.v=null)}function to(e,t){var n=null;if(e.g==t){eo(e),Ja(e),e.g=null;var r=2}else{if(!ha(e.i,t))return;n=t.D,va(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Tr(r=ei(),new ai(r,n,t,i)),Ga(e)}else Ya(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(fa(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=oi(wn(e.Ha,e,t),no(e,e.C)),e.C++,!0))}(e,t)||2==r&&Xa(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ro(e,5);break;case 4:ro(e,10);break;case 3:ro(e,6);break;default:ro(e,2)}}function no(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ro(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=wn(e.jb,e);n||(n=new ji("//www.google.com/images/cleardot.gif"),dn.location&&"http"==dn.location.protocol||Bi(n,"https"),Hi(n)),function(e,t){var n=new Yr;if(dn.Image){var r=new Image;r.onload=xn(ba,n,r,"TestLoadImage: loaded",!0,t),r.onerror=xn(ba,n,r,"TestLoadImage: error",!1,t),r.onabort=xn(ba,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=xn(ba,n,r,"TestLoadImage: timeout",!1,t),dn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ii(2);e.G=0,e.j&&e.j.va(t),io(e),Ka(e)}function io(e){e.G=0,e.I=-1,e.j&&(0==pa(e.i).length&&0==e.l.length||(e.i.i.length=0,Nn(e.l),e.l.length=0),e.j.ua())}function ao(e,t,n){var r=function(e){return e instanceof ji?Vi(e):new ji(e,void 0)}(n);if(""!=r.i)t&&zi(r,t+"."+r.i),Ui(r,r.m);else{var i=dn.location;r=function(e,t,n,r){var i=new ji(null,void 0);return e&&Bi(i,e),t&&zi(i,t),n&&Ui(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Fn(e.aa,(function(e,t){Ki(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ki(r,t,n),Ki(r,"VER",e.ma),Qa(e,r),r}function oo(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new _a(new ka({ib:!0})):new _a(e.qa)).L=e.H,t}function uo(){}function so(){if(Kn&&!(10<=Number(rr)))throw Error("Environmental error: no available transport.")}function co(e,t){_r.call(this),this.g=new za(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!An(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!An(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ho(this)}function lo(e){vi.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function fo(){pi.call(this),this.status=1}function ho(e){this.g=e}(cn=_a.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hi.g(),this.C=this.u?li(this.u):li(hi),this.g.onreadystatechange=wn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Oa(this,a)}e=n||"";var i=new Li(this.headers);r&&Pi(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Da,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=dn.FormData&&e instanceof dn.FormData,!(0<=Cn(Aa,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ma(this),0<this.B&&((this.K=function(e){return Kn&&tr()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wn(this.pa,this)):this.A=qr(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Oa(this,a)}},cn.pa=function(){"undefined"!=typeof hn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tr(this,"timeout"),this.abort(8))},cn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Tr(this,"complete"),Tr(this,"abort"),Ra(this))},cn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ra(this,!0)),_a.Z.M.call(this)},cn.Fa=function(){this.s||(this.F||this.v||this.l?La(this):this.cb())},cn.cb=function(){La(this)},cn.ba=function(){try{return 2<Fa(this)?this.g.status:-1}catch(sa){return-1}},cn.ga=function(){try{return this.g?this.g.responseText:""}catch(sa){return""}},cn.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ca(t)}},cn.Da=function(){return this.m},cn.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(cn=za.prototype).ma=8,cn.G=1,cn.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},cn.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new yi(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Bn(n=jn(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=$a(this,t,r),Ki(i=Vi(this.F),"RID",e),Ki(i,"CVER",22),this.D&&Ki(i,"X-HTTP-Session-Id",this.D),Qa(this,i),this.o&&n&&Va(i,this.o,n),da(this.i,t),this.Ra&&Ki(i,"TYPE","init"),this.ja?(Ki(i,"$req",r),Ki(i,"SID","null"),t.$=!0,xi(t,i,null)):xi(t,i,r),this.G=2}}else 3==this.G&&(e?Wa(this,e):0==this.l.length||la(this.i)||Wa(this))},cn.Ga=function(){if(this.u=null,Za(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=oi(wn(this.bb,this),e)}},cn.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ii(10),qa(this),Za(this))},cn.ab=function(){null!=this.v&&(this.v=null,qa(this),Xa(this),ii(19))},cn.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ii(2)):(this.h.info("Failed to ping google.com"),ii(1))},(cn=uo.prototype).xa=function(){},cn.wa=function(){},cn.va=function(){},cn.ua=function(){},cn.Oa=function(){},so.prototype.g=function(e,t){return new co(e,t)},En(co,_r),co.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Fr(wn(e.hb,e,t))),ii(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ao(e,null,e.W),Ga(e)},co.prototype.close=function(){Ua(this.g)},co.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Ha(this.g,t)}else this.v?((t={}).__data__=Ar(e),Ha(this.g,t)):Ha(this.g,e)},co.prototype.M=function(){this.g.j=null,delete this.j,Ua(this.g),delete this.g,co.Z.M.call(this)},En(lo,vi),En(fo,pi),En(ho,uo),ho.prototype.xa=function(){Tr(this.g,"a")},ho.prototype.wa=function(e){Tr(this.g,new lo(e))},ho.prototype.va=function(e){Tr(this.g,new fo(e))},ho.prototype.ua=function(){Tr(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,co.prototype.send=co.prototype.u,co.prototype.open=co.prototype.m,co.prototype.close=co.prototype.close,ui.NO_ERROR=0,ui.TIMEOUT=8,ui.HTTP_ERROR=6,si.COMPLETE="complete",fi.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",_r.prototype.listen=_r.prototype.N,_a.prototype.listenOnce=_a.prototype.O,_a.prototype.getLastError=_a.prototype.La,_a.prototype.getLastErrorCode=_a.prototype.Da,_a.prototype.getStatus=_a.prototype.ba,_a.prototype.getResponseJson=_a.prototype.Qa,_a.prototype.getResponseText=_a.prototype.ga,_a.prototype.send=_a.prototype.ea;var vo=fn.createWebChannelTransport=function(){return new so},po=fn.getStatEventTarget=function(){return ei()},mo=fn.ErrorCode=ui,yo=fn.EventType=si,go=fn.Event=Jr,bo=fn.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ko=fn.FetchXmlHttpFactory=ka,wo=fn.WebChannel=fi,xo=fn.XhrIo=_a,Eo="@firebase/firestore",So=function(){function e(t){re(this,e),this.uid=t}return ae(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();So.UNAUTHENTICATED=new So(null),So.GOOGLE_CREDENTIALS=new So("google-credentials-uid"),So.FIRST_PARTY=new So("first-party-uid"),So.MOCK_USER=new So("mock-user");var Io="9.8.3",Co=new We("@firebase/firestore");function _o(){return Co.logLevel}function To(e){if(Co.logLevel<=Be.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Do);Co.debug.apply(Co,["Firestore (".concat(Io,"): ").concat(e)].concat($(i)))}}function No(e){if(Co.logLevel<=Be.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Do);Co.error.apply(Co,["Firestore (".concat(Io,"): ").concat(e)].concat($(i)))}}function Ao(e){if(Co.logLevel<=Be.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Do);Co.warn.apply(Co,["Firestore (".concat(Io,"): ").concat(e)].concat($(i)))}}function Do(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Oo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Io,") INTERNAL ASSERTION FAILED: ")+e;throw No(t),new Error(t)}function Po(e,t){e||Oo()}function Lo(e,t){return e}var Ro={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Mo=function(e){ce(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ae(n)}(Ie),Fo=ae((function e(){var t=this;re(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),jo=ae((function e(t,n){re(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Vo=function(){function e(){re(this,e)}return ae(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(So.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Bo=function(){function e(t){re(this,e),this.token=t,this.changeListener=null}return ae(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),zo=function(){function e(t){re(this,e),this.t=t,this.currentUser=So.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ae(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Fo;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Fo,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){To("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(To("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Fo)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(To("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Po("string"==typeof n.accessToken),new jo(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Po(null===e||"string"==typeof e),new So(e)}}]),e}(),Uo=ae((function e(t,n,r){re(this,e),this.type="FirstParty",this.user=So.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),qo=function(){function e(t,n,r){re(this,e),this.h=t,this.l=n,this.m=r}return ae(e,[{key:"getToken",value:function(){return Promise.resolve(new Uo(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(So.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ko=ae((function e(t){re(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Ho=function(){function e(t){re(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ae(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&To("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,To("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){To("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):To("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Po("string"==typeof t.token),e.p=t.token,new Ko(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Go(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Wo=function(){function e(){re(this,e)}return ae(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Go(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Qo(e,t){return e<t?-1:e>t?1:0}function $o(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Yo(e){return e+"\0"}var Xo=function(){function e(t,n){if(re(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Mo(Ro.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Mo(Ro.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Mo(Ro.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Mo(Ro.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ae(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Qo(this.nanoseconds,e.nanoseconds):Qo(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Jo=function(){function e(t){re(this,e),this.timestamp=t}return ae(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Xo(0,0))}},{key:"max",value:function(){return new e(new Xo(253402300799,999999999))}}]),e}(),Zo=function(){function e(t,n,r){re(this,e),void 0===n?n=0:n>t.length&&Oo(),void 0===r?r=t.length-n:r>t.length-n&&Oo(),this.segments=t,this.offset=n,this.len=r}return ae(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),eu=function(e){ce(n,e);var t=de(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Mo(Ro.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,$(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Zo),tu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,nu=function(e){ce(n,e);var t=de(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return tu.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Mo(Ro.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Mo(Ro.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Mo(Ro.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Mo(Ro.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Zo),ru=function(){function e(t){re(this,e),this.path=t}return ae(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===eu.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(eu.fromString(t))}},{key:"fromName",value:function(t){return new e(eu.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(eu.emptyPath())}},{key:"comparator",value:function(e,t){return eu.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new eu(t.slice()))}}]),e}(),iu=ae((function e(t,n,r,i){re(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function au(e){return e.fields.find((function(e){return 2===e.kind}))}function ou(e){return e.fields.filter((function(e){return 2!==e.kind}))}iu.UNKNOWN_ID=-1;var uu=ae((function e(t,n){re(this,e),this.fieldPath=t,this.kind=n})),su=function(){function e(t,n){re(this,e),this.sequenceNumber=t,this.offset=n}return ae(e,null,[{key:"empty",value:function(){return new e(0,fu.min())}}]),e}();function cu(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Jo.fromTimestamp(1e9===r?new Xo(n+1,0):new Xo(n,r));return new fu(i,ru.empty(),t)}function lu(e){return new fu(e.readTime,e.key,-1)}var fu=function(){function e(t,n,r){re(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ae(e,null,[{key:"min",value:function(){return new e(Jo.min(),ru.empty(),-1)}},{key:"max",value:function(){return new e(Jo.max(),ru.empty(),-1)}}]),e}();function hu(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ru.comparator(e.documentKey,t.documentKey))?n:Qo(e.largestBatchId,t.largestBatchId)}var du="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vu=function(){function e(){re(this,e),this.onCommittedListeners=[]}return ae(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function pu(e){return mu.apply(this,arguments)}function mu(){return mu=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ro.FAILED_PRECONDITION&&t.message===du){e.next=2;break}throw t;case 2:To("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}var yu=function(){function e(t){var n=this;re(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ae(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Oo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=oe(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),gu=function(){function e(t,n){var r=this;re(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new Fo,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new wu(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=Cu(e.target.error);r.T.reject(new wu(t,n))}}return ae(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(To("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Eu(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new wu(n,t)}}}]),e}(),bu=function(){function e(t,n,r){re(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(xe())&&No("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ae(e,[{key:"k",value:function(){var e=Z(X().mark((function e(t){var n=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return To("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new wu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Mo(Ro.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Mo(Ro.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new wu(t,n))},i.onupgradeneeded=function(e){To("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next((function(){To("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Z(X().mark((function e(t,n,r,i){var a,o,u,s,c=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(X().mark((function e(){var n,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.k(t);case 2:return c.db=e.sent,n=gu.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),yu.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,To("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return To("SimpleDb","Removing database:",e),Su(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!Se())return!1;if(e.S())return!0;var t=xe(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Budget",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),ku=function(){function e(t){re(this,e),this.$=t,this.B=!1,this.L=null}return ae(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return Su(this.$.delete())}}]),e}(),wu=function(e){ce(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this,Ro.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ae(n)}(Mo);function xu(e){return"IndexedDbTransactionError"===e.name}var Eu=function(){function e(t){re(this,e),this.store=t}return ae(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(To("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(To("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Su(n)}},{key:"add",value:function(e){return To("SimpleDb","ADD",this.store.name,e,e),Su(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Su(this.store.get(e)).next((function(n){return void 0===n&&(n=null),To("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return To("SimpleDb","DELETE",this.store.name,e),Su(this.store.delete(e))}},{key:"count",value:function(){return To("SimpleDb","COUNT",this.store.name),Su(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new yu((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new yu((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){To("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new yu((function(n,r){t.onerror=function(e){var t=Cu(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new yu((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ku(i),o=t(i.primaryKey,i.value,a);if(o instanceof yu){var u=o.catch((function(e){return a.done(),yu.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return yu.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Su(e){return new yu((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Cu(e.target.error);n(t)}}))}var Iu=!1;function Cu(e){var t=bu.v(xe());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Mo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Iu||(Iu=!0,setTimeout((function(){throw r}),0)),r}}return e}var _u=function(){function e(t,n){re(this,e),this.asyncQueue=t,this.X=n,this.task=null}return ae(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;To("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=To,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!xu(e.t4)){e.next=17;break}To("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,pu(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Tu=function(){function e(t,n){re(this,e),this.localStore=t,this.persistence=n}return ae(e,[{key:"tt",value:function(){var e=Z(X().mark((function e(){var t,n=this,r=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return yu.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return To("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return To("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=lu(t);hu(r,n)>0&&(n=r)})),new fu(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Nu=function(){function e(t,n){var r=this;re(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return ae(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function Au(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Du(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ou(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Nu.ot=-1;var Pu=function(){function e(t,n){re(this,e),this.comparator=t,this.root=n||Ru.EMPTY}return ae(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ru.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ru.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Lu(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Lu(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Lu(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Lu(this.root,e,this.comparator,!0)}}]),e}(),Lu=function(){function e(t,n,r,i){re(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ae(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Ru=function(){function e(t,n,r,i,a){re(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ae(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Oo();if(this.right.isRed())throw Oo();var e=this.left.check();if(e!==this.right.check())throw Oo();return e+(this.isRed()?0:1)}}]),e}();Ru.EMPTY=null,Ru.RED=!0,Ru.BLACK=!1,Ru.EMPTY=new(function(){function e(){re(this,e),this.size=0}return ae(e,[{key:"key",get:function(){throw Oo()}},{key:"value",get:function(){throw Oo()}},{key:"color",get:function(){throw Oo()}},{key:"left",get:function(){throw Oo()}},{key:"right",get:function(){throw Oo()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ru(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Mu=function(){function e(t){re(this,e),this.comparator=t,this.data=new Pu(this.comparator)}return ae(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Fu(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Fu(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Fu=function(){function e(t){re(this,e),this.iter=t}return ae(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function ju(e){return e.hasNext()?e.getNext():void 0}var Vu=function(){function e(t){re(this,e),this.fields=t,t.sort(nu.comparator)}return ae(e,[{key:"unionWith",value:function(t){var n,r=new Mu(nu.comparator),i=oe(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=oe(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=oe(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return $o(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Bu=function(e){function t(e){re(this,t),this.binaryString=e}return ae(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Qo(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Bu.EMPTY_BYTE_STRING=new Bu("");var zu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uu(e){if(Po(!!e),"string"==typeof e){var t=0,n=zu.exec(e);if(Po(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:qu(e.seconds),nanos:qu(e.nanos)}}function qu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ku(e){return"string"==typeof e?Bu.fromBase64String(e):Bu.fromUint8Array(e)}function Hu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Gu(e){var t=e.mapValue.fields.__previous_value__;return Hu(t)?Gu(t):t}function Wu(e){var t=Uu(e.mapValue.fields.__local_write_time__.timestampValue);return new Xo(t.seconds,t.nanos)}var Qu=ae((function e(t,n,r,i,a,o,u,s){re(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),$u=function(){function e(t,n){re(this,e),this.projectId=t,this.database=n||"(default)"}return ae(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Yu(e){return null==e}function Xu(e){return 0===e&&1/e==-1/0}function Ju(e){return"number"==typeof e&&Number.isInteger(e)&&!Xu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Zu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},es={nullValue:"NULL_VALUE"};function ts(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Hu(e)?4:ps(e)?9007199254740991:10:Oo()}function ns(e,t){if(e===t)return!0;var n=ts(e);if(n!==ts(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Wu(e).isEqual(Wu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Uu(e.timestampValue),r=Uu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ku(e.bytesValue).isEqual(Ku(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return qu(e.geoPointValue.latitude)===qu(t.geoPointValue.latitude)&&qu(e.geoPointValue.longitude)===qu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return qu(e.integerValue)===qu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=qu(e.doubleValue),r=qu(t.doubleValue);return n===r?Xu(n)===Xu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $o(e.arrayValue.values||[],t.arrayValue.values||[],ns);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Au(n)!==Au(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ns(n[i],r[i])))return!1;return!0}(e,t);default:return Oo()}}function rs(e,t){return void 0!==(e.values||[]).find((function(e){return ns(e,t)}))}function is(e,t){if(e===t)return 0;var n=ts(e),r=ts(t);if(n!==r)return Qo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qo(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=qu(e.integerValue||e.doubleValue),r=qu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return as(e.timestampValue,t.timestampValue);case 4:return as(Wu(e),Wu(t));case 5:return Qo(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ku(e),r=Ku(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Qo(n[i],r[i]);if(0!==a)return a}return Qo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Qo(qu(e.latitude),qu(t.latitude));return 0!==n?n:Qo(qu(e.longitude),qu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=is(n[i],r[i]);if(a)return a}return Qo(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Zu.mapValue&&t===Zu.mapValue)return 0;if(e===Zu.mapValue)return 1;if(t===Zu.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Qo(r[o],a[o]);if(0!==u)return u;var s=is(n[r[o]],i[a[o]]);if(0!==s)return s}return Qo(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Oo()}}function as(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Qo(e,t);var n=Uu(e),r=Uu(t),i=Qo(n.seconds,r.seconds);return 0!==i?i:Qo(n.nanos,r.nanos)}function os(e){return us(e)}function us(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Uu(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ku(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ru.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=oe(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=us(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=oe(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(us(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Oo();var t,n}function ss(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function cs(e){return!!e&&"integerValue"in e}function ls(e){return!!e&&"arrayValue"in e}function fs(e){return!!e&&"nullValue"in e}function hs(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ds(e){return!!e&&"mapValue"in e}function vs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Du(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=vs(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=vs(e.arrayValue.values[r]);return n}return Object.assign({},e)}function ps(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ms(e){return"nullValue"in e?es:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ss($u.empty(),ru.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Oo()}function ys(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ss($u.empty(),ru.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Zu:Oo()}function gs(e,t){var n=is(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function bs(e,t){var n=is(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var ks=function(){function e(t){re(this,e),this.value=t}return ae(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ds(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vs(t)}},{key:"setAll",value:function(e){var t=this,n=nu.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=vs(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ds(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ns(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ds(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Du(t,(function(t,n){return e[t]=n}));var r,i=oe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(vs(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ws(e){var t=[];return Du(e.fields,(function(e,n){var r=new nu([e]);if(ds(n)){var i=ws(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=oe(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Vu(t)}var xs=function(){function e(t,n,r,i,a,o){re(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return ae(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=ks.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=ks.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Jo.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Jo.min(),Jo.min(),ks.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Jo.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Jo.min(),ks.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Jo.min(),ks.empty(),2)}}]),e}(),Es=ae((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;re(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));function Ss(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Es(e,t,n,r,i,a,o)}function Is(e){var t=Lo(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+os(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Yu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return os(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return os(e)})).join(",")),t.ut=n}return t.ut}function Cs(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Us(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!ns(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ks(e.startAt,t.startAt)&&Ks(e.endAt,t.endAt)}function _s(e){return ru.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ts(e,t){return e.filters.filter((function(e){return e instanceof Ds&&e.field.isEqual(t)}))}function Ns(e,t,n){var r,i=es,a=!0,o=oe(Ts(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=es,c=!0;switch(u.op){case"<":case"<=":s=ms(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=es}gs({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];gs({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function As(e,t,n){var r,i=Zu,a=!0,o=oe(Ts(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Zu,c=!0;switch(u.op){case">=":case">":s=ys(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Zu}bs({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];bs({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Ds=function(e){ce(n,e);var t=de(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ae(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(is(t,this.value)):null!==t&&ts(this.value)===ts(t)&&this.at(is(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Oo()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new Os(e,t,r):"array-contains"===t?new Ms(e,r):"in"===t?new Fs(e,r):"not-in"===t?new js(e,r):"array-contains-any"===t?new Vs(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new Ps(e,n):new Ls(e,n)}}]),n}(function(){return ae((function e(){re(this,e)}))}()),Os=function(e){ce(n,e);var t=de(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this,e,r,i)).key=ru.fromName(i.referenceValue),a}return ae(n,[{key:"matches",value:function(e){var t=ru.comparator(e.key,this.key);return this.at(t)}}]),n}(Ds),Ps=function(e){ce(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this,e,"in",r)).keys=Rs("in",r),i}return ae(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ds),Ls=function(e){ce(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this,e,"not-in",r)).keys=Rs("not-in",r),i}return ae(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ds);function Rs(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ru.fromName(e.referenceValue)}))}var Ms=function(e){ce(n,e);var t=de(n);function n(e,r){return re(this,n),t.call(this,e,"array-contains",r)}return ae(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ls(t)&&rs(t.arrayValue,this.value)}}]),n}(Ds),Fs=function(e){ce(n,e);var t=de(n);function n(e,r){return re(this,n),t.call(this,e,"in",r)}return ae(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&rs(this.value.arrayValue,t)}}]),n}(Ds),js=function(e){ce(n,e);var t=de(n);function n(e,r){return re(this,n),t.call(this,e,"not-in",r)}return ae(n,[{key:"matches",value:function(e){if(rs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!rs(this.value.arrayValue,t)}}]),n}(Ds),Vs=function(e){ce(n,e);var t=de(n);function n(e,r){return re(this,n),t.call(this,e,"array-contains-any",r)}return ae(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ls(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return rs(t.value.arrayValue,e)}))}}]),n}(Ds),Bs=ae((function e(t,n){re(this,e),this.position=t,this.inclusive=n})),zs=ae((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";re(this,e),this.field=t,this.dir=n}));function Us(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function qs(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ru.comparator(ru.fromName(o.referenceValue),n.key):is(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ks(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ns(e.position[n],t.position[n]))return!1;return!0}var Hs=ae((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;re(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function Gs(e,t,n,r,i,a,o,u){return new Hs(e,t,n,r,i,a,o,u)}function Ws(e){return new Hs(e)}function Qs(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function $s(e){var t,n=oe(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Ys(e){return null!==e.collectionGroup}function Xs(e){var t=Lo(e);if(null===t.lt){t.lt=[];var n=$s(t),r=Qs(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new zs(n)),t.lt.push(new zs(nu.keyField(),"asc"));else{var i,a=!1,o=oe(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new zs(nu.keyField(),s))}}}return t.lt}function Js(e){var t=Lo(e);if(!t.ft)if("F"===t.limitType)t.ft=Ss(t.path,t.collectionGroup,Xs(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=oe(Xs(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new zs(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Bs(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Bs(t.startAt.position,t.startAt.inclusive):null;t.ft=Ss(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function Zs(e,t,n){return new Hs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ec(e,t){return Cs(Js(e),Js(t))&&e.limitType===t.limitType}function tc(e){return"".concat(Is(Js(e)),"|lt:").concat(e.limitType)}function nc(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(os(t.value));var t})).join(", "),"]")),Yu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return os(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return os(e)})).join(",")),"Target(".concat(t,")")}(Js(e)),"; limitType=").concat(e.limitType,")")}function rc(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ru.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=oe(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=oe(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=qs(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Xs(e),t))&&!(e.endAt&&!function(e,t,n){var r=qs(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Xs(e),t))}(e,t)}function ic(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ac(e){return function(t,n){var r,i=!1,a=oe(Xs(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=oc(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function oc(e,t,n){var r=e.field.isKeyField()?ru.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?is(r,i):Oo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Oo()}}function uc(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xu(t)?"-0":t}}function sc(e){return{integerValue:""+e}}function cc(e,t){return Ju(t)?sc(t):uc(e,t)}var lc=ae((function e(){re(this,e),this._=void 0}));function fc(e,t,n){return e instanceof vc?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof pc?mc(e,t):e instanceof yc?gc(e,t):function(e,t){var n=dc(e,t),r=kc(n)+kc(e._t);return cs(n)&&cs(e._t)?sc(r):uc(e.wt,r)}(e,t)}function hc(e,t,n){return e instanceof pc?mc(e,t):e instanceof yc?gc(e,t):n}function dc(e,t){return e instanceof bc?cs(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var vc=function(e){ce(n,e);var t=de(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n)}(lc),pc=function(e){ce(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this)).elements=e,r}return ae(n)}(lc);function mc(e,t){var n,r=wc(t),i=oe(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return ns(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var yc=function(e){ce(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this)).elements=e,r}return ae(n)}(lc);function gc(e,t){var n,r=wc(t),i=oe(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!ns(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var bc=function(e){ce(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this)).wt=e,i._t=r,i}return ae(n)}(lc);function kc(e){return qu(e.integerValue||e.doubleValue)}function wc(e){return ls(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var xc=ae((function e(t,n){re(this,e),this.field=t,this.transform=n}));var Ec=ae((function e(t,n){re(this,e),this.version=t,this.transformResults=n})),Sc=function(){function e(t,n){re(this,e),this.updateTime=t,this.exists=n}return ae(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Ic(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Cc=ae((function e(){re(this,e)}));function _c(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Vc(e.key,Sc.none()):new Oc(e.key,e.data,Sc.none());var n,r=e.data,i=ks.empty(),a=new Mu(nu.comparator),o=oe(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Pc(e.key,i,new Vu(a.toArray()),Sc.none())}function Tc(e,t,n){e instanceof Oc?function(e,t,n){var r=e.value.clone(),i=Rc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Pc?function(e,t,n){if(Ic(e.precondition,t)){var r=Rc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Lc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Nc(e,t,n,r){return e instanceof Oc?function(e,t,n,r){if(!Ic(e.precondition,t))return n;var i=e.value.clone(),a=Mc(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Pc?function(e,t,n,r){if(!Ic(e.precondition,t))return n;var i=Mc(e.fieldTransforms,r,t),a=t.data;return a.setAll(Lc(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Ic(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ac(e,t){var n,r=null,i=oe(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=dc(a.transform,o||null);null!=u&&(null===r&&(r=ks.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Dc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$o(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof pc&&t instanceof pc||e instanceof yc&&t instanceof yc?$o(e.elements,t.elements,ns):e instanceof bc&&t instanceof bc?ns(e._t,t._t):e instanceof vc&&t instanceof vc}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Oc=function(e){ce(n,e);var t=de(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return re(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ae(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Cc),Pc=function(e){ce(n,e);var t=de(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return re(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return ae(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Cc);function Lc(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Rc(e,t,n){var r=new Map;Po(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,hc(o,u,n[i]))}return r}function Mc(e,t,n){var r,i=new Map,a=oe(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,fc(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Fc,jc,Vc=function(e){ce(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ae(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Cc),Bc=function(e){ce(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ae(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Cc),zc=ae((function e(t){re(this,e),this.count=t}));function Uc(e){switch(e){default:return Oo();case Ro.CANCELLED:case Ro.UNKNOWN:case Ro.DEADLINE_EXCEEDED:case Ro.RESOURCE_EXHAUSTED:case Ro.INTERNAL:case Ro.UNAVAILABLE:case Ro.UNAUTHENTICATED:return!1;case Ro.INVALID_ARGUMENT:case Ro.NOT_FOUND:case Ro.ALREADY_EXISTS:case Ro.PERMISSION_DENIED:case Ro.FAILED_PRECONDITION:case Ro.ABORTED:case Ro.OUT_OF_RANGE:case Ro.UNIMPLEMENTED:case Ro.DATA_LOSS:return!0}}function qc(e){if(void 0===e)return No("GRPC error has no .code"),Ro.UNKNOWN;switch(e){case Fc.OK:return Ro.OK;case Fc.CANCELLED:return Ro.CANCELLED;case Fc.UNKNOWN:return Ro.UNKNOWN;case Fc.DEADLINE_EXCEEDED:return Ro.DEADLINE_EXCEEDED;case Fc.RESOURCE_EXHAUSTED:return Ro.RESOURCE_EXHAUSTED;case Fc.INTERNAL:return Ro.INTERNAL;case Fc.UNAVAILABLE:return Ro.UNAVAILABLE;case Fc.UNAUTHENTICATED:return Ro.UNAUTHENTICATED;case Fc.INVALID_ARGUMENT:return Ro.INVALID_ARGUMENT;case Fc.NOT_FOUND:return Ro.NOT_FOUND;case Fc.ALREADY_EXISTS:return Ro.ALREADY_EXISTS;case Fc.PERMISSION_DENIED:return Ro.PERMISSION_DENIED;case Fc.FAILED_PRECONDITION:return Ro.FAILED_PRECONDITION;case Fc.ABORTED:return Ro.ABORTED;case Fc.OUT_OF_RANGE:return Ro.OUT_OF_RANGE;case Fc.UNIMPLEMENTED:return Ro.UNIMPLEMENTED;case Fc.DATA_LOSS:return Ro.DATA_LOSS;default:return Oo()}}(jc=Fc||(Fc={}))[jc.OK=0]="OK",jc[jc.CANCELLED=1]="CANCELLED",jc[jc.UNKNOWN=2]="UNKNOWN",jc[jc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jc[jc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jc[jc.NOT_FOUND=5]="NOT_FOUND",jc[jc.ALREADY_EXISTS=6]="ALREADY_EXISTS",jc[jc.PERMISSION_DENIED=7]="PERMISSION_DENIED",jc[jc.UNAUTHENTICATED=16]="UNAUTHENTICATED",jc[jc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jc[jc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jc[jc.ABORTED=10]="ABORTED",jc[jc.OUT_OF_RANGE=11]="OUT_OF_RANGE",jc[jc.UNIMPLEMENTED=12]="UNIMPLEMENTED",jc[jc.INTERNAL=13]="INTERNAL",jc[jc.UNAVAILABLE=14]="UNAVAILABLE",jc[jc.DATA_LOSS=15]="DATA_LOSS";var Kc=function(){function e(t,n){re(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ae(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=oe(n);try{for(i.s();!(r=i.n()).done;){var o=a(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Du(this.inner,(function(t,n){var r,i=oe(n);try{for(i.s();!(r=i.n()).done;){var o=a(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ou(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Hc=new Pu(ru.comparator);function Gc(){return Hc}var Wc=new Pu(ru.comparator);function Qc(){for(var e=Wc,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function $c(e){var t=Wc;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Yc(){return Jc()}function Xc(){return Jc()}function Jc(){return new Kc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Zc=new Pu(ru.comparator),el=new Mu(ru.comparator);function tl(){for(var e=el,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var nl=new Mu(Qo);function rl(){return nl}var il=function(){function e(t,n,r,i,a){re(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return ae(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,al.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Jo.min(),r,rl(),Gc(),tl())}}]),e}(),al=function(){function e(t,n,r,i,a){re(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return ae(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Bu.EMPTY_BYTE_STRING,n,tl(),tl(),tl())}}]),e}(),ol=ae((function e(t,n,r,i){re(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),ul=ae((function e(t,n){re(this,e),this.targetId=t,this.It=n})),sl=ae((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bu.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;re(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),cl=function(){function e(){re(this,e),this.Tt=0,this.Et=hl(),this.At=Bu.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return ae(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=tl(),t=tl(),n=tl();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Oo()}})),new al(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=hl()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),ll=function(){function e(t){re(this,e),this.Mt=t,this.Ft=new Map,this.$t=Gc(),this.Bt=fl(),this.Lt=new Mu(Qo)}return ae(e,[{key:"Ut",value:function(e){var t,n=oe(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=oe(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:Oo()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(_s(i))if(0===n){var a=new ru(i.path);this.Kt(t,a,xs.newNoDocument(a,Jo.min()))}else Po(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&_s(a.target)){var o=new ru(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,xs.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=tl();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new il(e,n,this.Lt,this.$t,r);return this.$t=Gc(),this.Bt=fl(),this.Lt=new Mu(Qo),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new cl,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new Mu(Qo),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||To("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new cl),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function fl(){return new Pu(ru.comparator)}function hl(){return new Pu(ru.comparator)}var dl={asc:"ASCENDING",desc:"DESCENDING"},vl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pl=ae((function e(t,n){re(this,e),this.databaseId=t,this.dt=n}));function ml(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function yl(e,t){return e.dt?t.toBase64():t.toUint8Array()}function gl(e,t){return ml(e,t.toTimestamp())}function bl(e){return Po(!!e),Jo.fromTimestamp(function(e){var t=Uu(e);return new Xo(t.seconds,t.nanos)}(e))}function kl(e,t){return function(e){return new eu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function wl(e){var t=eu.fromString(e);return Po(Kl(t)),t}function xl(e,t){return kl(e.databaseId,t.path)}function El(e,t){var n=wl(t);if(n.get(1)!==e.databaseId.projectId)throw new Mo(Ro.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Mo(Ro.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ru(_l(n))}function Sl(e,t){return kl(e.databaseId,t)}function Il(e){var t=wl(e);return 4===t.length?eu.emptyPath():_l(t)}function Cl(e){return new eu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _l(e){return Po(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Tl(e,t,n){return{name:xl(e,t),fields:n.value.mapValue.fields}}function Nl(e,t,n){var r=El(e,t.name),i=bl(t.updateTime),a=new ks({mapValue:{fields:t.fields}}),o=xs.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Al(e,t){return"found"in t?function(e,t){Po(!!t.found),t.found.name,t.found.updateTime;var n=El(e,t.found.name),r=bl(t.found.updateTime),i=new ks({mapValue:{fields:t.found.fields}});return xs.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Po(!!t.missing),Po(!!t.readTime);var n=El(e,t.missing),r=bl(t.readTime);return xs.newNoDocument(n,r)}(e,t):Oo()}function Dl(e,t){var n;if(t instanceof Oc)n={update:Tl(e,t.key,t.value)};else if(t instanceof Vc)n={delete:xl(e,t.key)};else if(t instanceof Pc)n={update:Tl(e,t.key,t.data),updateMask:ql(t.fieldMask)};else{if(!(t instanceof Bc))return Oo();n={verify:xl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof vc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bc)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Oo()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:gl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Oo()}(e,t.precondition)),n}function Ol(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Sc.updateTime(bl(e.updateTime)):void 0!==e.exists?Sc.exists(e.exists):Sc.none()}(t.currentDocument):Sc.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Po("REQUEST_TIME"===t.setToServerValue),n=new vc;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new pc(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new yc(i)}else"increment"in t?n=new bc(e,t.increment):Oo();var a=nu.fromServerFormat(t.fieldPath);return new xc(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=El(e,t.update.name),a=new ks({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Vu(t.map((function(e){return nu.fromServerFormat(e)})))}(t.updateMask);return new Pc(i,a,o,n,r)}return new Oc(i,a,n,r)}if(t.delete){var u=El(e,t.delete);return new Vc(u,n)}if(t.verify){var s=El(e,t.verify);return new Bc(s,n)}return Oo()}function Pl(e,t){return{documents:[Sl(e,t.path)]}}function Ll(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Sl(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Sl(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(hs(e.value))return{unaryFilter:{field:Vl(e.field),op:"IS_NAN"}};if(fs(e.value))return{unaryFilter:{field:Vl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hs(e.value))return{unaryFilter:{field:Vl(e.field),op:"IS_NOT_NAN"}};if(fs(e.value))return{unaryFilter:{field:Vl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vl(e.field),op:jl(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Vl(e.field),direction:Fl(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||Yu(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Rl(e){var t=Il(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Po(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Ml(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new zs(Bl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Yu(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Bs(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Bs(n,t)}(n.endAt)),Gs(t,i,u,o,s,"F",c,l)}function Ml(e){return e?void 0!==e.unaryFilter?[Ul(e)]:void 0!==e.fieldFilter?[zl(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ml(e)})).reduce((function(e,t){return e.concat(t)})):Oo():[]}function Fl(e){return dl[e]}function jl(e){return vl[e]}function Vl(e){return{fieldPath:e.canonicalString()}}function Bl(e){return nu.fromServerFormat(e.fieldPath)}function zl(e){return Ds.create(Bl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oo()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ul(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Bl(e.unaryFilter.field);return Ds.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Bl(e.unaryFilter.field);return Ds.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Bl(e.unaryFilter.field);return Ds.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Bl(e.unaryFilter.field);return Ds.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Oo()}}function ql(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Kl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Hl(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Wl(t)),t=Gl(e.get(n),t);return Wl(t)}function Gl(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Wl(e){return e+"\x01\x01"}function Ql(e){var t=e.length;if(Po(t>=2),2===t)return Po("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),eu.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Oo(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Oo()}a=o+2}return new eu(r)}var $l=["userId","batchId"];function Yl(e,t){return[e,Hl(t)]}function Xl(e,t,n){return[e,Hl(t),n]}var Jl={},Zl=["prefixPath","collectionGroup","readTime","documentId"],ef=["prefixPath","collectionGroup","documentId"],tf=["collectionGroup","readTime","prefixPath","documentId"],nf=["canonicalId","targetId"],rf=["targetId","path"],af=["path","targetId"],of=["collectionId","parent"],uf=["indexId","uid"],sf=["uid","sequenceNumber"],cf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lf=["indexId","uid","orderedDocumentKey"],ff=["userId","collectionPath","documentId"],hf=["userId","collectionPath","largestBatchId"],df=["userId","collectionGroup","largestBatchId"],vf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),pf=[].concat($(vf),["documentOverlays"]),mf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yf=mf,gf=[].concat(yf,["indexConfiguration","indexState","indexEntries"]),bf=function(e){ce(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return ae(n)}(vu);function kf(e,t){var n=Lo(e);return bu.N(n.ee,t)}var wf=function(){function e(t,n,r,i){re(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ae(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Tc(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=oe(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Nc(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=oe(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Nc(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Xc();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=_c(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Jo.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),tl())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,(function(e,t){return Dc(e,t)}))&&$o(this.baseMutations,e.baseMutations,(function(e,t){return Dc(e,t)}))}}]),e}(),xf=function(){function e(t,n,r,i){re(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ae(e,null,[{key:"from",value:function(t,n,r){Po(t.mutations.length===r.length);for(var i=Zc,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Ef=function(){function e(t,n){re(this,e),this.largestBatchId=t,this.mutation=n}return ae(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Sf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jo.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Jo.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Bu.EMPTY_BYTE_STRING;re(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return ae(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),If=ae((function e(t){re(this,e),this.ne=t}));function Cf(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:_f(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:xl(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ml(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Tf(t.version)};else{if(!t.isUnknownDocument())return Oo();r.unknownDocument={path:n.path.toArray(),version:Tf(t.version)}}return r}function _f(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Tf(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Nf(e){var t=new Xo(e.seconds,e.nanoseconds);return Jo.fromTimestamp(t)}function Af(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Ol(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Ol(e.ne,t)})),u=Xo.fromMillis(t.localWriteTimeMs);return new wf(t.batchId,u,n,o)}function Df(e){var t,n,r=Nf(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Nf(e.lastLimboFreeSnapshotVersion):Jo.min();return void 0!==e.query.documents?(Po(1===(n=e.query).documents.length),t=Js(Ws(Il(n.documents[0])))):t=function(e){return Js(Rl(e))}(e.query),new Sf(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Bu.fromBase64String(e.resumeToken))}function Of(e,t){var n,r=Tf(t.snapshotVersion),i=Tf(t.lastLimboFreeSnapshotVersion);n=_s(t.target)?Pl(e.ne,t.target):Ll(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Is(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Pf(e){var t=Rl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Zs(t,t.limit,"L"):t}function Lf(e,t){return new Ef(t.largestBatchId,Ol(e.ne,t.overlayMutation))}function Rf(e,t){var n=t.path.lastSegment();return[e,Hl(t.path.popLast()),n]}function Mf(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Tf(r.readTime),documentKey:Hl(r.documentKey.path),largestBatchId:r.largestBatchId}}var Ff=function(){function e(){re(this,e)}return ae(e,[{key:"getBundleMetadata",value:function(e,t){return jf(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Nf(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return jf(e).put({bundleId:(n=t).id,createTime:Tf(bl(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Vf(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Pf(t.bundledQuery),readTime:Nf(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Vf(e).put(function(e){return{name:e.name,readTime:Tf(bl(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function jf(e){return kf(e,"bundles")}function Vf(e){return kf(e,"namedQueries")}var Bf=function(){function e(t,n){re(this,e),this.wt=t,this.userId=n}return ae(e,[{key:"getOverlay",value:function(e,t){var n=this;return zf(e).get(Rf(this.userId,t)).next((function(e){return e?Lf(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Yc();return yu.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Ef(t,a);i.push(r.ie(e,o))})),yu.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Hl(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(zf(e).W("collectionPathOverlayIndex",i))})),yu.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Yc(),a=Hl(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return zf(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=oe(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Lf(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Yc(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return zf(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Lf(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return zf(e).put(function(e,t,n){var r=a(Rf(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Dl(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function zf(e){return kf(e,"documentOverlays")}var Uf=function(){function e(){re(this,e)}return ae(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(qu(e.integerValue));else if("doubleValue"in e){var n=qu(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Xu(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Ku(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?ps(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Oo()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=oe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),ru.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function qf(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Kf(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=qf(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Uf.ye=new Uf;var Hf=function(){function e(){re(this,e),this.buffer=new Uint8Array(1024),this.position=0}return ae(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=oe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=oe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=Kf(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=Kf(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Gf=function(){function e(t){re(this,e),this.Me=t}return ae(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),Wf=function(){function e(t){re(this,e),this.Me=t}return ae(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),Qf=function(){function e(){re(this,e),this.Me=new Hf,this.Fe=new Gf(this.Me),this.$e=new Wf(this.Me)}return ae(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),$f=function(){function e(t,n,r,i){re(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return ae(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Yf(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Xf(e.arrayValue,t.arrayValue))?n:0!==(n=Xf(e.directionalValue,t.directionalValue))?n:ru.comparator(e.documentKey,t.documentKey)}function Xf(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Jf=function(){function e(t){re(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=oe(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return ae(e,[{key:"Ge",value:function(e){var t=au(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=ou(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=oe(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Zf=function(){function e(){re(this,e),this.ze=new eh}return ae(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),yu.resolve()}},{key:"getCollectionParents",value:function(e,t){return yu.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return yu.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return yu.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return yu.resolve(null)}},{key:"getIndexType",value:function(e,t){return yu.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return yu.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return yu.resolve(null)}},{key:"getMinOffset",value:function(e,t){return yu.resolve(fu.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return yu.resolve(fu.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return yu.resolve()}},{key:"updateIndexEntries",value:function(e,t){return yu.resolve()}}]),e}(),eh=function(){function e(){re(this,e),this.index={}}return ae(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Mu(eu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Mu(eu.comparator)).toArray()}}]),e}(),th=new Uint8Array(0),nh=function(){function e(t,n){re(this,e),this.user=t,this.databaseId=n,this.He=new eh,this.Je=new Kc((function(e){return Is(e)}),(function(e,t){return Cs(e,t)})),this.uid=t.uid||""}return ae(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:Hl(i)};return rh(e).put(a)}return yu.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Yo(t),""],!1,!0);return rh(e).K(r).next((function(e){var r,i=oe(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Ql(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=ah(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=oh(e);return a.next((function(e){o.put(Mf(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=ah(e),r=oh(e),i=ih(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=ih(e),i=!0,a=new Map;return yu.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=tl(),o=[];return yu.forEach(a,(function(i,a){var u;To("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Is(t)));var s=function(e,t){var n=au(t);if(void 0===n)return null;var r,i=oe(Ts(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=oe(ou(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=oe(Ts(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=oe(ou(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Ns(e,o.fieldPath,e.startAt):As(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Bs(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=oe(ou(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?As(e,o.fieldPath,e.endAt):Ns(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Bs(r,i)}(a,i),h=n.Ze(i,a,l),d=n.Ze(i,a,f),v=n.tn(i,a,c),p=n.en(i.indexId,s,h,l.inclusive,d,f.inclusive,v);return yu.forEach(p,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=ru.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return yu.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.nn(t[s/c]):th,h=u.sn(e,f,n[s%c],r),d=u.rn(e,f,i[s%c],a),v=o.map((function(t){return u.sn(e,f,t,!0)}));l.push.apply(l,$(u.createRange(h,d,v)))},h=0;h<s;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new $f(e,ru.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new $f(e,ru.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new Jf(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=oe(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return yu.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Mu(nu.comparator),r=!1,i=oe(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=oe(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new Qf,i=oe(ou(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);Uf.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new Qf;return Uf.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new Qf;return Uf.ye.re(ss(this.databaseId,t),n.Be(function(e){var t=ou(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Qf);var i,a=0,o=oe(ou(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=oe(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&ls(c))r=this.an(r,s,c);else{var h=f.Be(s.kind);Uf.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=$(e),a=[],o=oe(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=oe(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Qf;f.seed(l.Oe()),Uf.ye.re(s,f.Be(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Ds&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=ah(e),i=oh(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return yu.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new su(t.sequenceNumber,new fu(Nf(t.readTime),new ru(Ql(t.documentKey)),t.largestBatchId)):su.empty(),r=e.fields.map((function(e){var t=a(e,2),n=t[0],r=t[1];return new uu(nu.fromServerFormat(n),r)}));return new iu(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Qo(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=ah(e),a=oh(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return yu.forEach(t,(function(t){return a.put(Mf(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return yu.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?yu.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),yu.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?yu.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return ih(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return ih(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=ih(e),i=new Mu(Yf);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new $f(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new Mu(Yf),r=this.on(t,e);if(null==r)return n;var i=au(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ls(a)){var o,u=oe(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new $f(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new $f(t.indexId,e.key,th,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;To("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=ju(a),s=ju(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=ju(o)):l?(i(u),u=ju(a)):(u=ju(a),s=ju(o))}}(r,i,Yf,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),yu.waitFor(o)}},{key:"ln",value:function(e){var t=1;return oh(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Yf(e,t)})).filter((function(e,t,n){return!t||0!==Yf(e,n[t-1])}));var r=[];r.push(e);var i,a=oe(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Yf(o,e),s=Yf(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,th,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,th,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(uh)}},{key:"getMinOffset",value:function(e,t){var n=this;return yu.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||Oo()}))})).next(uh)}}]),e}();function rh(e){return kf(e,"collectionParents")}function ih(e){return kf(e,"indexEntries")}function ah(e){return kf(e,"indexConfiguration")}function oh(e){return kf(e,"indexState")}function uh(e){Po(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;hu(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new fu(t.readTime,t.documentKey,n)}var sh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ch=function(){function e(t,n,r){re(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ae(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function lh(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Po(1===u)})));var c,l=[],f=oe(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Xl(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(v){f.e(v)}finally{f.f()}return yu.waitFor(a).next((function(){return l}))}function fh(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Oo();t=e.noDocument}return JSON.stringify(t).length}ch.DEFAULT_COLLECTION_PERCENTILE=10,ch.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ch.DEFAULT=new ch(41943040,ch.DEFAULT_COLLECTION_PERCENTILE,ch.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ch.DISABLED=new ch(-1,0,0);var hh=function(){function e(t,n,r,i){re(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return ae(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vh(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=ph(e),o=vh(e);return o.add({}).next((function(u){Po("number"==typeof u);var s,c=new wf(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Dl(e.ne,t)})),i=n.mutations.map((function(t){return Dl(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new Mu((function(e,t){return Qo(e.canonicalString(),t.canonicalString())})),d=oe(r);try{for(d.s();!(s=d.n()).done;){var v=s.value,p=Xl(i.userId,v.key.path,u);h=h.add(v.key.path.popLast()),f.push(o.put(l)),f.push(a.put(p,Jl))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[u]=c.keys()})),yu.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return vh(e).get(t).next((function(e){return e?(Po(e.userId===n.userId),Af(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?yu.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return vh(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Po(t.batchId>=r),a=Af(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return vh(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vh(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return Af(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Yl(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return ph(e).J({range:i},(function(r,i,u){var s=a(r,3),c=s[0],l=s[1],f=s[2],h=Ql(l);if(c===n.userId&&t.path.isEqual(h))return vh(e).get(f).next((function(e){if(!e)throw Oo();Po(e.userId===n.userId),o.push(Af(n.wt,e))}));u.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Mu(Qo),i=[];return t.forEach((function(t){var o=Yl(n.userId,t.path),u=IDBKeyRange.lowerBound(o),s=ph(e).J({range:u},(function(e,i,o){var u=a(e,3),s=u[0],c=u[1],l=u[2],f=Ql(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));i.push(s)})),yu.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,o=Yl(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new Mu(Qo);return ph(e).J({range:u},(function(e,t,o){var u=a(e,3),c=u[0],l=u[1],f=u[2],h=Ql(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):o.done()})).next((function(){return n.pn(e,s)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(vh(e).get(t).next((function(e){if(null===e)throw Oo();Po(e.userId===n.userId),r.push(Af(n.wt,e))})))})),yu.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return lh(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),yu.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return yu.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return ph(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Ql(e[1]);i.push(a)}else r.done()})).next((function(){Po(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return dh(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return mh(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return Po(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function dh(e,t,n){var r=Yl(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return ph(e).J({range:o,H:!0},(function(e,n,r){var o=a(e,3),s=o[0],c=o[1];o[2];s===t&&c===i&&(u=!0),r.done()})).next((function(){return u}))}function vh(e){return kf(e,"mutations")}function ph(e){return kf(e,"documentMutations")}function mh(e){return kf(e,"mutationQueues")}var yh=function(){function e(t){re(this,e),this.En=t}return ae(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),gh=function(){function e(t,n){re(this,e),this.referenceDelegate=t,this.wt=n}return ae(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new yh(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return Jo.fromTimestamp(new Xo(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return bh(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return Po(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return bh(e).J((function(o,u){var s=Df(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return yu.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return bh(e).J((function(e,n){var r=Df(n);t(r)}))}},{key:"bn",value:function(e){return kh(e).get("targetGlobalKey").next((function(e){return Po(null!==e),e}))}},{key:"Pn",value:function(e,t){return kh(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return bh(e).put(Of(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Is(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return bh(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Df(n);Cs(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=wh(e);return t.forEach((function(t){var o=Hl(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),yu.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=wh(e);return yu.forEach(t,(function(t){var a=Hl(t.path);return yu.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=wh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=wh(e),i=tl();return r.J({range:n,H:!0},(function(e,t,n){var r=Ql(e[1]),a=new ru(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Hl(t.path),r=IDBKeyRange.bound([n],[Yo(n)],!1,!0),i=0;return wh(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=a(e,2),o=r[0];r[1];0!==o&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return bh(e).get(t).next((function(e){return e?Df(e):null}))}}]),e}();function bh(e){return kf(e,"targets")}function kh(e){return kf(e,"targetGlobal")}function wh(e){return kf(e,"targetDocuments")}function xh(e,t){var n=a(e,2),r=n[0],i=n[1],o=a(t,2),u=o[0],s=o[1],c=Qo(r,u);return 0===c?Qo(i,s):c}var Eh=function(){function e(t){re(this,e),this.Sn=t,this.buffer=new Mu(xh),this.Dn=0}return ae(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();xh(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Sh=function(){function e(t,n,r){re(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return ae(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;To("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!xu(e.t0)){e.next=12;break}To("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,pu(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Ih=function(){function e(t,n){re(this,e),this.On=t,this.params=n}return ae(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return yu.resolve(Nu.ot);var r=new Eh(t);return this.On.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.On.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(To("LruGarbageCollector","Garbage collection skipped; disabled"),yu.resolve(sh)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(To("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),sh):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(To("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),_o()<=Be.DEBUG&&To("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),yu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Ch=function(){function e(t,n){re(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ih(e,t)}(this,n)}return ae(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return _h(e,n)}},{key:"removeReference",value:function(e,t,n){return _h(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return _h(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return mh(e).Y((function(r){return dh(e,r,t).next((function(e){return e&&(n=!0),yu.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Jo.min()),wh(e).delete([0,Hl(o.path)])}))}));i.push(s)}})).next((function(){return yu.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return _h(e,t)}},{key:"Ln",value:function(e,t){var n,r=wh(e),i=Nu.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var o=a(e,2),u=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===u?(i!==Nu.ot&&t(new ru(Ql(n)),i),i=c,n=s):i=Nu.ot})).next((function(){i!==Nu.ot&&t(new ru(Ql(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function _h(e,t){return wh(e).put(function(e,t){return{targetId:0,path:Hl(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Th=function(){function e(){re(this,e),this.changes=new Kc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ae(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,xs.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?yu.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Nh=function(){function e(t){re(this,e),this.wt=t}return ae(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Ph(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Ph(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],_f(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=xs.newInvalidDocument(t);return Ph(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Lh(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:xs.newInvalidDocument(t)};return Ph(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Lh(t))},(function(e,i){r={document:n.Kn(t,i),size:fh(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Gc();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=Gc(),i=new Pu(ru.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,fh(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return yu.resolve();var r=new Mu(Mh);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Lh(r.first()),Lh(r.last())),a=r.getIterator(),o=a.getNext();return Ph(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=ru.fromSegments([].concat($(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Mh(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(Lh(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),_f(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ph(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Gc(),i=oe(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(ru.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Gc(),o=Rh(t,n),u=Rh(t,fu.max());return Ph(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(ru.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Dh(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Oh(e).get("remoteDocumentGlobalKey").next((function(e){return Po(!!e),e}))}},{key:"qn",value:function(e,t){return Oh(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Nl(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=ru.fromSegments(t.noDocument.path),i=Nf(t.noDocument.readTime);n=xs.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Oo();var a=ru.fromSegments(t.unknownDocument.path),o=Nf(t.unknownDocument.version);n=xs.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Xo(e[0],e[1]);return Jo.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(Jo.min()))return n}return xs.newInvalidDocument(e)}}]),e}();function Ah(e){return new Nh(e)}var Dh=function(e){ce(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new Kc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return ae(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Mu((function(e,t){return Qo(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Cf(t.zn.wt,o);i=i.add(a.path.popLast());var c=fh(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Cf(t.zn.wt,o.convertToNoDocument(Jo.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),yu.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Th);function Oh(e){return kf(e,"remoteDocumentGlobal")}function Ph(e){return kf(e,"remoteDocumentsV14")}function Lh(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Rh(e,t){var n=t.documentKey.path.toArray();return[e,_f(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Mh(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Qo(n[a],r[a]))return i;return(i=Qo(n.length,r.length))||((i=Qo(n[n.length-2],r[r.length-2]))||Qo(n[n.length-1],r[r.length-1]))}var Fh=ae((function e(t,n){re(this,e),this.overlayedDocument=t,this.mutatedFields=n})),jh=function(){function e(t,n,r,i){re(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return ae(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Nc(r.mutation,e,Vu.empty(),Xo.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,tl()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tl(),i=Yc();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Qc();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Yc();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,tl())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Gc(),a=Jc(),o=Jc();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Pc)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Nc(o.mutation,t,o.mutation.getFieldMask(),Xo.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Fh(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Jc(),i=new Pu((function(e,t){return e-t})),a=tl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=oe(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Vu.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||tl()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Xc();c.forEach((function(e){if(!a.has(e)){var n=_c(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return yu.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ru.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ys(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):yu.resolve(Yc()),u=-1,s=a;return o.next((function(t){return yu.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?yu.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,tl())})).next((function(e){return{batchId:u,changes:$c(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ru(t)).next((function(e){var t=Qc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Qc();return this.indexManager.getCollectionParents(e,i).next((function(o){return yu.forEach(o,(function(o){var u=function(e,t){return new Hs(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,xs.newInvalidDocument(n)))}));var n=Qc();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Nc(a.mutation,i,Vu.empty(),Xo.now()),rc(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):yu.resolve(xs.newInvalidDocument(t))}}]),e}(),Vh=function(){function e(t){re(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return ae(e,[{key:"getBundleMetadata",value:function(e,t){return yu.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:bl(n.createTime)}),yu.resolve()}},{key:"getNamedQuery",value:function(e,t){return yu.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:Pf(e.bundledQuery),readTime:bl(e.readTime)}}(t)),yu.resolve()}}]),e}(),Bh=function(){function e(){re(this,e),this.overlays=new Pu(ru.comparator),this.Xn=new Map}return ae(e,[{key:"getOverlay",value:function(e,t){return yu.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Yc();return yu.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),yu.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),yu.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Yc(),i=t.length+1,a=new ru(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return yu.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Pu((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Yc(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Yc(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return yu.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Ef(t,n));var a=this.Xn.get(t);void 0===a&&(a=tl(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),zh=function(){function e(){re(this,e),this.Zn=new Mu(Uh.ts),this.es=new Mu(Uh.ns)}return ae(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Uh(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new Uh(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new ru(new eu([])),r=new Uh(n,e),i=new Uh(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new ru(new eu([])),n=new Uh(t,e),r=new Uh(t,e+1),i=tl();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Uh(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Uh=function(){function e(t,n){re(this,e),this.key=t,this.ls=n}return ae(e,null,[{key:"ts",value:function(e,t){return ru.comparator(e.key,t.key)||Qo(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Qo(e.ls,t.ls)||ru.comparator(e.key,t.key)}}]),e}(),qh=function(){function e(t,n){re(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Mu(Uh.ts)}return ae(e,[{key:"checkEmpty",value:function(e){return yu.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new wf(i,t,n,r);this.mutationQueue.push(a);var o,u=oe(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new Uh(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return yu.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return yu.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return yu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return yu.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return yu.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Uh(t,0),i=new Uh(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),yu.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Mu(Qo);return t.forEach((function(e){var t=new Uh(e,0),i=new Uh(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),yu.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ru.isDocumentKey(i)||(i=i.child(""));var a=new Uh(new ru(i),0),o=new Mu(Qo);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),yu.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Po(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return yu.forEach(t.mutations,(function(i){var a=new Uh(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Uh(t,0),r=this.ds.firstAfterOrEqual(n);return yu.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,yu.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Kh=function(){function e(t){re(this,e),this.ps=t,this.docs=new Pu(ru.comparator),this.size=0}return ae(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return yu.resolve(n?n.document.mutableCopy():xs.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Gc();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():xs.newInvalidDocument(e))})),yu.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Gc(),i=new ru(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||hu(lu(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return yu.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Oo()}},{key:"Is",value:function(e,t){return yu.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Hh(this)}},{key:"getSize",value:function(e){return yu.resolve(this.size)}}]),e}(),Hh=function(e){ce(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this)).zn=e,r}return ae(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),yu.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(Th),Gh=function(){function e(t){re(this,e),this.persistence=t,this.Ts=new Kc((function(e){return Is(e)}),Cs),this.lastRemoteSnapshotVersion=Jo.min(),this.highestTargetId=0,this.Es=0,this.As=new zh,this.targetCount=0,this.Rs=yh.An()}return ae(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),yu.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return yu.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return yu.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),yu.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),yu.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new yh(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,yu.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),yu.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,yu.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),yu.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return yu.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return yu.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),yu.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),yu.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),yu.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return yu.resolve(n)}},{key:"containsKey",value:function(e,t){return yu.resolve(this.As.containsKey(t))}}]),e}(),Wh=function(){function e(t,n){var r=this;re(this,e),this.bs={},this.overlays={},this.Ps=new Nu(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new Gh(this),this.indexManager=new Zf,this.remoteDocumentCache=new Kh((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new If(n),this.Ds=new Vh(this.wt)}return ae(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Bh,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new qh(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;To("MemoryPersistence","Starting transaction:",e);var i=new Qh(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return yu.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Qh=function(e){ce(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ae(n)}(vu),$h=function(){function e(t){re(this,e),this.persistence=t,this.ks=new zh,this.Os=null}return ae(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw Oo()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),yu.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),yu.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),yu.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yu.forEach(this.Fs,(function(r){var i=ru.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,Jo.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return yu.or([function(){return yu.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),Yh=function(){function e(t){re(this,e),this.wt=t}return ae(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new gu("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$l,{unique:!0}),e.createObjectStore("documentMutations")}(e),Xh(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=yu.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Xh(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Jo.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$l,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return yu.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:ff});t.createIndex("collectionPathOverlayIndex",hf,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",df,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Zl});t.createIndex("documentKeyIndex",ef),t.createIndex("collectionGroupIndex",tf)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:uf}).createIndex("sequenceNumberIndex",sf,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:cf}).createIndex("documentKeyIndex",lf,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=fh(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return yu.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return yu.forEach(r,(function(r){Po(r.userId===n.userId);var i=Af(t.wt,r);return lh(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new eu(n),o=function(e){return[0,Hl(e)]}(a);r.push(t.get(o).next((function(n){return n?yu.resolve():function(n){return t.put({targetId:0,path:Hl(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return yu.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:of});var n=t.store("collectionParents"),r=new eh,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Hl(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new eu(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=a(e,3),r=(n[0],n[1]),o=(n[2],Ql(r));return i(o.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=Df(r),a=Of(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new ru(eu.fromString(i.document.name).popFirst(5)):i.noDocument?ru.fromSegments(i.noDocument.path):i.unknownDocument?ru.fromSegments(i.unknownDocument.path):Oo()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return yu.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=Ah(this.wt),a=new Wh($h.Ms,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:tl();Af(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),yu.forEach(r,(function(e,r){var o=new So(r),u=Bf.se(n.wt,o),s=a.getIndexManager(o),c=hh.se(o,n.wt,s,a.referenceDelegate);return new jh(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new bf(t,Nu.ot),e).next()}))}))}}]),e}();function Xh(e){e.createObjectStore("targetDocuments",{keyPath:rf}).createIndex("documentTargetsIndex",af,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nf,{unique:!0}),e.createObjectStore("targetGlobal")}var Jh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Zh=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if(re(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new Mo(Ro.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ch(this,i),this.ei=n+"main",this.wt=new If(s),this.ni=new bu(this.ei,this.Hs,new Yh(this.wt)),this.Vs=new gh(this.referenceDelegate,this.wt),this.remoteDocumentCache=Ah(this.wt),this.Ds=new Ff,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&No("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return ae(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Mo(Ro.FAILED_PRECONDITION,Jh);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new Nu(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=Z(X().mark((function n(r){return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=Z(X().mark((function t(n){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return td(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(xu(t))return To("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return To("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return ed(e).get("owner").next((function(e){return yu.resolve(t.di(e))}))}},{key:"_i",value:function(e){return td(e).delete(this.clientId)}},{key:"wi",value:function(){var e=Z(X().mark((function e(){var t,n,r,i,a=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=kf(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return yu.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=oe(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?yu.resolve(!0):ed(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new Mo(Ro.FAILED_PRECONDITION,Jh);return!1}}return!(!t.networkEnabled||!t.inForeground)||td(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&To("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Z(X().mark((function e(){var t=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new bf(e,Nu.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return td(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return hh.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new nh(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Bf.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;To("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?gf:14===i?yf:13===i?mf:12===i?pf:11===i?vf:void Oo();return this.ni.runTransaction(e,o,u,(function(i){return a=new bf(i,r.Ps?r.Ps.next():Nu.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw No("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new Mo(Ro.FAILED_PRECONDITION,du);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return ed(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Mo(Ro.FAILED_PRECONDITION,Jh)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ed(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=ed(e);return n.get("owner").next((function(e){return t.di(e)?(To("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):yu.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(No("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),Ee()&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return To("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return No("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(En){No("Failed to set zombie client id.",En)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(En){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return bu.V()}}]),e}();function ed(e){return kf(e,"owner")}function td(e){return kf(e,"clientMetadata")}function nd(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var rd=function(){function e(t,n,r,i){re(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return ae(e,null,[{key:"Vi",value:function(t,n){var r,i=tl(),a=tl(),o=oe(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),id=function(){function e(){re(this,e),this.Si=!1}return ae(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return yu.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Jo.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):(_o()<=Be.DEBUG&&To("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),nc(t)),i.Mi(e,o,t,cu(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new Mu(ac(e));return t.forEach((function(t,r){rc(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return _o()<=Be.DEBUG&&To("QueryEngine","Using full collection scan to execute query:",nc(t)),this.Di.getDocumentsMatchingQuery(e,t,fu.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),ad=function(){function e(t,n,r,i){re(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new Pu(Qo),this.Bi=new Kc((function(e){return Is(e)}),Cs),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return ae(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jh(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function od(e,t,n,r){return new ad(e,t,n,r)}function ud(e,t){return sd.apply(this,arguments)}function sd(){return sd=Z(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lo(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=tl(),s=oe(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=oe(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,v=oe(n);try{for(v.s();!(d=v.n()).done;){var p=d.value;o.push(p.batchId);var m,y=oe(p.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){v.e(b)}finally{v.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),sd.apply(this,arguments)}function cd(e,t){var n=Lo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=yu.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Po(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=tl(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function ld(e){var t=Lo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function fd(e,t){var n=Lo(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Bu.EMPTY_BYTE_STRING,Jo.min()).withLastLimboFreeSnapshotVersion(Jo.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=Gc(),s=tl();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(hd(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(Jo.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return yu.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function hd(e,t,n){var r=tl(),i=tl();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Gc();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Jo.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):To("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function dd(e,t){var n=Lo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function vd(e,t){var n=Lo(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,yu.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new Sf(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function pd(e,t,n){return md.apply(this,arguments)}function md(){return md=Z(X().mark((function e(t,n,r){var i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Lo(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),xu(e.t1)){e.next=12;break}throw e.t1;case 12:To("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),md.apply(this,arguments)}function yd(e,t,n){var r=Lo(e),i=Jo.min(),a=tl();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Lo(e),i=r.Bi.get(n);return void 0!==i?yu.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Js(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:Jo.min(),n?a:tl())})).next((function(e){return kd(r,ic(t),e),{documents:e,ji:a}}))}))}function gd(e,t){var n=Lo(e),r=Lo(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function bd(e,t){var n=Lo(e),r=n.Li.get(t)||Jo.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,cu(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return kd(n,t,e),e}))}function kd(e,t,n){var r=Jo.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function wd(e,t,n,r){return xd.apply(this,arguments)}function xd(){return xd=Z(X().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,v;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Lo(t),o=tl(),u=Gc(),s=oe(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,h)}catch(p){s.e(p)}finally{s.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,vd(a,function(e){return Js(Ws(eu.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return hd(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),xd.apply(this,arguments)}function Ed(e,t){return Sd.apply(this,arguments)}function Sd(){return Sd=Z(X().mark((function e(t,n){var r,i,a,o=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:tl(),e.next=3,vd(t,Js(Pf(n.bundledQuery)));case 3:return i=e.sent,a=Lo(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=bl(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(Bu.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Sd.apply(this,arguments)}function Id(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Cd(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function _d(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Td=function(){function e(t,n,r,i){re(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return ae(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Mo(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(No("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Nd=function(){function e(t,n,r){re(this,e),this.targetId=t,this.state=n,this.error=r}return ae(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Mo(i.error.code,i.error.message))),a?new e(t,i.state,r):(No("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Ad=function(){function e(t,n){re(this,e),this.clientId=t,this.activeTargetIds=n}return ae(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=rl(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ju(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(No("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Dd=function(){function e(t,n){re(this,e),this.clientId=t,this.onlineState=n}return ae(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(No("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Od=function(){function e(){re(this,e),this.activeTargetIds=rl()}return ae(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Pd=function(){function e(t,n,r,i,a){re(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Pu(Qo),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=Id(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new Od),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return ae(e,[{key:"start",value:function(){var e=Z(X().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=oe(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Id(this.persistenceKey,i)))&&(o=Ad.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=oe(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(_d(this.persistenceKey,e));if(n){var r=Nd.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(_d(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return To("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){To("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){To("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(To("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void No("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(Z(X().mark((function e(){var r,i,a,o,u,s,c;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=Nu.ot;if(null!=e)try{var n=JSON.parse(e);Po("number"==typeof n),t=n}catch(e){No("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Nu.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new Td(this.currentUser,e,t,n),i=Cd(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=Cd(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=_d(this.persistenceKey,e),i=new Nd(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return Ad.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Td.Ji(new So(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return Nd.Ji(r,t)}},{key:"wr",value:function(e){return Dd.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:To("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=rl();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Ld=function(){function e(){re(this,e),this.Fr=new Od,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ae(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new Od,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Rd=function(){function e(){re(this,e)}return ae(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Md=function(){function e(){var t=this;re(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return ae(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){To("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=oe(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){To("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=oe(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Fd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},jd=function(){function e(t){re(this,e),this.jr=t.jr,this.Wr=t.Wr}return ae(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),Vd=function(e){ce(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ae(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new xo;o.listenOnce(yo.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case mo.NO_ERROR:var t=o.getResponseJson();To("Connection","XHR received:",JSON.stringify(t)),i(t);break;case mo.TIMEOUT:To("Connection",'RPC "'+e+'" timed out'),a(new Mo(Ro.DEADLINE_EXCEEDED,"Request time out"));break;case mo.HTTP_ERROR:var n=o.getStatus();if(To("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ro).indexOf(t)>=0?t:Ro.UNKNOWN}(r.status);a(new Mo(u,r.message))}else a(new Mo(Ro.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Mo(Ro.UNAVAILABLE,"Connection failed."));break;default:Oo()}}finally{To("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=vo(),a=po(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ko({})),this.uo(o.initMessageHeaders,t,n),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())||"object"===typeof navigator&&"ReactNative"===navigator.product||xe().indexOf("Electron/")>=0||function(){var e=xe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||xe().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");To("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new jd({jr:function(e){l?To("Connection","Not sending because WebChannel is closed:",e):(c||(To("Connection","Opening WebChannel transport."),s.open(),c=!0),To("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,wo.EventType.OPEN,(function(){l||To("Connection","WebChannel transport opened.")})),h(s,wo.EventType.CLOSE,(function(){l||(l=!0,To("Connection","WebChannel transport closed"),f.eo())})),h(s,wo.EventType.ERROR,(function(e){l||(l=!0,Ao("Connection","WebChannel transport errored:",e),f.eo(new Mo(Ro.UNAVAILABLE,"The operation could not be completed")))})),h(s,wo.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Po(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){To("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Fc[e];if(void 0!==t)return qc(t)}(a),u=i.message;void 0===o&&(o=Ro.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new Mo(o,u)),s.close()}else To("Connection","WebChannel received:",n),f.no(n)}})),h(a,go.STAT_EVENT,(function(e){e.stat===bo.PROXY?To("Connection","Detected buffering proxy"):e.stat===bo.NOPROXY&&To("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){re(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ae(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);To("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return To("RestConnection","Received: ",e),e}),(function(t){throw Ao("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Io,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=Fd[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function Bd(){return"undefined"!=typeof window?window:null}function zd(){return"undefined"!=typeof document?document:null}function Ud(e){return new pl(e,!0)}var qd=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;re(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return ae(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&To("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),Kd=function(){function e(t,n,r,i,a,o,u,s){re(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new qd(t,n)}return ae(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===Ro.RESOURCE_EXHAUSTED?(No(n.toString()),No("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===Ro.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=a(t,2),i=r[0],o=r[1];e.Po===n&&e.Uo(i,o)}),(function(n){t((function(){var t=new Mo(Ro.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Z(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return To("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(To("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Hd=function(e){ce(n,e);var t=de(n);function n(e,r,i,a,o,u){var s;return re(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return ae(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Oo()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(Po(void 0===t||"string"==typeof t),Bu.fromBase64String(t||"")):(Po(void 0===t||t instanceof Uint8Array),Bu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Ro.UNKNOWN:qc(e.code);return new Mo(t,e.message||"")}(o);n=new sl(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=El(e,s.document.name),l=bl(s.document.updateTime),f=new ks({mapValue:{fields:s.document.fields}}),h=xs.newFoundDocument(c,l,f),d=s.targetIds||[],v=s.removedTargetIds||[];n=new ol(d,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var p=t.documentDelete;p.document;var m=El(e,p.document),y=p.readTime?bl(p.readTime):Jo.min(),g=xs.newNoDocument(m,y),b=p.removedTargetIds||[];n=new ol([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=El(e,k.document),x=k.removedTargetIds||[];n=new ol([],x,w,null)}else{if(!("filter"in t))return Oo();t.filter;var E=t.filter;E.targetId;var S=E.count||0,I=new zc(S),C=E.targetId;n=new ul(C,I)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Jo.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Jo.min():t.readTime?bl(t.readTime):Jo.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=Cl(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=_s(r)?{documents:Pl(e,r)}:{query:Ll(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=yl(e,t.resumeToken):t.snapshotVersion.compareTo(Jo.min())>0&&(n.readTime=ml(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Oo()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=Cl(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(Kd),Gd=function(e){ce(n,e);var t=de(n);function n(e,r,i,a,o,u){var s;return re(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return ae(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,sn(le(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(Po(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(Po(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?bl(e.updateTime):bl(t);return n.isEqual(Jo.min())&&(n=bl(t)),new Ec(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=bl(e.commitTime);return this.listener.Jo(n,t)}return Po(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=Cl(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Dl(t.wt,e)}))};this.Mo(n)}}]),n}(Kd),Wd=function(e){ce(n,e);var t=de(n);function n(e,r,i,a){var o;return re(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return ae(n,[{key:"tu",value:function(){if(this.Zo)throw new Mo(Ro.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=a(i,2),u=o[0],s=o[1];return r.bo.ro(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ro.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Mo(Ro.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=a(i,2),u=o[0],s=o[1];return r.bo.ao(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ro.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Mo(Ro.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return ae((function e(){re(this,e)}))}()),Qd=function(){function e(t,n){re(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return ae(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(No(t),this.su=!1):To("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),$d=ae((function e(t,n,r,i,a){var o=this;re(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ov(o),!e.t0){e.next=5;break}return To("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Lo(t)).lu.add(4),e.next=4,Jd(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,Yd(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new Qd(r,i)}));function Yd(e){return Xd.apply(this,arguments)}function Xd(){return Xd=Z(X().mark((function e(t){var n,r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ov(t)){e.next=18;break}n=oe(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Xd.apply(this,arguments)}function Jd(e){return Zd.apply(this,arguments)}function Zd(){return Zd=Z(X().mark((function e(t){var n,r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=oe(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Zd.apply(this,arguments)}function ev(e,t){var n=Lo(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),av(n)?iv(n):Rv(n).Co()&&nv(n,t))}function tv(e,t){var n=Lo(e),r=Rv(n);n.hu.delete(t),r.Co()&&rv(n,t),0===n.hu.size&&(r.Co()?r.ko():ov(n)&&n._u.set("Unknown"))}function nv(e,t){e.wu.Nt(t.targetId),Rv(e).Qo(t)}function rv(e,t){e.wu.Nt(t),Rv(e).jo(t)}function iv(e){e.wu=new ll({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),Rv(e).start(),e._u.iu()}function av(e){return ov(e)&&!Rv(e).Do()&&e.hu.size>0}function ov(e){return 0===Lo(e).lu.size}function uv(e){e.wu=void 0}function sv(e){return cv.apply(this,arguments)}function cv(){return cv=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){nv(t,e)}));case 1:case"end":return e.stop()}}),e)}))),cv.apply(this,arguments)}function lv(e,t){return fv.apply(this,arguments)}function fv(){return fv=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:uv(t),av(t)?(t._u.uu(n),iv(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),fv.apply(this,arguments)}function hv(e,t,n){return dv.apply(this,arguments)}function dv(){return dv=Z(X().mark((function e(t,n,r){var i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof sl&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Z(X().mark((function e(t,n){var r,i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=oe(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),To("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,vv(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof ol?t.wu.Ut(n):n instanceof ul?t.wu.zt(n):t.wu.Gt(n),r.isEqual(Jo.min())){e.next=29;break}return e.prev=14,e.next=17,ld(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(Bu.EMPTY_BYTE_STRING,n.snapshotVersion)),rv(e,t);var r=new Sf(n.target,t,1,n.sequenceNumber);nv(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),To("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,vv(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),dv.apply(this,arguments)}function vv(e,t,n){return pv.apply(this,arguments)}function pv(){return pv=Z(X().mark((function e(t,n,r){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xu(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,Jd(t);case 5:t._u.set("Offline"),r||(r=function(){return ld(t.localStore)}),t.asyncQueue.enqueueRetryable(Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return To("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,Yd(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),pv.apply(this,arguments)}function mv(e,t){return t().catch((function(n){return vv(e,n,t)}))}function yv(e){return gv.apply(this,arguments)}function gv(){return gv=Z(X().mark((function e(t){var n,r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Lo(t),r=Mv(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!bv(n)){e.next=19;break}return e.prev=3,e.next=6,dd(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,kv(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,vv(n,e.t0);case 17:e.next=2;break;case 19:wv(n)&&xv(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),gv.apply(this,arguments)}function bv(e){return ov(e)&&e.au.length<10}function kv(e,t){e.au.push(t);var n=Mv(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function wv(e){return ov(e)&&!Mv(e).Do()&&e.au.length>0}function xv(e){Mv(e).start()}function Ev(e){return Sv.apply(this,arguments)}function Sv(){return Sv=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Mv(t).Xo();case 1:case"end":return e.stop()}}),e)}))),Sv.apply(this,arguments)}function Iv(e){return Cv.apply(this,arguments)}function Cv(){return Cv=Z(X().mark((function e(t){var n,r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Mv(t),r=oe(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Cv.apply(this,arguments)}function _v(e,t,n){return Tv.apply(this,arguments)}function Tv(){return Tv=Z(X().mark((function e(t,n,r){var i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=xf.from(i,n,r),e.next=3,mv(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,yv(t);case 5:case"end":return e.stop()}}),e)}))),Tv.apply(this,arguments)}function Nv(e,t){return Av.apply(this,arguments)}function Av(){return Av=Z(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Mv(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Z(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Uc(i=n.code)||i===Ro.ABORTED){e.next=7;break}return r=t.au.shift(),Mv(t).No(),e.next=5,mv(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,yv(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:wv(t)&&xv(t);case 5:case"end":return e.stop()}}),e)}))),Av.apply(this,arguments)}function Dv(e,t){return Ov.apply(this,arguments)}function Ov(){return Ov=Z(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Lo(t)).asyncQueue.verifyOperationInProgress(),To("RemoteStore","RemoteStore received new credentials"),i=ov(r),r.lu.add(3),e.next=6,Jd(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,Yd(r);case 12:case"end":return e.stop()}}),e)}))),Ov.apply(this,arguments)}function Pv(e,t){return Lv.apply(this,arguments)}function Lv(){return Lv=Z(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lo(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,Yd(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,Jd(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Lv.apply(this,arguments)}function Rv(e){return e.mu||(e.mu=function(e,t,n){var r=Lo(e);return r.tu(),new Hd(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:sv.bind(null,e),Jr:lv.bind(null,e),Go:hv.bind(null,e)}),e.fu.push(function(){var t=Z(X().mark((function t(n){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),av(e)?iv(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:uv(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function Mv(e){return e.gu||(e.gu=function(e,t,n){var r=Lo(e);return r.tu(),new Gd(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Ev.bind(null,e),Jr:Nv.bind(null,e),Yo:Iv.bind(null,e),Jo:_v.bind(null,e)}),e.fu.push(function(){var t=Z(X().mark((function t(n){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,yv(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(To("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var Fv=function(){function e(t,n,r,i,a){re(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ae(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mo(Ro.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function jv(e,t){if(No("AsyncQueue","".concat(t,": ").concat(e)),xu(e))return new Mo(Ro.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Vv=function(){function e(t){re(this,e),this.comparator=t?function(e,n){return t(e,n)||ru.comparator(e.key,n.key)}:function(e,t){return ru.comparator(e.key,t.key)},this.keyedMap=Qc(),this.sortedSet=new Pu(this.comparator)}return ae(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Bv=function(){function e(){re(this,e),this.yu=new Pu(ru.comparator)}return ae(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Oo():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),zv=function(){function e(t,n,r,i,a,o,u,s){re(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return ae(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Vv.emptySet(n),a,r,i,!0,!1)}}]),e}(),Uv=ae((function e(){re(this,e),this.Iu=void 0,this.listeners=[]})),qv=ae((function e(){re(this,e),this.queries=new Kc((function(e){return tc(e)}),ec),this.onlineState="Unknown",this.Tu=new Set}));function Kv(e,t){return Hv.apply(this,arguments)}function Hv(){return Hv=Z(X().mark((function e(t,n){var r,i,a,o,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lo(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Uv),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=jv(e.t0,"Initialization of query '".concat(nc(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&Yv(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Hv.apply(this,arguments)}function Gv(e,t){return Wv.apply(this,arguments)}function Wv(){return Wv=Z(X().mark((function e(t,n){var r,i,a,o,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lo(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Wv.apply(this,arguments)}function Qv(e,t){var n,r=Lo(e),i=!1,a=oe(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=oe(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Yv(r)}function $v(e,t,n){var r=Lo(e),i=r.queries.get(t);if(i){var a,o=oe(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Yv(e){e.Tu.forEach((function(e){e.next()}))}var Xv=function(){function e(t,n,r){re(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return ae(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=oe(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new zv(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=zv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),Jv=function(){function e(t,n){re(this,e),this.payload=t,this.byteLength=n}return ae(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),Zv=function(){function e(t){re(this,e),this.wt=t}return ae(e,[{key:"Wi",value:function(e){return El(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?Nl(this.wt,e.document,!1):xs.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return bl(e)}}]),e}(),ep=function(){function e(t,n,r){re(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tp(t)}return ae(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=eu.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new Zv(this.wt),i=oe(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=oe(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||tl()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Z(X().mark((function e(){var t,n,r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wd(this.localStore,new Zv(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=oe(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Ed(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function tp(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var np=ae((function e(t){re(this,e),this.key=t})),rp=ae((function e(t){re(this,e),this.key=t})),ip=function(){function e(t,n){re(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=tl(),this.mutatedKeys=tl(),this.Lu=ac(t),this.Uu=new Vv(this.Lu)}return ae(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new Bv,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=rc(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),v=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),v=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),v=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),v=!0):l&&!f&&(r.track({type:1,doc:l}),v=!0,(s||c)&&(u=!0)),v&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oo()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new zv(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Bv,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=tl(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new rp(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new np(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=tl();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return zv.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),ap=ae((function e(t,n,r){re(this,e),this.query=t,this.targetId=n,this.view=r})),op=ae((function e(t){re(this,e),this.key=t,this.Xu=!1})),up=function(){function e(t,n,r,i,a,o){re(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Kc((function(e){return tc(e)}),ec),this.ec=new Map,this.nc=new Set,this.sc=new Pu(ru.comparator),this.ic=new Map,this.rc=new zh,this.oc={},this.uc=new Map,this.cc=yh.Rn(),this.onlineState="Unknown",this.ac=void 0}return ae(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function sp(e,t){return cp.apply(this,arguments)}function cp(){return cp=Z(X().mark((function e(t,n){var r,i,a,o,u,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tm(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,vd(r.localStore,Js(n));case 8:return u=e.sent,r.isPrimaryClient&&ev(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,lp(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),cp.apply(this,arguments)}function lp(e,t,n,r){return fp.apply(this,arguments)}function fp(){return fp=Z(X().mark((function e(t,n,r,i){var a,o,u,s,c,l;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=Z(X().mark((function e(t,n,r,i){var a,o,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,yd(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Dp(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,yd(t.localStore,n,!0);case 3:return a=e.sent,o=new ip(n,a.ji),u=o.Ku(a.documents),s=al.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),Dp(t,r,c.zu),l=new ap(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),fp.apply(this,arguments)}function hp(e,t){return dp.apply(this,arguments)}function dp(){return dp=Z(X().mark((function e(t,n){var r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lo(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!ec(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,pd(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),tv(r.remoteStore,i.targetId),Np(r,i.targetId)})).catch(pu);case 9:e.next=14;break;case 11:return Np(r,i.targetId),e.next=14,pd(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),dp.apply(this,arguments)}function vp(e,t,n){return pp.apply(this,arguments)}function pp(){return pp=Z(X().mark((function e(t,n,r){var i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nm(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Lo(e),a=Xo.now(),o=t.reduce((function(e,t){return e.add(t.key)}),tl());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Gc(),s=tl();return i.Ui.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=oe(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Ac(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Pc(c.key,l,ws(l.value.mapValue),Sc.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:$c(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new Pu(Qo)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Lp(i,a.changes);case 9:return e.next=11,yv(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=jv(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),pp.apply(this,arguments)}function mp(e,t){return yp.apply(this,arguments)}function yp(){return yp=Z(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lo(t),e.prev=1,e.next=4,fd(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(Po(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Po(n.Xu):e.removedDocuments.size>0&&(Po(n.Xu),n.Xu=!1))})),e.next=8,Lp(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,pu(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),yp.apply(this,arguments)}function gp(e,t,n){var r=Lo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Lo(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=oe(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Yv(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function bp(e,t,n){return kp.apply(this,arguments)}function kp(){return kp=Z(X().mark((function e(t,n,r){var i,a,o,u,s,c;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Lo(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Pu(ru.comparator)).insert(o,xs.newNoDocument(o,Jo.min())),s=tl().add(o),c=new il(Jo.min(),new Map,new Mu(Qo),u,s),e.next=9,mp(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),Pp(i),e.next=16;break;case 14:return e.next=16,pd(i.localStore,n,!1).then((function(){return Np(i,n,r)})).catch(pu);case 16:case"end":return e.stop()}}),e)}))),kp.apply(this,arguments)}function wp(e,t){return xp.apply(this,arguments)}function xp(){return xp=Z(X().mark((function e(t,n){var r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lo(t),i=n.batch.batchId,e.prev=1,e.next=4,cd(r.localStore,n);case 4:return a=e.sent,Tp(r,i,null),_p(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Lp(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,pu(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),xp.apply(this,arguments)}function Ep(e,t,n){return Sp.apply(this,arguments)}function Sp(){return Sp=Z(X().mark((function e(t,n,r){var i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lo(t),e.prev=1,e.next=4,function(e,t){var n=Lo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Po(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Tp(i,n,r),_p(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Lp(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,pu(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Sp.apply(this,arguments)}function Ip(e,t){return Cp.apply(this,arguments)}function Cp(){return Cp=Z(X().mark((function e(t,n){var r,i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ov((r=Lo(t)).remoteStore)||To("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Lo(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=jv(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Cp.apply(this,arguments)}function _p(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function Tp(e,t,n){var r=Lo(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function Np(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=oe(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||Ap(e,t)}))}function Ap(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(tv(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),Pp(e))}function Dp(e,t,n){var r,i=oe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof np?(e.rc.addReference(a.key,t),Op(e,a)):a instanceof rp?(To("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||Ap(e,a.key)):Oo()}}catch(o){i.e(o)}finally{i.f()}}function Op(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(To("SyncEngine","New document in limbo: "+n),e.nc.add(r),Pp(e))}function Pp(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new ru(eu.fromString(t)),r=e.cc.next();e.ic.set(r,new op(n)),e.sc=e.sc.insert(n,r),ev(e.remoteStore,new Sf(Js(Ws(n.path)),r,2,Nu.ot))}}function Lp(e,t,n){return Rp.apply(this,arguments)}function Rp(){return Rp=Z(X().mark((function e(t,n,r){var i,a,o,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Lo(t),a=[],o=[],u=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){u.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=rd.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Z(X().mark((function e(t,n){var r,i,a,o,u,s,c,l;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lo(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return yu.forEach(n,(function(t){return yu.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return yu.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),xu(e.t0)){e.next=10;break}throw e.t0;case 10:To("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=oe(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Rp.apply(this,arguments)}function Mp(e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=Z(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Lo(t)).currentUser.isEqual(n)){e.next=11;break}return To("SyncEngine","User change. New user:",n.toKey()),e.next=5,ud(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new Mo(Ro.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Lp(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),Fp.apply(this,arguments)}function jp(e,t){var n=Lo(e),r=n.ic.get(t);if(r&&r.Xu)return tl().add(r.key);var i=tl(),a=n.ec.get(t);if(!a)return i;var o,u=oe(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function Vp(e,t){return Bp.apply(this,arguments)}function Bp(){return Bp=Z(X().mark((function e(t,n){var r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lo(t),e.next=3,yd(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&Dp(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),Bp.apply(this,arguments)}function zp(e,t){return Up.apply(this,arguments)}function Up(){return Up=Z(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lo(t),e.abrupt("return",bd(r.localStore,n).then((function(e){return Lp(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Up.apply(this,arguments)}function qp(e,t,n,r){return Kp.apply(this,arguments)}function Kp(){return Kp=Z(X().mark((function e(t,n,r,i){var a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Lo(t),e.next=3,function(e,t){var n=Lo(e),r=Lo(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):yu.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,yv(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Tp(a,n,i||null),_p(a,n),function(e,t){Lo(Lo(e).mutationQueue).In(t)}(a.localStore,n)):Oo();case 11:return e.next=13,Lp(a,o);case 13:e.next=16;break;case 15:To("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Kp.apply(this,arguments)}function Hp(e,t){return Gp.apply(this,arguments)}function Gp(){return Gp=Z(X().mark((function e(t,n){var r,i,a,o,u,s,c,l;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tm(r=Lo(t)),nm(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Wp(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,Pv(r.remoteStore,!0);case 9:o=oe(a);try{for(o.s();!(u=o.n()).done;)s=u.value,ev(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Np(r,t),pd(r.localStore,t,!0)})),tv(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Wp(r,c);case 21:return function(e){var t=Lo(e);t.ic.forEach((function(e,n){tv(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new Pu(ru.comparator)}(r),r.ac=!1,e.next=25,Pv(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Gp.apply(this,arguments)}function Wp(e,t,n){return Qp.apply(this,arguments)}function Qp(){return Qp=Z(X().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,v,p,m,y;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Lo(t),a=[],o=[],u=oe(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,vd(i.localStore,Js(f[0]));case 11:l=e.sent,h=oe(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return v=d.value,p=i.tc.get(v),e.next=20,Vp(i,p);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,gd(i.localStore,c);case 36:return y=e.sent,e.next=39,vd(i.localStore,y);case 39:return l=e.sent,e.next=42,lp(i,$p(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Qp.apply(this,arguments)}function $p(e){return Gs(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Yp(e){var t=Lo(e);return Lo(Lo(t.localStore).persistence).Ri()}function Xp(e,t,n,r){return Jp.apply(this,arguments)}function Jp(){return Jp=Z(X().mark((function e(t,n,r,i){var a,o,u,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Lo(t)).ac){e.next=3;break}return e.abrupt("return",void To("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,bd(a.localStore,ic(o[0]));case 10:return u=e.sent,s=il.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,Lp(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,pd(a.localStore,n,!0);case 17:return Np(a,n,i),e.abrupt("break",20);case 19:Oo();case 20:case"end":return e.stop()}}),e)}))),Jp.apply(this,arguments)}function Zp(e,t,n){return em.apply(this,arguments)}function em(){return em=Z(X().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=tm(t)).ac){e.next=45;break}a=oe(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return To("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,gd(i.localStore,u);case 12:return s=e.sent,e.next=15,vd(i.localStore,s);case 15:return c=e.sent,e.next=18,lp(i,$p(s),c.targetId,!1);case 18:ev(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=oe(r),e.prev=30,h=X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,pd(i.localStore,t,!1).then((function(){tv(i.remoteStore,t),Np(i,t)})).catch(pu);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),em.apply(this,arguments)}function tm(e){var t=Lo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=mp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bp.bind(null,t),t.Zu.Go=Qv.bind(null,t.eventManager),t.Zu.lc=$v.bind(null,t.eventManager),t}function nm(e){var t=Lo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ep.bind(null,t),t}function rm(e,t,n){var r=Lo(e);(function(){var e=Z(X().mark((function e(t,n,r){var i,a,o,u,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Lo(e),r=bl(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(tp(i)),a=new ep(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Lp(t,s.Mu,void 0);case 31:return e.next=33,function(e,t){var n=Lo(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Ao("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var im=function(){function e(){re(this,e),this.synchronizeTabs=!1}return ae(e,[{key:"initialize",value:function(){var e=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=Ud(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return od(this.persistence,new id,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new Wh($h.Ms,this.wt)}},{key:"dc",value:function(e){return new Ld}},{key:"terminate",value:function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),am=function(e){ce(n,e);var t=de(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return ae(n,[{key:"initialize",value:function(){var e=Z(X().mark((function e(t){var r=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sn(le(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,nm(this.yc.syncEngine);case 6:return e.next=8,yv(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return od(this.persistence,new id,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Sh(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new Tu(t,this.persistence);return new _u(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=nd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ch.withCacheSize(this.cacheSizeBytes):ch.DEFAULT;return new Zh(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Bd(),zd(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new Ld}}]),n}(im),om=function(e){ce(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ae(n,[{key:"initialize",value:function(){var e=Z(X().mark((function e(t){var r,i=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sn(le(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof Pd,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:qp.bind(null,r),Or:Xp.bind(null,r),Mr:Zp.bind(null,r),Ri:Yp.bind(null,r),Nr:zp.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hp(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=Bd();if(!Pd.V(t))throw new Mo(Ro.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=nd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Pd(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(am),um=function(){function e(){re(this,e)}return ae(e,[{key:"initialize",value:function(){var e=Z(X().mark((function e(t,n){var r=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return gp(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Mp.bind(null,this.syncEngine),e.next=12,Pv(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new qv}},{key:"createDatastore",value:function(e){var t,n=Ud(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Vd(t));return function(e,t,n,r){return new Wd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return gp(o.syncEngine,e,0)},a=Md.V()?new Md:new Rd,new $d(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new up(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Lo(t),To("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,Jd(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function sm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Z(X().mark((function r(){var i;return X().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var cm=function(){function e(t){re(this,e),this.observer=t,this.muted=!1}return ae(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),lm=function(){function e(t,n){var r=this;re(this,e),this.Ec=t,this.wt=n,this.metadata=new Fo,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return ae(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=Z(X().mark((function e(){var t,n,r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new Jv(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=Z(X().mark((function e(){var t,n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=Z(X().mark((function e(){var t,n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),fm=function(){function e(t){re(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return ae(e,[{key:"lookup",value:function(){var e=Z(X().mark((function e(t){var n,r=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Mo(Ro.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Z(X().mark((function e(t,n){var r,i,a,o,u,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lo(t),i=Cl(r.wt)+"/documents",a={documents:n.map((function(e){return xl(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Al(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Po(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Vc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Z(X().mark((function e(){var t,n=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ru.fromPath(t);n.mutations.push(new Bc(r,n.precondition(r)))})),e.next=7,function(){var e=Z(X().mark((function e(t,n){var r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lo(t),i=Cl(r.wt)+"/documents",a={writes:n.map((function(e){return Dl(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Oo();t=Jo.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Mo(Ro.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Sc.updateTime(t):Sc.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Jo.min()))throw new Mo(Ro.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sc.updateTime(t)}return Sc.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),hm=function(){function e(t,n,r,i,a){re(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new qd(this.asyncQueue,"transaction_retry")}return ae(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(Z(X().mark((function t(){var n,r;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new fm(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!Yu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Uc(t)}return!1}}]),e}(),dm=function(){function e(t,n,r,i){var a=this;re(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=So.UNAUTHENTICATED,this.clientId=Wo.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return To("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return To("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return ae(e,[{key:"getConfiguration",value:function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Mo(Ro.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Z(X().mark((function n(){var r;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=jv(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function vm(e,t){return pm.apply(this,arguments)}function pm(){return pm=Z(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),To("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ud(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),pm.apply(this,arguments)}function mm(e,t){return ym.apply(this,arguments)}function ym(){return ym=Z(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,gm(t);case 3:return r=e.sent,To("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Dv(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Dv(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),ym.apply(this,arguments)}function gm(e){return bm.apply(this,arguments)}function bm(){return bm=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return To("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,vm(t,new im);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),bm.apply(this,arguments)}function km(e){return wm.apply(this,arguments)}function wm(){return wm=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return To("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,mm(t,new um);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),wm.apply(this,arguments)}function xm(e){return gm(e).then((function(e){return e.persistence}))}function Em(e){return gm(e).then((function(e){return e.localStore}))}function Sm(e){return km(e).then((function(e){return e.remoteStore}))}function Im(e){return km(e).then((function(e){return e.syncEngine}))}function Cm(e){return _m.apply(this,arguments)}function _m(){return _m=Z(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,km(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=sp.bind(null,n.syncEngine),r.onUnlisten=hp.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),_m.apply(this,arguments)}function Tm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Fo;return e.asyncQueue.enqueueAndForget(Z(X().mark((function i(){return X().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cm({next:function(a){t.enqueueAndForget((function(){return Gv(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Mo(Ro.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Mo(Ro.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Xv(Ws(n.path),a,{includeMetadataChanges:!0,Du:!0});return Kv(e,o)},i.next=3,Cm(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Nm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Fo;return e.asyncQueue.enqueueAndForget(Z(X().mark((function i(){return X().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cm({next:function(n){t.enqueueAndForget((function(){return Gv(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Mo(Ro.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Xv(n,a,{includeMetadataChanges:!0,Du:!0});return Kv(e,o)},i.next=3,Cm(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Am=new Map;function Dm(e,t,n){if(!n)throw new Mo(Ro.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Om(e,t,n,r){if(!0===t&&!0===r)throw new Mo(Ro.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Pm(e){if(!ru.isDocumentKey(e))throw new Mo(Ro.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Lm(e){if(ru.isDocumentKey(e))throw new Mo(Ro.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Rm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Oo()}function Mm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Mo(Ro.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Rm(e);throw new Mo(Ro.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Fm(e,t){if(t<=0)throw new Mo(Ro.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var jm=function(){function e(t){var n;if(re(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Mo(Ro.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Mo(Ro.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Om("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ae(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Vm=function(){function e(t,n,r){re(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jm({}),this._settingsFrozen=!1,t instanceof $u?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Mo(Ro.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(e.options.projectId)}(t))}return ae(e,[{key:"app",get:function(){if(!this._app)throw new Mo(Ro.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Mo(Ro.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jm(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Vo;switch(e.type){case"gapi":var t=e.client;return Po(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new qo(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Mo(Ro.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Am.get(e);t&&(To("ComponentProvider","Removing Datastore"),Am.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Bm(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Mm(e,Vm))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Ao("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=So.MOCK_USER;else{o=we(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Mo(Ro.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new So(s)}e._authCredentials=new Bo(new jo(o,u))}}var zm=function(){function e(t,n,r){re(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ae(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new qm(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Um=function(){function e(t,n,r){re(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ae(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),qm=function(e){ce(n,e);var t=de(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this,e,r,Ws(i)))._path=i,a.type="collection",a}return ae(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new zm(this.firestore,null,new ru(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Um);function Km(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Re(e),Dm("collection","path",t),e instanceof Vm){var a=eu.fromString.apply(eu,[t].concat(r));return Lm(a),new qm(e,null,a)}if(!(e instanceof zm||e instanceof qm))throw new Mo(Ro.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(eu.fromString.apply(eu,[t].concat(r)));return Lm(o),new qm(e.firestore,null,o)}function Hm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Re(e),1===arguments.length&&(t=Wo.I()),Dm("doc","path",t),e instanceof Vm){var a=eu.fromString.apply(eu,[t].concat(r));return Pm(a),new zm(e,null,new ru(a))}if(!(e instanceof zm||e instanceof qm))throw new Mo(Ro.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(eu.fromString.apply(eu,[t].concat(r)));return Pm(o),new zm(e.firestore,e instanceof qm?e.converter:null,new ru(o))}function Gm(e,t){return e=Re(e),t=Re(t),(e instanceof zm||e instanceof qm)&&(t instanceof zm||t instanceof qm)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Wm(e,t){return e=Re(e),t=Re(t),e instanceof Um&&t instanceof Um&&e.firestore===t.firestore&&ec(e._query,t._query)&&e.converter===t.converter}var Qm=function(){function e(){var t=this;re(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new qd(this,"async_queue_retry"),this.Kc=function(){var e=zd();e&&To("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=zd();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return ae(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=zd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new Fo;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=Z(X().mark((function e(){var t=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),xu(e.t0)){e.next=12;break}throw e.t0;case 12:To("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw No("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=Fv.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&Oo()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Z(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=oe(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=oe(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function $m(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=oe(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Ym=function(){function e(){re(this,e),this._progressObserver={},this._taskCompletionResolver=new Fo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return ae(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Xm=function(e){ce(n,e);var t=de(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Qm,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return ae(n,[{key:"_terminate",value:function(){return this._firestoreClient||Zm(this),this._firestoreClient.terminate()}}]),n}(Vm);function Jm(e){return e._firestoreClient||Zm(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Zm(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Qu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new dm(e._authCredentials,e._appCheckCredentials,e._queue,r)}function ey(e,t,n){var r=new Fo;return e.asyncQueue.enqueue(Z(X().mark((function i(){return X().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,vm(e,n);case 3:return i.next=5,mm(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Ro.FAILED_PRECONDITION||e.code===Ro.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function ty(e){return function(e){return e.asyncQueue.enqueue(Z(X().mark((function t(){var n,r;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xm(e);case 2:return n=t.sent,t.next=5,Sm(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Lo(e);return t.lu.delete(0),Yd(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Jm(e=Mm(e,Xm)))}function ny(e){return function(e){return e.asyncQueue.enqueue(Z(X().mark((function t(){var n,r;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xm(e);case 2:return n=t.sent,t.next=5,Sm(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Lo(t)).lu.add(0),e.next=4,Jd(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Jm(e=Mm(e,Xm)))}function ry(e,t){var n=Jm(e=Mm(e,Xm)),r=new Ym;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new lm(e,t)}(function(e,t){if(e instanceof Uint8Array)return sm(e,t);if(e instanceof ArrayBuffer)return sm(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Ud(t));e.asyncQueue.enqueueAndForget(Z(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rm,t.next=3,Im(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function iy(e,t){return function(e,t){return e.asyncQueue.enqueue(Z(X().mark((function n(){return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Lo(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,Em(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Jm(e=Mm(e,Xm)),t).then((function(t){return t?new Um(e,null,t.query):null}))}function ay(e){if(e._initialized||e._terminated)throw new Mo(Ro.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var oy=function(){function e(){re(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Mo(Ro.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nu(n)}return ae(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var uy=function(){function e(t){re(this,e),this._byteString=t}return ae(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Bu.fromBase64String(t))}catch(t){throw new Mo(Ro.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Bu.fromUint8Array(t))}}]),e}(),sy=ae((function e(t){re(this,e),this._methodName=t})),cy=function(){function e(t,n){if(re(this,e),!isFinite(t)||t<-90||t>90)throw new Mo(Ro.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Mo(Ro.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ae(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Qo(this._lat,e._lat)||Qo(this._long,e._long)}}]),e}(),ly=/^__.*__$/,fy=function(){function e(t,n,r){re(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ae(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Pc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Oc(e,this.data,t,this.fieldTransforms)}}]),e}(),hy=function(){function e(t,n,r){re(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ae(e,[{key:"toMutation",value:function(e,t){return new Pc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function dy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oo()}}var vy=function(){function e(t,n,r,i,a,o){re(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ae(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return Ly(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(dy(this.Zc)&&ly.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),py=function(){function e(t,n,r){re(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||Ud(t)}return ae(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new vy({Zc:e,methodName:t,ca:n,path:nu.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function my(e){var t=e._freezeSettings(),n=Ud(e._databaseId);return new py(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yy(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);Ay("Data must be an object, but it was:",o,r);var u,s,c=Ty(r,o);if(a.merge)u=new Vu(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=oe(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,v=Dy(t,d,n);if(!o.contains(v))throw new Mo(Ro.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));Ry(f,v)||f.push(v)}}catch(p){h.e(p)}finally{h.f()}u=new Vu(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new fy(new ks(c),u,s)}var gy=function(e){ce(n,e);var t=de(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(sy);function by(e,t,n){return new vy({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var ky=function(e){ce(n,e);var t=de(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"_toFieldTransform",value:function(e){return new xc(e.path,new vc)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(sy),wy=function(e){ce(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this,e)).ha=r,i}return ae(n,[{key:"_toFieldTransform",value:function(e){var t=by(this,e,!0),n=this.ha.map((function(e){return _y(e,t)})),r=new pc(n);return new xc(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sy),xy=function(e){ce(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this,e)).ha=r,i}return ae(n,[{key:"_toFieldTransform",value:function(e){var t=by(this,e,!0),n=this.ha.map((function(e){return _y(e,t)})),r=new yc(n);return new xc(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sy),Ey=function(e){ce(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this,e)).la=r,i}return ae(n,[{key:"_toFieldTransform",value:function(e){var t=new bc(e.wt,cc(e.wt,this.la));return new xc(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sy);function Sy(e,t,n,r){var i=e.aa(1,t,n);Ay("Data must be an object, but it was:",i,r);var a=[],o=ks.empty();Du(r,(function(e,r){var u=Py(t,e,n);r=Re(r);var s=i.ia(u);if(r instanceof gy)a.push(u);else{var c=_y(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Vu(a);return new hy(o,u,i.fieldTransforms)}function Iy(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[Dy(t,r,n)],s=[i];if(a.length%2!=0)throw new Mo(Ro.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Dy(t,a[c])),s.push(a[c+1]);for(var l=[],f=ks.empty(),h=u.length-1;h>=0;--h)if(!Ry(l,u[h])){var d=u[h],v=s[h];v=Re(v);var p=o.ia(d);if(v instanceof gy)l.push(d);else{var m=_y(v,p);null!=m&&(l.push(d),f.set(d,m))}}var y=new Vu(l);return new hy(f,y,o.fieldTransforms)}function Cy(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return _y(n,e.aa(r?4:3,t))}function _y(e,t){if(Ny(e=Re(e)))return Ay("Unsupported field value:",t,e),Ty(e,t);if(e instanceof sy)return function(e,t){if(!dy(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=oe(e);try{for(a.s();!(n=a.n()).done;){var o=_y(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Re(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return cc(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Xo.fromDate(e);return{timestampValue:ml(t.wt,n)}}if(e instanceof Xo){var r=new Xo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ml(t.wt,r)}}if(e instanceof cy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uy)return{bytesValue:yl(t.wt,e._byteString)};if(e instanceof zm){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:kl(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(Rm(e)))}(e,t)}function Ty(e,t){var n={};return Ou(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Du(e,(function(e,r){var i=_y(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ny(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Xo||e instanceof cy||e instanceof uy||e instanceof zm||e instanceof sy)}function Ay(e,t,n){if(!Ny(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Rm(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function Dy(e,t,n){if((t=Re(t))instanceof oy)return t._internalPath;if("string"==typeof t)return Py(e,t);throw Ly("Field path arguments must be of type string or ",e,!1,void 0,n)}var Oy=new RegExp("[~\\*/\\[\\]]");function Py(e,t,n){if(t.search(Oy)>=0)throw Ly("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ve(oy,$(t.split(".")))._internalPath}catch(r){throw Ly("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ly(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Mo(Ro.INVALID_ARGUMENT,u+e+s)}function Ry(e,t){return e.some((function(e){return e.isEqual(t)}))}var My=function(){function e(t,n,r,i,a){re(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return ae(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new zm(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Fy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(jy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Fy=function(e){ce(n,e);var t=de(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"data",value:function(){return sn(le(n.prototype),"data",this).call(this)}}]),n}(My);function jy(e,t){return"string"==typeof t?Py(e,t):t instanceof oy?t._internalPath:t._delegate._internalPath}var Vy=function(){function e(t,n){re(this,e),this.hasPendingWrites=t,this.fromCache=n}return ae(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),By=function(e){ce(n,e);var t=de(n);function n(e,r,i,a,o,u){var s;return re(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return ae(n,[{key:"exists",value:function(){return sn(le(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new zy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(jy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(My),zy=function(e){ce(n,e);var t=de(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sn(le(n.prototype),"data",this).call(this,e)}}]),n}(By),Uy=function(){function e(t,n,r,i){re(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vy(i.hasPendingWrites,i.fromCache),this.query=r}return ae(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new zy(n._firestore,n._userDataWriter,r.key,r,new Vy(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Mo(Ro.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new zy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Vy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new zy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Vy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:qy(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function qy(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oo()}}function Ky(e,t){return e instanceof By&&t instanceof By?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Uy&&t instanceof Uy&&e._firestore===t._firestore&&Wm(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Hy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Mo(Ro.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gy=ae((function e(){re(this,e)}));function Wy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Qy=function(e){ce(n,e);var t=de(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return ae(n,[{key:"_apply",value:function(e){var t=my(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Mo(Ro.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){ag(o,a);var s,c=[],l=oe(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(ig(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=ig(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||ag(o,a),u=Cy(n,"where",o,"in"===a||"not-in"===a);var h=Ds.create(i,a,u);return function(e,t){if(t.ht()){var n=$s(e);if(null!==n&&!n.isEqual(t.field))throw new Mo(Ro.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Qs(e);null!==r&&og(e,t.field,r)}var i=function(e,t){var n,r=oe(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Mo(Ro.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Mo(Ro.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Um(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Hs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Gy);var $y=function(e){ce(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return ae(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Mo(Ro.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Mo(Ro.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new zs(t,n);return function(e,t){if(null===Qs(e)){var n=$s(e);null!==n&&og(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new Um(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Hs(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Gy);var Yy=function(e){ce(n,e);var t=de(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return ae(n,[{key:"_apply",value:function(e){return new Um(e.firestore,e.converter,Zs(e._query,this.ma,this.ga))}}]),n}(Gy);var Xy=function(e){ce(n,e);var t=de(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return ae(n,[{key:"_apply",value:function(e){var t=rg(e,this.type,this.ya,this.pa);return new Um(e.firestore,e.converter,function(e,t){return new Hs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Gy);function Jy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Xy("startAt",t,!0)}function Zy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Xy("startAfter",t,!1)}var eg=function(e){ce(n,e);var t=de(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return ae(n,[{key:"_apply",value:function(e){var t=rg(e,this.type,this.ya,this.pa);return new Um(e.firestore,e.converter,function(e,t){return new Hs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Gy);function tg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eg("endBefore",t,!1)}function ng(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eg("endAt",t,!0)}function rg(e,t,n,r){if(n[0]=Re(n[0]),n[0]instanceof My)return function(e,t,n,r,i){if(!r)throw new Mo(Ro.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=oe(Xs(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(ss(t,r.key));else{var c=r.data.field(s.field);if(Hu(c))throw new Mo(Ro.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Mo(Ro.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Bs(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=my(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Mo(Ro.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Mo(Ro.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Ys(e)&&-1!==c.indexOf("/"))throw new Mo(Ro.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(eu.fromString(c));if(!ru.isDocumentKey(l))throw new Mo(Ro.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new ru(l);u.push(ss(t,f))}else{var h=Cy(n,r,c);u.push(h)}}return new Bs(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function ig(e,t,n){if("string"==typeof(n=Re(n))){if(""===n)throw new Mo(Ro.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ys(t)&&-1!==n.indexOf("/"))throw new Mo(Ro.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(eu.fromString(n));if(!ru.isDocumentKey(r))throw new Mo(Ro.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ss(e,new ru(r))}if(n instanceof zm)return ss(e,n._key);throw new Mo(Ro.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Rm(n),"."))}function ag(e,t){if(!Array.isArray(e)||0===e.length)throw new Mo(Ro.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Mo(Ro.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function og(e,t,n){if(!n.isEqual(t))throw new Mo(Ro.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var ug={maxAttempts:5},sg=function(){function e(){re(this,e)}return ae(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ku(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Oo()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Du(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new cy(qu(e.latitude),qu(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Gu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Uu(e);return new Xo(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=eu.fromString(e);Po(Kl(n));var r=new $u(n.get(1),n.get(3)),i=new ru(n.popFirst(5));return r.isEqual(t)||No("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function cg(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var lg=function(e){ce(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this)).firestore=e,r}return ae(n,[{key:"convertBytes",value:function(e){return new uy(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new zm(this.firestore,null,t)}}]),n}(sg),fg=function(){function e(t,n){re(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=my(t)}return ae(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=hg(e,this._firestore),i=cg(r.converter,t,n),a=yy(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Sc.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=hg(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Re(t))||t instanceof oy?Iy(this._dataReader,"WriteBatch.update",i._key,t,n,o):Sy(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Sc.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=hg(e,this._firestore);return this._mutations=this._mutations.concat(new Vc(t._key,Sc.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Mo(Ro.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function hg(e,t){if((e=Re(e)).firestore!==t)throw new Mo(Ro.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var dg=function(e){ce(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this)).firestore=e,r}return ae(n,[{key:"convertBytes",value:function(e){return new uy(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new zm(this.firestore,null,t)}}]),n}(sg);function vg(e){e=Mm(e,zm);var t=Mm(e.firestore,Xm),n=Jm(t),r=new dg(t);return function(e,t){var n=new Fo;return e.asyncQueue.enqueueAndForget(Z(X().mark((function r(){return X().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Z(X().mark((function e(t,n,r){var i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Lo(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Mo(Ro.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=jv(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Em(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new By(t,r,e._key,n,new Vy(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function pg(e){e=Mm(e,Um);var t=Mm(e.firestore,Xm),n=Jm(t),r=new dg(t);return function(e,t){var n=new Fo;return e.asyncQueue.enqueueAndForget(Z(X().mark((function r(){return X().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Z(X().mark((function e(t,n,r){var i,a,o,u,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yd(t,n,!0);case 3:i=e.sent,a=new ip(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=jv(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Em(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Uy(t,r,e,n)}))}function mg(e,t,n){e=Mm(e,zm);var r=Mm(e.firestore,Xm),i=cg(e.converter,t,n);return kg(r,[yy(my(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Sc.none())])}function yg(e,t,n){e=Mm(e,zm);for(var r=Mm(e.firestore,Xm),i=my(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return kg(r,[("string"==typeof(t=Re(t))||t instanceof oy?Iy(i,"updateDoc",e._key,t,n,o):Sy(i,"updateDoc",e._key,t)).toMutation(e._key,Sc.exists(!0))])}function gg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Re(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||$m(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if($m(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof zm)l=Mm(e.firestore,Xm),f=Ws(e._key.path),c={next:function(t){n[s]&&n[s](wg(l,e,t))},error:n[s+1],complete:n[s+2]};else{var v=Mm(e,Um);l=Mm(v.firestore,Xm),f=v._query;var p=new dg(l);c={next:function(e){n[s]&&n[s](new Uy(l,p,v,e))},error:n[s+1],complete:n[s+2]},Hy(e._query)}return function(e,t,n,r){var i=new cm(r),a=new Xv(t,i,n);return e.asyncQueue.enqueueAndForget(Z(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Kv,t.next=3,Cm(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(Z(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Gv,t.next=3,Cm(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Jm(l),f,h,c)}function bg(e,t){return function(e,t){var n=new cm(t);return e.asyncQueue.enqueueAndForget(Z(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Lo(e).Tu.add(t),t.next()},t.next=3,Cm(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(Z(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Lo(e).Tu.delete(t)},t.next=3,Cm(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Jm(e=Mm(e,Xm)),$m(t)?t:{next:t})}function kg(e,t){return function(e,t){var n=new Fo;return e.asyncQueue.enqueueAndForget(Z(X().mark((function r(){return X().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=vp,r.next=3,Im(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Jm(e),t)}function wg(e,t,n){var r=n.docs.get(t._key),i=new dg(e);return new By(e,i,t._key,r,new Vy(n.hasPendingWrites,n.fromCache),t.converter)}var xg=function(e){ce(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this,e,r))._firestore=e,i}return ae(n,[{key:"get",value:function(e){var t=this,r=hg(e,this._firestore),i=new dg(this._firestore);return sn(le(n.prototype),"get",this).call(this,e).then((function(e){return new By(t._firestore,i,r._key,e._document,new Vy(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){re(this,e),this._firestore=t,this._transaction=n,this._dataReader=my(t)}return ae(e,[{key:"get",value:function(e){var t=this,n=hg(e,this._firestore),r=new lg(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Oo();var i=e[0];if(i.isFoundDocument())return new My(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new My(t._firestore,r,n._key,null,n.converter);throw Oo()}))}},{key:"set",value:function(e,t,n){var r=hg(e,this._firestore),i=cg(r.converter,t,n),a=yy(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=hg(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Re(t))||t instanceof oy?Iy(this._dataReader,"Transaction.update",i._key,t,n,o):Sy(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=hg(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Eg(e,t,n){e=Mm(e,Xm);var r=Object.assign(Object.assign({},ug),n);return function(e){if(e.maxAttempts<1)throw new Mo(Ro.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Fo;return e.asyncQueue.enqueueAndForget(Z(X().mark((function i(){var a;return X().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return km(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new hm(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Jm(e),(function(n){return t(new xg(e,n))}),r)}function Sg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wy("arrayUnion",t)}function Ig(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xy("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Io=e}(Nt),xt(new Me("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Xm(i,new zo(e.getProvider("auth-internal")),new Ho(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Rt(Eo,"3.4.10",e),Rt(Eo,"3.4.10","esm2017")}();function Cg(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Mo("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function _g(){if("undefined"===typeof Uint8Array)throw new Mo("unimplemented","Uint8Arrays are not available in this environment.")}function Tg(){if("undefined"==typeof atob)throw new Mo("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Ng=function(){function e(t){re(this,e),this._delegate=t}return ae(e,[{key:"toBase64",value:function(){return Tg(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return _g(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Tg(),new e(uy.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return _g(),new e(uy.fromUint8Array(t))}}]),e}();function Ag(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=oe(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Dg=function(){function e(){re(this,e)}return ae(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){ay(e=Mm(e,Xm));var n=Jm(e),r=e._freezeSettings(),i=new um;return ey(n,i,new am(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){ay(e=Mm(e,Xm));var t=Jm(e),n=e._freezeSettings(),r=new um;return ey(t,r,new om(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Mo(Ro.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Fo;return e._queue.enqueueAndForgetEvenWhileRestricted(Z(X().mark((function n(){return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bu.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,bu.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(nd(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Og=function(){function e(t,n,r){var i=this;re(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof $u||(this._appCompat=t)}return ae(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ao("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Bm(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return ty(this._delegate)}},{key:"disableNetwork",value:function(){return ny(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Om("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Fo;return e.asyncQueue.enqueueAndForget(Z(X().mark((function n(){return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Ip,n.next=3,Im(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Jm(e=Mm(e,Xm)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return bg(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Mo("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Gg(this,Km(this._delegate,e))}catch(t){throw jg(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Fg(this,Hm(this._delegate,e))}catch(t){throw jg(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new qg(this,function(e,t){if(e=Mm(e,Vm),Dm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Mo(Ro.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Um(e,null,function(e){return new Hs(eu.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw jg(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Eg(this._delegate,(function(n){return e(new Lg(t,n))}))}},{key:"batch",value:function(){var e=this;return Jm(this._delegate),new Rg(new fg(this._delegate,(function(t){return kg(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return ry(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return iy(this._delegate,e).then((function(e){return e?new qg(t,e):null}))}}]),e}(),Pg=function(e){ce(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this)).firestore=e,r}return ae(n,[{key:"convertBytes",value:function(e){return new Ng(new uy(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Fg.forKey(t,this.firestore,null)}}]),n}(sg);var Lg=function(){function e(t,n){re(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Pg(t)}return ae(e,[{key:"get",value:function(e){var t=this,n=Wg(e);return this._delegate.get(n).then((function(e){return new zg(t._firestore,new By(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Wg(e);return n?(Cg("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Wg(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Wg(e);return this._delegate.delete(t),this}}]),e}(),Rg=function(){function e(t){re(this,e),this._delegate=t}return ae(e,[{key:"set",value:function(e,t,n){var r=Wg(e);return n?(Cg("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Wg(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Wg(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Mg=function(){function e(t,n,r){re(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return ae(e,[{key:"fromFirestore",value:function(e,t){var n=new zy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ug(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Pg(t),n),i.set(n,a)),a}}]),e}();Mg.INSTANCES=new WeakMap;var Fg=function(){function e(t,n){re(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Pg(t)}return ae(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Gg(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Gg(this.firestore,Km(this._delegate,e))}catch(t){throw jg(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Re(e))instanceof zm&&Gm(this._delegate,e)}},{key:"set",value:function(e,t){t=Cg("DocumentReference.set",t);try{return t?mg(this._delegate,e,t):mg(this._delegate,e)}catch(n){throw jg(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?yg(this._delegate,e):yg.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw jg(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return kg(Mm(e.firestore,Xm),[new Vc(e._key,Sc.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Vg(n),a=Bg(n,(function(t){return new zg(e.firestore,new By(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return gg(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?vg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Mm(e,zm);var t=Mm(e.firestore,Xm);return Tm(Jm(t),e._key,{source:"server"}).then((function(n){return wg(t,e,n)}))}(this._delegate):function(e){e=Mm(e,zm);var t=Mm(e.firestore,Xm);return Tm(Jm(t),e._key).then((function(n){return wg(t,e,n)}))}(this._delegate),t.then((function(e){return new zg(n.firestore,new By(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Mg.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Mo("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new zm(n._delegate,r,new ru(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new zm(n._delegate,r,t))}}]),e}();function jg(e,t,n){return e.message=e.message.replace(t,n),e}function Vg(e){var t,n=oe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Ag(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Bg(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Ag(e[0])?e[0]:Ag(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var zg=function(){function e(t,n){re(this,e),this._firestore=t,this._delegate=n}return ae(e,[{key:"ref",get:function(){return new Fg(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Ky(this._delegate,e._delegate)}}]),e}(),Ug=function(e){ce(n,e);var t=de(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Oo()}(void 0!==t),t}}]),n}(zg),qg=function(){function e(t,n){re(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Pg(t)}return ae(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Wy(this._delegate,function(e,t,n){var r=t,i=jy("where",e);return new Qy(i,r,n)}(t,n,r)))}catch(i){throw jg(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Wy(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=jy("orderBy",e);return new $y(n,t)}(t,n)))}catch(r){throw jg(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Wy(this._delegate,function(e){return Fm("limit",e),new Yy("limit",e,"F")}(t)))}catch(n){throw jg(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Wy(this._delegate,function(e){return Fm("limitToLast",e),new Yy("limitToLast",e,"L")}(t)))}catch(n){throw jg(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Wy(this._delegate,Jy.apply(void 0,arguments)))}catch(t){throw jg(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Wy(this._delegate,Zy.apply(void 0,arguments)))}catch(t){throw jg(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Wy(this._delegate,tg.apply(void 0,arguments)))}catch(t){throw jg(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Wy(this._delegate,ng.apply(void 0,arguments)))}catch(t){throw jg(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Wm(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?pg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Mm(e,Um);var t=Mm(e.firestore,Xm),n=Jm(t),r=new dg(t);return Nm(n,e._query,{source:"server"}).then((function(n){return new Uy(t,r,e,n)}))}(this._delegate):function(e){e=Mm(e,Um);var t=Mm(e.firestore,Xm),n=Jm(t),r=new dg(t);return Hy(e._query),Nm(n,e._query).then((function(n){return new Uy(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Hg(n.firestore,new Uy(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Vg(n),a=Bg(n,(function(t){return new Hg(e.firestore,new Uy(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return gg(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Mg.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Kg=function(){function e(t,n){re(this,e),this._firestore=t,this._delegate=n}return ae(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Ug(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Hg=function(){function e(t,n){re(this,e),this._firestore=t,this._delegate=n}return ae(e,[{key:"query",get:function(){return new qg(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Ug(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Kg(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Ug(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Ky(this._delegate,e._delegate)}}]),e}(),Gg=function(e){ce(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return ae(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Fg(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Fg(this.firestore,void 0===e?Hm(this._delegate):Hm(this._delegate,e))}catch(t){throw jg(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Mm(e.firestore,Xm),r=Hm(e),i=cg(e.converter,t);return kg(n,[yy(my(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Sc.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Fg(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Gm(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Mg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(qg);function Wg(e){return Mm(e,zm)}var Qg,$g=function(){function e(){re(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=ve(oy,n)}return ae(e,[{key:"isEqual",value:function(e){return(e=Re(e))instanceof oy&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(nu.keyField().canonicalString())}}]),e}(),Yg=function(){function e(t){re(this,e),this._delegate=t}return ae(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new ky("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new gy("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Sg.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Ig.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Ey("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Xg={Firestore:Og,GeoPoint:cy,Timestamp:Xo,Blob:Ng,Transaction:Lg,WriteBatch:Rg,DocumentReference:Fg,DocumentSnapshot:zg,Query:qg,QueryDocumentSnapshot:Ug,QuerySnapshot:Hg,CollectionReference:Gg,FieldPath:$g,FieldValue:Yg,setLogLevel:function(e){!function(e){Co.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Me("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Xg)))})(Qg=on,(function(e,t){return new Og(e,t,new Dg)})),Qg.registerVersion("@firebase/firestore-compat","0.1.19");on.initializeApp({apiKey:"AIzaSyD81eBkMqdcK7-Tipti-qVN_5D035jLZ5Q",authDomain:"budget-tracker-476b8.firebaseapp.com",projectId:"budget-tracker-476b8",storageBucket:"budget-tracker-476b8.appspot.com",messagingSenderId:"607530223022",appId:"1:607530223022:web:e83dc7f4aef9c1edb2f43f"});var Jg=on.firestore(),Zg=function(){var e=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jg.collection("categories"),e.next=3,n.add(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),eb=function(){var e=Z(X().mark((function e(){var t,n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Jg.collection("categories"),e.next=3,t.get();case 3:return n=e.sent,r=n.docs,e.abrupt("return",r.map((function(e){return ne({id:e.id},e.data())})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tb=function(){var e=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jg.collection("categories").doc(t).delete();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nb=function(){var e=Z(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hm(Jg,"categories",t),e.next=3,yg(r,{expenses:Sg(n)});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),rb=n(184),ib=(0,u.createContext)(),ab=function(e){var t=e.children,n=a((0,u.useState)([]),2),r=n[0],i=n[1],o=a((0,u.useState)([{}]),2),s=o[0],c=o[1],l=function(){var e=Z(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eb();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Z(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,i((function(e){return e.filter((function(e){return e.id!==n}))})),e.next=4,tb(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,rb.jsx)(ib.Provider,{value:{categories:r,expenses:s,getAllCategories:l,addCategory:function(e){var t=e.name,n=e.maximum;i((function(e){return e.find((function(e){return e.name===t}))?(console.log("".concat(t," has already been added")),e):(Zg({name:t,maximum:n}),[].concat($(e),[{name:t,maximum:n}]))}))},deleteCategories:f,addExpense:function(e){var t=e.description,n=e.amount;c((function(e){return[].concat($(e),[{description:t,amount:n}])}))},setExpenses:c},children:t})},ob=(0,u.createContext)(),ub=function(e){var t=e.children,n=a((0,u.useState)(""),2),r={username:n[0],setUsername:n[1]};return(0,rb.jsx)(ob.Provider,{value:r,children:t})};function sb(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function cb(e,t){if(null==e)return{};var n,r,i=sb(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var lb=n(694),fb=n.n(lb),hb=["xxl","xl","lg","md","sm","xs"],db=u.createContext({prefixes:{},breakpoints:hb});db.Consumer,db.Provider;function vb(e,t){var n=(0,u.useContext)(db).prefixes;return e||n[t]||t}function pb(){return(0,u.useContext)(db).breakpoints}var mb=["bsPrefix","fluid","as","className"],yb=u.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,u=cb(e,mb),s=vb(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,rb.jsx)(a,ne(ne({ref:t},u),{},{className:fb()(o,r?"".concat(s).concat(c):s)}))}));yb.displayName="Container",yb.defaultProps={fluid:!1};var gb=yb;function bb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hb,n=[];return Object.entries(e).forEach((function(e){var r=a(e,2),i=r[0],o=r[1];null!=o&&("object"===typeof o?t.forEach((function(e){var t=o[e];if(null!=t){var r="xs"!==e?"-".concat(e):"";n.push("".concat(i).concat(r,"-").concat(t))}})):n.push("".concat(i,"-").concat(o)))})),n}var kb=["as","bsPrefix","className","direction","gap"],wb=u.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.bsPrefix,a=e.className,o=e.direction,u=e.gap,s=cb(e,kb);i=vb(i,"horizontal"===o?"hstack":"vstack");var c=pb();return(0,rb.jsx)(r,ne(ne({},s),{},{ref:t,className:fb().apply(void 0,[a,i].concat($(bb({gap:u,breakpoints:c}))))}))}));wb.displayName="Stack";var xb=wb,Eb=["as","disabled"];function Sb(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,u=e.tabIndex,s=void 0===u?0:u,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:"button",disabled:void 0,tabIndex:n?void 0:s,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var Ib=u.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Eb),o=a(Sb(Object.assign({tagName:n,disabled:r},i)),2),u=o[0],s=o[1].tagName;return(0,rb.jsx)(s,Object.assign({},i,u,{ref:t}))}));Ib.displayName="Button";var Cb=["as","bsPrefix","variant","size","active","className"],_b=u.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,o=e.size,u=e.active,s=e.className,c=cb(e,Cb),l=vb(r,"btn"),f=a(Sb(ne({tagName:n},c)),2),h=f[0],d=f[1].tagName;return(0,rb.jsx)(d,ne(ne(ne({},h),c),{},{ref:t,className:fb()(s,l,u&&"active",i&&"".concat(l,"-").concat(i),o&&"".concat(l,"-").concat(o),c.href&&c.disabled&&"disabled")}))}));_b.displayName="Button",_b.defaultProps={variant:"primary",active:!1,disabled:!1};var Tb=_b,Nb={prefix:"fas",iconName:"bag-shopping",icon:[448,512,["shopping-bag"],"f290","M112 112C112 50.14 162.1 0 224 0C285.9 0 336 50.14 336 112V160H400C426.5 160 448 181.5 448 208V416C448 469 405 512 352 512H96C42.98 512 0 469 0 416V208C0 181.5 21.49 160 48 160H112V112zM160 160H288V112C288 76.65 259.3 48 224 48C188.7 48 160 76.65 160 112V160zM136 256C149.3 256 160 245.3 160 232C160 218.7 149.3 208 136 208C122.7 208 112 218.7 112 232C112 245.3 122.7 256 136 256zM312 208C298.7 208 288 218.7 288 232C288 245.3 298.7 256 312 256C325.3 256 336 245.3 336 232C336 218.7 325.3 208 312 208z"]},Ab={prefix:"fas",iconName:"bolt",icon:[384,512,[9889,"zap"],"f0e7","M240.5 224H352C365.3 224 377.3 232.3 381.1 244.7C386.6 257.2 383.1 271.3 373.1 280.1L117.1 504.1C105.8 513.9 89.27 514.7 77.19 505.9C65.1 497.1 60.7 481.1 66.59 467.4L143.5 288H31.1C18.67 288 6.733 279.7 2.044 267.3C-2.645 254.8 .8944 240.7 10.93 231.9L266.9 7.918C278.2-1.92 294.7-2.669 306.8 6.114C318.9 14.9 323.3 30.87 317.4 44.61L240.5 224z"]},Db={prefix:"fas",iconName:"bus",icon:[576,512,[128653],"f207","M288 0C422.4 0 512 35.2 512 80V128C529.7 128 544 142.3 544 160V224C544 241.7 529.7 256 512 256L512 416C512 433.7 497.7 448 480 448V480C480 497.7 465.7 512 448 512H416C398.3 512 384 497.7 384 480V448H192V480C192 497.7 177.7 512 160 512H128C110.3 512 96 497.7 96 480V448C78.33 448 64 433.7 64 416L64 256C46.33 256 32 241.7 32 224V160C32 142.3 46.33 128 64 128V80C64 35.2 153.6 0 288 0zM128 256C128 273.7 142.3 288 160 288H272V128H160C142.3 128 128 142.3 128 160V256zM304 288H416C433.7 288 448 273.7 448 256V160C448 142.3 433.7 128 416 128H304V288zM144 400C161.7 400 176 385.7 176 368C176 350.3 161.7 336 144 336C126.3 336 112 350.3 112 368C112 385.7 126.3 400 144 400zM432 400C449.7 400 464 385.7 464 368C464 350.3 449.7 336 432 336C414.3 336 400 350.3 400 368C400 385.7 414.3 400 432 400zM368 64H208C199.2 64 192 71.16 192 80C192 88.84 199.2 96 208 96H368C376.8 96 384 88.84 384 80C384 71.16 376.8 64 368 64z"]},Ob={prefix:"fas",iconName:"gamepad",icon:[640,512,[],"f11b","M448 64H192C85.96 64 0 149.1 0 256s85.96 192 192 192h256c106 0 192-85.96 192-192S554 64 448 64zM247.1 280h-32v32c0 13.2-10.78 24-23.98 24c-13.2 0-24.02-10.8-24.02-24v-32L136 279.1C122.8 279.1 111.1 269.2 111.1 256c0-13.2 10.85-24.01 24.05-24.01L167.1 232v-32c0-13.2 10.82-24 24.02-24c13.2 0 23.98 10.8 23.98 24v32h32c13.2 0 24.02 10.8 24.02 24C271.1 269.2 261.2 280 247.1 280zM431.1 344c-22.12 0-39.1-17.87-39.1-39.1s17.87-40 39.1-40s39.1 17.88 39.1 40S454.1 344 431.1 344zM495.1 248c-22.12 0-39.1-17.87-39.1-39.1s17.87-40 39.1-40c22.12 0 39.1 17.88 39.1 40S518.1 248 495.1 248z"]},Pb={prefix:"fas",iconName:"heart-pulse",icon:[576,512,["heartbeat"],"f21e","M352.4 243.8l-49.83 99.5c-6.009 12-23.41 11.62-28.92-.625L216.7 216.3l-30.05 71.75L88.55 288l176.4 182.2c12.66 13.07 33.36 13.07 46.03 0l176.4-182.2l-112.1 .0052L352.4 243.8zM495.2 62.86c-54.36-46.98-137.5-38.5-187.5 13.06L288 96.25L268.3 75.92C218.3 24.36 135.2 15.88 80.81 62.86C23.37 112.5 16.84 197.6 60.18 256h105l35.93-86.25c5.508-12.88 23.66-13.12 29.54-.375l58.21 129.4l49.07-98c5.884-11.75 22.78-11.75 28.67 0l27.67 55.25h121.5C559.2 197.6 552.6 112.5 495.2 62.86z"]},Lb={prefix:"fas",iconName:"minus",icon:[448,512,[8722,10134,8211,"subtract"],"f068","M400 288h-352c-17.69 0-32-14.32-32-32.01s14.31-31.99 32-31.99h352c17.69 0 32 14.3 32 31.99S417.7 288 400 288z"]},Rb={prefix:"fas",iconName:"plane-departure",icon:[640,512,[128747],"f5b0","M484.6 62C502.6 52.8 522.6 48 542.8 48H600.2C627.2 48 645.9 74.95 636.4 100.2C618.2 148.9 582.1 188.9 535.6 212.2L262.8 348.6C258.3 350.8 253.4 352 248.4 352H110.7C101.4 352 92.5 347.9 86.42 340.8L13.34 255.6C6.562 247.7 9.019 235.5 18.33 230.8L50.49 214.8C59.05 210.5 69.06 210.2 77.8 214.1L135.1 239.1L234.6 189.7L87.64 95.2C77.21 88.49 78.05 72.98 89.14 67.43L135 44.48C150.1 36.52 169.5 35.55 186.1 41.8L381 114.9L484.6 62zM0 480C0 462.3 14.33 448 32 448H608C625.7 448 640 462.3 640 480C640 497.7 625.7 512 608 512H32C14.33 512 0 497.7 0 480z"]},Mb={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"]},Fb={prefix:"fas",iconName:"utensils",icon:[448,512,[61685,127860,"cutlery"],"f2e7","M221.6 148.7C224.7 161.3 224.8 174.5 222.1 187.2C219.3 199.1 213.6 211.9 205.6 222.1C191.1 238.6 173 249.1 151.1 254.1V472C151.1 482.6 147.8 492.8 140.3 500.3C132.8 507.8 122.6 512 111.1 512C101.4 512 91.22 507.8 83.71 500.3C76.21 492.8 71.1 482.6 71.1 472V254.1C50.96 250.1 31.96 238.9 18.3 222.4C10.19 212.2 4.529 200.3 1.755 187.5C-1.019 174.7-.8315 161.5 2.303 148.8L32.51 12.45C33.36 8.598 35.61 5.197 38.82 2.9C42.02 .602 45.97-.4297 49.89 .0026C53.82 .4302 57.46 2.303 60.1 5.259C62.74 8.214 64.18 12.04 64.16 16V160H81.53L98.62 11.91C99.02 8.635 100.6 5.621 103.1 3.434C105.5 1.248 108.7 .0401 111.1 .0401C115.3 .0401 118.5 1.248 120.9 3.434C123.4 5.621 124.1 8.635 125.4 11.91L142.5 160H159.1V16C159.1 12.07 161.4 8.268 163.1 5.317C166.6 2.366 170.2 .474 174.1 .0026C178-.4262 181.1 .619 185.2 2.936C188.4 5.253 190.6 8.677 191.5 12.55L221.6 148.7zM448 472C448 482.6 443.8 492.8 436.3 500.3C428.8 507.8 418.6 512 408 512C397.4 512 387.2 507.8 379.7 500.3C372.2 492.8 368 482.6 368 472V352H351.2C342.8 352 334.4 350.3 326.6 347.1C318.9 343.8 311.8 339.1 305.8 333.1C299.9 327.1 295.2 320 291.1 312.2C288.8 304.4 287.2 296 287.2 287.6L287.1 173.8C288 136.9 299.1 100.8 319.8 70.28C340.5 39.71 369.8 16.05 404.1 2.339C408.1 .401 414.2-.3202 419.4 .2391C424.6 .7982 429.6 2.62 433.9 5.546C438.2 8.472 441.8 12.41 444.2 17.03C446.7 21.64 447.1 26.78 448 32V472z"]},jb=Fb,Vb=/-(.)/g;var Bb=["className","bsPrefix","as"],zb=function(e){return e[0].toUpperCase()+(t=e,t.replace(Vb,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function Ub(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,r=void 0===n?zb(e):n,i=t.Component,a=t.defaultProps,o=u.forwardRef((function(t,n){var r=t.className,a=t.bsPrefix,o=t.as,u=void 0===o?i||"div":o,s=cb(t,Bb),c=vb(a,e);return(0,rb.jsx)(u,ne({ref:n,className:fb()(r,c)},s))}));return o.defaultProps=a,o.displayName=r,o}var qb=function(e){return u.forwardRef((function(t,n){return(0,rb.jsx)("div",ne(ne({},t),{},{ref:n,className:fb()(t.className,e)}))}))},Kb=["bsPrefix","className","variant","as"],Hb=u.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,u=cb(e,Kb),s=vb(n,"card-img");return(0,rb.jsx)(o,ne({ref:t,className:fb()(i?"".concat(s,"-").concat(i):s,r)},u))}));Hb.displayName="CardImg";var Gb=Hb,Wb=u.createContext(null);Wb.displayName="CardHeaderContext";var Qb=Wb,$b=["bsPrefix","className","as"],Yb=u.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"div":i,o=cb(e,$b),s=vb(n,"card-header"),c=(0,u.useMemo)((function(){return{cardHeaderBsPrefix:s}}),[s]);return(0,rb.jsx)(Qb.Provider,{value:c,children:(0,rb.jsx)(a,ne(ne({ref:t},o),{},{className:fb()(r,s)}))})}));Yb.displayName="CardHeader";var Xb=Yb,Jb=["bsPrefix","className","bg","text","border","body","children","as"],Zb=qb("h5"),ek=qb("h6"),tk=Ub("card-body"),nk=Ub("card-title",{Component:Zb}),rk=Ub("card-subtitle",{Component:ek}),ik=Ub("card-link",{Component:"a"}),ak=Ub("card-text",{Component:"p"}),ok=Ub("card-footer"),uk=Ub("card-img-overlay"),sk=u.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,u=e.body,s=e.children,c=e.as,l=void 0===c?"div":c,f=cb(e,Jb),h=vb(n,"card");return(0,rb.jsx)(l,ne(ne({ref:t},f),{},{className:fb()(r,h,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:u?(0,rb.jsx)(tk,{children:s}):s}))}));sk.displayName="Card",sk.defaultProps={body:!1};var ck=Object.assign(sk,{Img:Gb,Title:nk,Subtitle:rk,Body:tk,Link:ik,Text:ak,Header:Xb,Footer:ok,ImgOverlay:uk});function lk(e,t){var n=0;return u.Children.map(e,(function(e){return u.isValidElement(e)?t(e,n++):e}))}var fk=["min","now","max","label","visuallyHidden","striped","animated","className","style","variant","bsPrefix"],hk=["isChild"],dk=["min","now","max","label","visuallyHidden","striped","animated","bsPrefix","variant","className","children"];function vk(e,t,n){var r=(e-t)/(n-t)*100;return Math.round(1e3*r)/1e3}function pk(e,t){var n,r=e.min,i=e.now,a=e.max,o=e.label,u=e.visuallyHidden,s=e.striped,c=e.animated,l=e.className,f=e.style,h=e.variant,d=e.bsPrefix,v=cb(e,fk);return(0,rb.jsx)("div",ne(ne({ref:t},v),{},{role:"progressbar",className:fb()(l,"".concat(d,"-bar"),(n={},ee(n,"bg-".concat(h),h),ee(n,"".concat(d,"-bar-animated"),c),ee(n,"".concat(d,"-bar-striped"),c||s),n)),style:ne({width:"".concat(vk(i,r,a),"%")},f),"aria-valuenow":i,"aria-valuemin":r,"aria-valuemax":a,children:u?(0,rb.jsx)("span",{className:"visually-hidden",children:o}):o}))}var mk=u.forwardRef((function(e,t){var n=e.isChild,r=cb(e,hk);if(r.bsPrefix=vb(r.bsPrefix,"progress"),n)return pk(r,t);var i=r.min,a=r.now,o=r.max,s=r.label,c=r.visuallyHidden,l=r.striped,f=r.animated,h=r.bsPrefix,d=r.variant,v=r.className,p=r.children,m=cb(r,dk);return(0,rb.jsx)("div",ne(ne({ref:t},m),{},{className:fb()(v,h),children:p?lk(p,(function(e){return(0,u.cloneElement)(e,{isChild:!0})})):pk({min:i,now:a,max:o,label:s,visuallyHidden:c,striped:l,animated:f,bsPrefix:h,variant:d},t)}))}));mk.displayName="ProgressBar",mk.defaultProps={min:0,max:100,animated:!1,isChild:!1,visuallyHidden:!1,striped:!1};var yk=mk,gk=new Intl.NumberFormat("en",{currency:"usd",style:"currency",minimumFractionDigits:2});function bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bk(Object(n),!0).forEach((function(t){Ek(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wk(e){return wk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wk(e)}function xk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ek(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||Ck(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ik(e){return function(e){if(Array.isArray(e))return _k(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ck(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ck(e,t){if(e){if("string"===typeof e)return _k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_k(e,t):void 0}}function _k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tk=function(){},Nk={},Ak={},Dk=null,Ok={mark:Tk,measure:Tk};try{"undefined"!==typeof window&&(Nk=window),"undefined"!==typeof document&&(Ak=document),"undefined"!==typeof MutationObserver&&(Dk=MutationObserver),"undefined"!==typeof performance&&(Ok=performance)}catch(mC){}var Pk=(Nk.navigator||{}).userAgent,Lk=void 0===Pk?"":Pk,Rk=Nk,Mk=Ak,Fk=Dk,jk=Ok,Vk=(Rk.document,!!Mk.documentElement&&!!Mk.head&&"function"===typeof Mk.addEventListener&&"function"===typeof Mk.createElement),Bk=~Lk.indexOf("MSIE")||~Lk.indexOf("Trident/"),zk="svg-inline--fa",Uk="data-fa-i2svg",qk="data-fa-pseudo-element",Kk="data-prefix",Hk="data-icon",Gk="fontawesome-i2svg",Wk=["HTML","HEAD","STYLE","SCRIPT"],Qk=function(){try{return!0}catch(mC){return!1}}(),$k={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},Yk={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},Xk={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},Jk={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},Zk=/fa[srltdbk\-\ ]/,ew="fa-layers-text",tw=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,nw={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},rw=[1,2,3,4,5,6,7,8,9,10],iw=rw.concat([11,12,13,14,15,16,17,18,19,20]),aw=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ow="duotone-group",uw="swap-opacity",sw="primary",cw="secondary",lw=[].concat(Ik(Object.keys(Yk)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ow,uw,sw,cw]).concat(rw.map((function(e){return"".concat(e,"x")}))).concat(iw.map((function(e){return"w-".concat(e)}))),fw=Rk.FontAwesomeConfig||{};if(Mk&&"function"===typeof Mk.querySelector){[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=Sk(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=Mk.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(fw[r]=i)}))}var hw=kk(kk({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:zk,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),fw);hw.autoReplaceSvg||(hw.observeMutations=!1);var dw={};Object.keys(hw).forEach((function(e){Object.defineProperty(dw,e,{enumerable:!0,set:function(t){hw[e]=t,vw.forEach((function(e){return e(dw)}))},get:function(){return hw[e]}})})),Rk.FontAwesomeConfig=dw;var vw=[];var pw=16,mw={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function yw(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function gw(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function bw(e){return e.classList?gw(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function kw(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ww(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function xw(e){return e.size!==mw.size||e.x!==mw.x||e.y!==mw.y||e.rotate!==mw.rotate||e.flipX||e.flipY}function Ew(){var e="fa",t=zk,n=dw.familyPrefix,r=dw.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(u,".".concat(r))}return i}var Sw=!1;function Iw(){dw.autoAddCss&&!Sw&&(!function(e){if(e&&Vk){var t=Mk.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=Mk.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}Mk.head.insertBefore(t,r)}}(Ew()),Sw=!0)}var Cw={mixout:function(){return{dom:{css:Ew,insertCss:Iw}}},hooks:function(){return{beforeDOMElementCreation:function(){Iw()},beforeI2svg:function(){Iw()}}}},_w=Rk||{};_w.___FONT_AWESOME___||(_w.___FONT_AWESOME___={}),_w.___FONT_AWESOME___.styles||(_w.___FONT_AWESOME___.styles={}),_w.___FONT_AWESOME___.hooks||(_w.___FONT_AWESOME___.hooks={}),_w.___FONT_AWESOME___.shims||(_w.___FONT_AWESOME___.shims=[]);var Tw=_w.___FONT_AWESOME___,Nw=[],Aw=!1;function Dw(e){Vk&&(Aw?setTimeout(e,0):Nw.push(e))}function Ow(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?kw(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(kw(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(Ow).join(""),"</").concat(t,">")}function Pw(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}Vk&&((Aw=(Mk.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Mk.readyState))||Mk.addEventListener("DOMContentLoaded",(function e(){Mk.removeEventListener("DOMContentLoaded",e),Aw=1,Nw.map((function(e){return e()}))})));var Lw=function(e,t,n,r){var i,a,o,u=Object.keys(e),s=u.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[u[0]]):(i=0,o=n);i<s;i++)o=c(o,e[a=u[i]],a,e);return o};function Rw(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function Mw(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function Fw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=Mw(t);"function"!==typeof Tw.hooks.addPack||i?Tw.styles[e]=kk(kk({},Tw.styles[e]||{}),a):Tw.hooks.addPack(e,Mw(t)),"fas"===e&&Fw("fa",t)}var jw=Tw.styles,Vw=Tw.shims,Bw=Object.values(Xk),zw=null,Uw={},qw={},Kw={},Hw={},Gw={},Ww=Object.keys($k);function Qw(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~lw.indexOf(n))?null:a}var $w=function(){var e=function(e){return Lw(jw,(function(t,n,r){return t[r]=Lw(n,e,{}),t}),{})};Uw=e((function(e,t,n){if(t[3]&&(e[t[3]]=n),t[2]){var r=t[2].filter((function(e){return"number"===typeof e}));r.forEach((function(t){e[t.toString(16)]=n}))}return e})),qw=e((function(e,t,n){if(e[n]=n,t[2]){var r=t[2].filter((function(e){return"string"===typeof e}));r.forEach((function(t){e[t]=n}))}return e})),Gw=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in jw||dw.autoFetchSvg,n=Lw(Vw,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});Kw=n.names,Hw=n.unicodes,zw=ex(dw.styleDefault)};function Yw(e,t){return(Uw[e]||{})[t]}function Xw(e,t){return(Gw[e]||{})[t]}function Jw(e){return Kw[e]||{prefix:null,iconName:null}}function Zw(){return zw}!function(e){vw.push(e)}((function(e){zw=ex(e.styleDefault)})),$w();function ex(e){var t=Yk[e]||Yk[$k[e]],n=e in Tw.styles?e:null;return t||n||null}function tx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.skipLookups,r=void 0!==n&&n,i=null,a=e.reduce((function(e,t){var n=Qw(dw.familyPrefix,t);if(jw[t]?(t=Bw.includes(t)?Jk[t]:t,i=t,e.prefix=t):Ww.indexOf(t)>-1?(i=t,e.prefix=ex(t)):n?e.iconName=n:t!==dw.replacementClass&&e.rest.push(t),!r&&e.prefix&&e.iconName){var a="fa"===i?Jw(e.iconName):{},o=Xw(e.prefix,e.iconName);a.prefix&&(i=null),e.iconName=a.iconName||o||e.iconName,e.prefix=a.prefix||e.prefix,"far"!==e.prefix||jw.far||!jw.fas||dw.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return"fa"!==a.prefix&&"fa"!==i||(a.prefix=Zw()||"fas"),a}var nx=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=kk(kk({},e.definitions[t]||{}),i[t]),Fw(t,i[t]);var n=Xk[t];n&&Fw(n,i[t]),$w()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,u=o[2];e[i]||(e[i]={}),u.length>0&&u.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&xk(t.prototype,n),r&&xk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),rx=[],ix={},ax={},ox=Object.keys(ax);function ux(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=ix[e]||[];return a.forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function sx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=ix[e]||[];i.forEach((function(e){e.apply(null,n)}))}function cx(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return ax[e]?ax[e].apply(null,t):void 0}function lx(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Zw();if(t)return t=Xw(n,t)||t,Pw(fx.definitions,n,t)||Pw(Tw.styles,n,t)}var fx=new nx,hx={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Vk?(sx("beforeI2svg",e),cx("pseudoElements2svg",e),cx("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===dw.autoReplaceSvg&&(dw.autoReplaceSvg=!0),dw.observeMutations=!0,Dw((function(){px({autoReplaceSvgRoot:t}),sx("watch",e)}))}},dx={icon:function(e){if(null===e)return null;if("object"===wk(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Xw(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=ex(e[0]);return{prefix:n,iconName:Xw(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(dw.familyPrefix,"-"))>-1||e.match(Zk))){var r=tx(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||Zw(),iconName:Xw(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=Zw();return{prefix:i,iconName:Xw(i,e)||e}}}},vx={noAuto:function(){dw.autoReplaceSvg=!1,dw.observeMutations=!1,sx("noAuto")},config:dw,dom:hx,parse:dx,library:fx,findIconDefinition:lx,toHtml:Ow},px=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,n=void 0===t?Mk:t;(Object.keys(Tw.styles).length>0||dw.autoFetchSvg)&&Vk&&dw.autoReplaceSvg&&vx.dom.i2svg({node:n})};function mx(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return Ow(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(Vk){var t=Mk.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function yx(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,u=e.symbol,s=e.title,c=e.maskId,l=e.titleId,f=e.extra,h=e.watchable,d=void 0!==h&&h,v=r.found?r:n,p=v.width,m=v.height,y="fak"===i,g=[dw.replacementClass,a?"".concat(dw.familyPrefix,"-").concat(a):""].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),b={children:[],attributes:kk(kk({},f.attributes),{},{"data-prefix":i,"data-icon":a,class:g,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(m)})},k=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(p/m*16*.0625,"em")}:{};d&&(b.attributes[Uk]=""),s&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(l||yw())},children:[s]}),delete b.attributes.title);var w=kk(kk({},b),{},{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:u,styles:kk(kk({},k),f.styles)}),x=r.found&&n.found?cx("generateAbstractMask",w)||{children:[],attributes:{}}:cx("generateAbstractIcon",w)||{children:[],attributes:{}},E=x.children,S=x.attributes;return w.children=E,w.attributes=S,u?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(dw.familyPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:kk(kk({},i),{},{id:o}),children:r}]}]}(w):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(xw(o)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=ww(kk(kk({},a),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(w)}function gx(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,u=e.watchable,s=void 0!==u&&u,c=kk(kk(kk({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});s&&(c[Uk]="");var l=kk({},o.styles);xw(i)&&(l.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,a=void 0===i?16:i,o=e.startCentered,u=void 0!==o&&o,s="";return s+=u&&Bk?"translate(".concat(t.x/pw-r/2,"em, ").concat(t.y/pw-a/2,"em) "):u?"translate(calc(-50% + ".concat(t.x/pw,"em), calc(-50% + ").concat(t.y/pw,"em)) "):"translate(".concat(t.x/pw,"em, ").concat(t.y/pw,"em) "),s+="scale(".concat(t.size/pw*(t.flipX?-1:1),", ").concat(t.size/pw*(t.flipY?-1:1),") "),s+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var f=ww(l);f.length>0&&(c.style=f);var h=[];return h.push({tag:"span",attributes:c,children:[t]}),a&&h.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),h}function bx(e){var t=e.content,n=e.title,r=e.extra,i=kk(kk(kk({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=ww(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var kx=Tw.styles;function wx(e){var t=e[0],n=e[1],r=Sk(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(dw.familyPrefix,"-").concat(ow)},children:[{tag:"path",attributes:{class:"".concat(dw.familyPrefix,"-").concat(cw),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(dw.familyPrefix,"-").concat(sw),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var xx={found:!1,width:512,height:512};function Ex(e,t){var n=t;return"fa"===t&&null!==dw.styleDefault&&(t=Zw()),new Promise((function(r,i){cx("missingIconAbstract");if("fa"===n){var a=Jw(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&kx[t]&&kx[t][e])return r(wx(kx[t][e]));!function(e,t){Qk||dw.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(kk(kk({},xx),{},{icon:dw.showMissingIcons&&e&&cx("missingIconAbstract")||{}}))}))}var Sx=function(){},Ix=dw.measurePerformance&&jk&&jk.mark&&jk.measure?jk:{mark:Sx,measure:Sx},Cx='FA "6.1.1"',_x=function(e){Ix.mark("".concat(Cx," ").concat(e," ends")),Ix.measure("".concat(Cx," ").concat(e),"".concat(Cx," ").concat(e," begins"),"".concat(Cx," ").concat(e," ends"))},Tx=function(e){return Ix.mark("".concat(Cx," ").concat(e," begins")),function(){return _x(e)}},Nx=function(){};function Ax(e){return"string"===typeof(e.getAttribute?e.getAttribute(Uk):null)}function Dx(e){return Mk.createElementNS("http://www.w3.org/2000/svg",e)}function Ox(e){return Mk.createElement(e)}function Px(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,r=void 0===n?"svg"===e.tag?Dx:Ox:n;if("string"===typeof e)return Mk.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach((function(t){i.setAttribute(t,e.attributes[t])}));var a=e.children||[];return a.forEach((function(e){i.appendChild(Px(e,{ceFn:r}))})),i}var Lx={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(Px(e),t)})),null===t.getAttribute(Uk)&&dw.keepOriginalSource){var n=Mk.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~bw(t).indexOf(dw.replacementClass))return Lx.replace(e);var r=new RegExp("".concat(dw.familyPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===dw.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return Ow(e)})).join("\n");t.setAttribute(Uk,""),t.innerHTML=a}};function Rx(e){e()}function Mx(e,t){var n="function"===typeof t?t:Nx;if(0===e.length)n();else{var r=Rx;"async"===dw.mutateApproach&&(r=Rk.requestAnimationFrame||Rx),r((function(){var t=!0===dw.autoReplaceSvg?Lx.replace:Lx[dw.autoReplaceSvg]||Lx.replace,r=Tx("mutate");e.map(t),r(),n()}))}}var Fx=!1;function jx(){Fx=!0}function Vx(){Fx=!1}var Bx=null;function zx(e){if(Fk&&dw.observeMutations){var t=e.treeCallback,n=void 0===t?Nx:t,r=e.nodeCallback,i=void 0===r?Nx:r,a=e.pseudoElementsCallback,o=void 0===a?Nx:a,u=e.observeMutationsRoot,s=void 0===u?Mk:u;Bx=new Fk((function(e){if(!Fx){var t=Zw();gw(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!Ax(e.addedNodes[0])&&(dw.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&dw.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&Ax(e.target)&&~aw.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(Kk):null,n=e.getAttribute?e.getAttribute(Hk):null;return t&&n}(e.target)){var r=tx(bw(e.target)),a=r.prefix,u=r.iconName;e.target.setAttribute(Kk,a||t),u&&e.target.setAttribute(Hk,u)}else(s=e.target)&&s.classList&&s.classList.contains&&s.classList.contains(dw.replacementClass)&&i(e.target);var s}))}})),Vk&&Bx.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Ux(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}function qx(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=tx(bw(e));return i.prefix||(i.prefix=Zw()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=function(e,t){return(qw[e]||{})[t]}(i.prefix,e.innerText)||Yw(i.prefix,Rw(e.innerText))),i}function Kx(e){var t=gw(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return dw.autoA11y&&(n?t["aria-labelledby"]="".concat(dw.replacementClass,"-title-").concat(r||yw()):(t["aria-hidden"]="true",t.focusable="false")),t}function Hx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=qx(e),r=n.iconName,i=n.prefix,a=n.rest,o=Kx(e),u=ux("parseNodeAttributes",{},e),s=t.styleParser?Ux(e):[];return kk({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:mw,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:s,attributes:o}},u)}var Gx=Tw.styles;function Wx(e){var t="nest"===dw.autoReplaceSvg?Hx(e,{styleParser:!1}):Hx(e);return~t.extra.classes.indexOf(ew)?cx("generateLayersText",e,t):cx("generateSvgReplacementMutation",e,t)}function Qx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Vk)return Promise.resolve();var n=Mk.documentElement.classList,r=function(e){return n.add("".concat(Gk,"-").concat(e))},i=function(e){return n.remove("".concat(Gk,"-").concat(e))},a=dw.autoFetchSvg?Object.keys($k):Object.keys(Gx),o=[".".concat(ew,":not([").concat(Uk,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(Uk,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var u=[];try{u=gw(e.querySelectorAll(o))}catch(mC){}if(!(u.length>0))return Promise.resolve();r("pending"),i("complete");var s=Tx("onTree"),c=u.reduce((function(e,t){try{var n=Wx(t);n&&e.push(n)}catch(mC){Qk||"MissingIcon"===mC.name&&console.error(mC)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){Mx(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),s(),e()}))})).catch((function(e){s(),n(e)}))}))}function $x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Wx(e).then((function(e){e&&Mx([e],t)}))}var Yx=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?mw:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,u=void 0===o?null:o,s=t.maskId,c=void 0===s?null:s,l=t.title,f=void 0===l?null:l,h=t.titleId,d=void 0===h?null:h,v=t.classes,p=void 0===v?[]:v,m=t.attributes,y=void 0===m?{}:m,g=t.styles,b=void 0===g?{}:g;if(e){var k=e.prefix,w=e.iconName,x=e.icon;return mx(kk({type:"icon"},e),(function(){return sx("beforeDOMElementCreation",{iconDefinition:e,params:t}),dw.autoA11y&&(f?y["aria-labelledby"]="".concat(dw.replacementClass,"-title-").concat(d||yw()):(y["aria-hidden"]="true",y.focusable="false")),yx({icons:{main:wx(x),mask:u?wx(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:k,iconName:w,transform:kk(kk({},mw),r),symbol:a,title:f,maskId:c,titleId:d,extra:{attributes:y,styles:b,classes:p}})}))}},Xx={mixout:function(){return{icon:(e=Yx,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:lx(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:lx(i||{})),e(r,kk(kk({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Qx,e.nodeCallback=$x,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?Mk:t,r=e.callback;return Qx(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,u=t.symbol,s=t.mask,c=t.maskId,l=t.extra;return new Promise((function(t,f){Promise.all([Ex(n,a),s.iconName?Ex(s.iconName,s.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(s){var f=Sk(s,2),h=f[0],d=f[1];t([e,yx({icons:{main:h,mask:d},prefix:a,iconName:n,transform:o,symbol:u,maskId:c,title:r,titleId:i,extra:l,watchable:!0})])})).catch(f)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=ww(e.styles);return o.length>0&&(r.style=o),xw(a)&&(t=cx("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},Jx={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return mx({type:"layer"},(function(){sx("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(dw.familyPrefix,"-layers")].concat(Ik(r)).join(" ")},children:n}]}))}}}},Zx={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,u=void 0===o?{}:o,s=t.styles,c=void 0===s?{}:s;return mx({type:"counter",content:e},(function(){return sx("beforeDOMElementCreation",{content:e,params:t}),bx({content:e.toString(),title:r,extra:{attributes:u,styles:c,classes:["".concat(dw.familyPrefix,"-layers-counter")].concat(Ik(a))}})}))}}}},eE={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?mw:n,i=t.title,a=void 0===i?null:i,o=t.classes,u=void 0===o?[]:o,s=t.attributes,c=void 0===s?{}:s,l=t.styles,f=void 0===l?{}:l;return mx({type:"text",content:e},(function(){return sx("beforeDOMElementCreation",{content:e,params:t}),gx({content:e,transform:kk(kk({},mw),r),title:a,extra:{attributes:c,styles:f,classes:["".concat(dw.familyPrefix,"-layers-text")].concat(Ik(u))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(Bk){var u=parseInt(getComputedStyle(e).fontSize,10),s=e.getBoundingClientRect();a=s.width/u,o=s.height/u}return dw.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,gx({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},tE=new RegExp('"',"ug"),nE=[1105920,1112319];function rE(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=gw(e.children).filter((function(e){return e.getAttribute(qk)===t}))[0],o=Rk.getComputedStyle(e,t),u=o.getPropertyValue("font-family").match(tw),s=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(a&&!u)return e.removeChild(a),r();if(u&&"none"!==c&&""!==c){var l=o.getPropertyValue("content"),f=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(u[2])?Yk[u[2].toLowerCase()]:nw[s],h=function(e){var t=e.replace(tE,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=nE[0]&&n<=nE[1],i=2===t.length&&t[0]===t[1];return{value:Rw(i?t[0]:t),isSecondary:r||i}}(l),d=h.value,v=h.isSecondary,p=u[0].startsWith("FontAwesome"),m=Yw(f,d),y=m;if(p){var g=function(e){var t=Hw[e],n=Yw("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(d);g.iconName&&g.prefix&&(m=g.iconName,f=g.prefix)}if(!m||v||a&&a.getAttribute(Kk)===f&&a.getAttribute(Hk)===y)r();else{e.setAttribute(n,y),a&&e.removeChild(a);var b={iconName:null,title:null,titleId:null,prefix:null,transform:mw,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},k=b.extra;k.attributes[qk]=t,Ex(m,f).then((function(i){var a=yx(kk(kk({},b),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:f,iconName:y,extra:k,watchable:!0})),o=Mk.createElement("svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return Ow(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function iE(e){return Promise.all([rE(e,"::before"),rE(e,"::after")])}function aE(e){return e.parentNode!==document.head&&!~Wk.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(qk)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function oE(e){if(Vk)return new Promise((function(t,n){var r=gw(e.querySelectorAll("*")).filter(aE).map(iE),i=Tx("searchPseudoElements");jx(),Promise.all(r).then((function(){i(),Vx(),t()})).catch((function(){i(),Vx(),n()}))}))}var uE=!1,sE=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},cE={mixout:function(){return{parse:{transform:function(e){return sE(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=sE(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),u="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),s="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(o," ").concat(u," ").concat(s)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:kk({},c.outer),children:[{tag:"g",attributes:kk({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:kk(kk({},t.icon.attributes),c.path)}]}]}}}},lE={x:0,y:0,width:"100%",height:"100%"};function fE(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var hE={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?tx(n.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=Zw()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,u=e.transform,s=i.width,c=i.icon,l=a.width,f=a.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(u)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:u,containerWidth:l,iconWidth:s}),d={tag:"rect",attributes:kk(kk({},lE),{},{fill:"white"})},v=c.children?{children:c.children.map(fE)}:{},p={tag:"g",attributes:kk({},h.inner),children:[fE(kk({tag:c.tag,attributes:kk(kk({},c.attributes),h.path)},v))]},m={tag:"g",attributes:kk({},h.outer),children:[p]},y="mask-".concat(o||yw()),g="clip-".concat(o||yw()),b={tag:"mask",attributes:kk(kk({},lE),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(t=f,"g"===t.tag?t.children:[t])},b]};return n.push(k,{tag:"rect",attributes:kk({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(y,")")},lE)}),{children:n,attributes:r}}}},dE={provides:function(e){var t=!1;Rk.matchMedia&&(t=Rk.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:kk(kk({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=kk(kk({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:kk(kk({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:kk(kk({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:kk(kk({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:kk(kk({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:kk(kk({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:kk(kk({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:kk(kk({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;rx=e,ix={},Object.keys(ax).forEach((function(e){-1===ox.indexOf(e)&&delete ax[e]})),rx.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===wk(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){ix[e]||(ix[e]=[]),ix[e].push(r[e])}))}e.provides&&e.provides(ax)}))}([Cw,Xx,Jx,Zx,eE,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=oE,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?Mk:t;dw.searchPseudoElements&&oE(n)}}},{mixout:function(){return{dom:{unwatch:function(){jx(),uE=!0}}}},hooks:function(){return{bootstrap:function(){zx(ux("mutationObserverCallbacks",{}))},noAuto:function(){Bx&&Bx.disconnect()},watch:function(e){var t=e.observeMutationsRoot;uE?Vx():zx(ux("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},cE,hE,dE,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:vx});var vE=vx.parse,pE=vx.icon,mE=n(7),yE=n.n(mE);function gE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gE(Object(n),!0).forEach((function(t){wE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kE(e){return kE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kE(e)}function wE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xE(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EE(e){return function(e){if(Array.isArray(e))return SE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return SE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IE(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var CE=["style"];function _E(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=IE(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var TE=!1;try{TE=!0}catch(mC){}function NE(e){return e&&"object"===kE(e)&&e.prefix&&e.iconName&&e.icon?e:vE.icon?vE.icon(e):null===e?null:e&&"object"===kE(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function AE(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?wE({},e,t):{}}var DE=["forwardedRef"];function OE(e){var t=e.forwardedRef,n=xE(e,DE),r=n.icon,i=n.mask,a=n.symbol,o=n.className,u=n.title,s=n.titleId,c=n.maskId,l=NE(r),f=AE("classes",[].concat(EE(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,u=e.flash,s=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,h=e.fixedWidth,d=e.inverse,v=e.border,p=e.listItem,m=e.flip,y=e.size,g=e.rotation,b=e.pull,k=(wE(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":u,"fa-spin":s,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":h,"fa-inverse":d,"fa-border":v,"fa-li":p,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(y),"undefined"!==typeof y&&null!==y),wE(t,"fa-rotate-".concat(g),"undefined"!==typeof g&&null!==g&&0!==g),wE(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),wE(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(k).map((function(e){return k[e]?e:null})).filter((function(e){return e}))}(n)),EE(o.split(" ")))),h=AE("transform","string"===typeof n.transform?vE.transform(n.transform):n.transform),d=AE("mask",NE(i)),v=pE(l,bE(bE(bE(bE({},f),h),d),{},{symbol:a,title:u,titleId:s,maskId:c}));if(!v)return function(){var e;!TE&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",l),null;var p=v.abstract,m={ref:t};return Object.keys(n).forEach((function(e){OE.defaultProps.hasOwnProperty(e)||(m[e]=n[e])})),PE(p[0],m)}OE.displayName="FontAwesomeIcon",OE.propTypes={beat:yE().bool,border:yE().bool,bounce:yE().bool,className:yE().string,fade:yE().bool,flash:yE().bool,mask:yE().oneOfType([yE().object,yE().array,yE().string]),maskId:yE().string,fixedWidth:yE().bool,inverse:yE().bool,flip:yE().oneOf(["horizontal","vertical","both"]),icon:yE().oneOfType([yE().object,yE().array,yE().string]),listItem:yE().bool,pull:yE().oneOf(["right","left"]),pulse:yE().bool,rotation:yE().oneOf([0,90,180,270]),shake:yE().bool,size:yE().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:yE().bool,spinPulse:yE().bool,spinReverse:yE().bool,symbol:yE().oneOfType([yE().bool,yE().string]),title:yE().string,titleId:yE().string,transform:yE().oneOfType([yE().string,yE().object]),swapOpacity:yE().bool},OE.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var PE=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=_E(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[IE(t)]=r}return e}),{attrs:{}}),o=r.style,u=void 0===o?{}:o,s=xE(r,CE);return a.attrs.style=bE(bE({},a.attrs.style),u),t.apply(void 0,[n.tag,bE(bE({},a.attrs),s)].concat(EE(i)))}.bind(null,u.createElement),LE=!("undefined"===typeof window||!window.document||!window.document.createElement),RE=!1,ME=!1;try{var FE={get passive(){return RE=!0},get once(){return ME=RE=!0}};LE&&(window.addEventListener("test",FE,FE),window.removeEventListener("test",FE,!0))}catch(mC){}var jE=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!ME){var i=r.once,a=r.capture,o=n;!ME&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,RE?r:a)}e.addEventListener(t,n,r)};function VE(e){return e&&e.ownerDocument||document}var BE,zE=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};function UE(e){if((!BE&&0!==BE||e)&&LE){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),BE=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return BE}var qE=function(e){var t=(0,u.useRef)(e);return(0,u.useEffect)((function(){t.current=e}),[e]),t};function KE(e){var t=qE(e);return(0,u.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}var HE=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var GE=function(e,t){return(0,u.useMemo)((function(){return function(e,t){var n=HE(e),r=HE(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])};function WE(e){var t=function(e){var t=(0,u.useRef)(e);return t.current=e,t}(e);(0,u.useEffect)((function(){return function(){return t.current()}}),[])}function QE(e,t){return function(e){var t=VE(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var $E=/([A-Z])/g;var YE=/^ms-/;function XE(e){return function(e){return e.replace($E,"-$1").toLowerCase()}(e).replace(YE,"-ms-")}var JE=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var ZE=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(XE(t))||QE(e).getPropertyValue(XE(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!JE.test(e))}(i)?n+=XE(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(XE(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};var eS=function(e,t,n,r){return jE(e,t,n,r),function(){zE(e,t,n,r)}};function tS(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=eS(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function nS(e,t,n,r){null==n&&(n=function(e){var t=ZE(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=tS(e,n,r),a=eS(e,"transitionend",t);return function(){i(),a()}}function rS(e){void 0===e&&(e=VE());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(mC){return e.body}}function iS(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}var aS=n(164);var oS,uS=(oS="modal-open","".concat("data-rr-ui-").concat(oS)),sS=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;re(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return ae(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=ee({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(ZE(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(uS,""),ZE(r,t)}},{key:"reset",value:function(){var e=this;$(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(uS),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),cS=sS,lS=(0,u.createContext)(LE?window:void 0);lS.Provider;function fS(){return(0,u.useContext)(lS)}var hS=function(e,t){var n;return LE?null==e?(t||VE()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var dS,vS=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function pS(e){var t=fS(),n=e||function(e){return dS||(dS=new cS({ownerDocument:null==e?void 0:e.document})),dS}(t),r=(0,u.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:function(){return n.add(r.current)},remove:function(){return n.remove(r.current)},isTopModal:function(){return n.isTopModal(r.current)},setDialogRef:(0,u.useCallback)((function(e){r.current.dialog=e}),[]),setBackdropRef:(0,u.useCallback)((function(e){r.current.backdrop=e}),[])})}var mS=(0,u.forwardRef)((function(e,t){var n=e.show,r=void 0!==n&&n,i=e.role,o=void 0===i?"dialog":i,s=e.className,c=e.style,l=e.children,f=e.backdrop,h=void 0===f||f,d=e.keyboard,v=void 0===d||d,p=e.onBackdropClick,m=e.onEscapeKeyDown,y=e.transition,g=e.backdropTransition,b=e.autoFocus,k=void 0===b||b,w=e.enforceFocus,x=void 0===w||w,E=e.restoreFocus,S=void 0===E||E,I=e.restoreFocusOptions,C=e.renderDialog,_=e.renderBackdrop,T=void 0===_?function(e){return(0,rb.jsx)("div",Object.assign({},e))}:_,N=e.manager,A=e.container,D=e.onShow,O=e.onHide,P=void 0===O?function(){}:O,L=e.onExit,R=e.onExited,M=e.onExiting,F=e.onEnter,j=e.onEntering,V=e.onEntered,B=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,vS),z=function(e,t){var n=fS(),r=a((0,u.useState)((function(){return hS(e,null==n?void 0:n.document)})),2),i=r[0],o=r[1];if(!i){var s=hS(e);s&&o(s)}return(0,u.useEffect)((function(){t&&i&&t(i)}),[t,i]),(0,u.useEffect)((function(){var t=hS(e);t!==i&&o(t)}),[e,i]),i}(A),U=pS(N),q=function(){var e=(0,u.useRef)(!0),t=(0,u.useRef)((function(){return e.current}));return(0,u.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t.current}(),K=function(e){var t=(0,u.useRef)(null);return(0,u.useEffect)((function(){t.current=e})),t.current}(r),H=a((0,u.useState)(!r),2),G=H[0],W=H[1],Q=(0,u.useRef)(null);(0,u.useImperativeHandle)(t,(function(){return U}),[U]),LE&&!K&&r&&(Q.current=rS()),y||r||G?r&&G&&W(!1):W(!0);var $=KE((function(){if(U.add(),te.current=eS(document,"keydown",Z),ee.current=eS(document,"focus",(function(){return setTimeout(X)}),!0),D&&D(),k){var e=rS(document);U.dialog&&e&&!iS(U.dialog,e)&&(Q.current=e,U.dialog.focus())}})),Y=KE((function(){var e;(U.remove(),null==te.current||te.current(),null==ee.current||ee.current(),S)&&(null==(e=Q.current)||null==e.focus||e.focus(I),Q.current=null)}));(0,u.useEffect)((function(){r&&z&&$()}),[r,z,$]),(0,u.useEffect)((function(){G&&Y()}),[G,Y]),WE((function(){Y()}));var X=KE((function(){if(x&&q()&&U.isTopModal()){var e=rS();U.dialog&&e&&!iS(U.dialog,e)&&U.dialog.focus()}})),J=KE((function(e){e.target===e.currentTarget&&(null==p||p(e),!0===h&&P())})),Z=KE((function(e){v&&27===e.keyCode&&U.isTopModal()&&(null==m||m(e),e.defaultPrevented||P())})),ee=(0,u.useRef)(),te=(0,u.useRef)(),ne=y;if(!z||!(r||ne&&!G))return null;var re=Object.assign({role:o,ref:U.setDialogRef,"aria-modal":"dialog"===o||void 0},B,{style:c,className:s,tabIndex:-1}),ie=C?C(re):(0,rb.jsx)("div",Object.assign({},re,{children:u.cloneElement(l,{role:"document"})}));ne&&(ie=(0,rb.jsx)(ne,{appear:!0,unmountOnExit:!0,in:!!r,onExit:L,onExiting:M,onExited:function(){W(!0),null==R||R.apply(void 0,arguments)},onEnter:F,onEntering:j,onEntered:V,children:ie}));var ae=null;if(h){var oe=g;ae=T({ref:U.setBackdropRef,onClick:J}),oe&&(ae=(0,rb.jsx)(oe,{appear:!0,in:!!r,children:ae}))}return(0,rb.jsx)(rb.Fragment,{children:aS.createPortal((0,rb.jsxs)(rb.Fragment,{children:[ae,ie]}),z)})}));mS.displayName="Modal";var yS=Object.assign(mS,{Manager:cS});var gS=Function.prototype.bind.call(Function.prototype.call,[].slice);function bS(e,t){return gS(e.querySelectorAll(t))}function kS(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var wS,xS=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ES=".sticky-top",SS=".navbar-toggler",IS=function(e){ce(n,e);var t=de(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,ZE(t,ee({},e,"".concat(parseFloat(ZE(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],ZE(t,ee({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;sn(le(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";bS(a,xS).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),bS(a,ES).forEach((function(n){return t.adjustAndStore(u,n,-e.scrollBarWidth)})),bS(a,SS).forEach((function(n){return t.adjustAndStore(u,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;sn(le(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=kS(r.className,i):r.setAttribute("class",kS(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";bS(a,xS).forEach((function(e){return t.restore(o,e)})),bS(a,ES).forEach((function(e){return t.restore(u,e)})),bS(a,SS).forEach((function(e){return t.restore(u,e)}))}}]),n}(cS);var CS=!1,_S=u.createContext(null),TS="unmounted",NS="exited",AS="entering",DS="entered",OS="exiting",PS=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=NS,r.appearStatus=AS):i=DS:i=t.unmountOnExit||t.mountOnEnter?TS:NS,r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,se(t,n),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===TS?{status:NS}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==AS&&n!==DS&&(t=AS):n!==AS&&n!==DS||(t=OS)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===AS?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===NS&&this.setState({status:TS})},i.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[aS.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||CS?this.safeSetState({status:DS},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:AS},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:DS},(function(){t.props.onEntered(a,o)}))}))})))},i.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:aS.findDOMNode(this);t&&!CS?(this.props.onExit(r),this.safeSetState({status:OS},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:NS},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:NS},(function(){e.props.onExited(r)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:aS.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===TS)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,sb(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return u.createElement(_S.Provider,{value:null},"function"===typeof n?n(e,r):u.cloneElement(u.Children.only(n),r))},r}(u.Component);function LS(){}PS.contextType=_S,PS.propTypes={},PS.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:LS,onEntering:LS,onEntered:LS,onExit:LS,onExiting:LS,onExited:LS},PS.UNMOUNTED=TS,PS.EXITED=NS,PS.ENTERING=AS,PS.ENTERED=DS,PS.EXITING=OS;var RS=PS;function MS(e,t){var n=ZE(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function FS(e,t){var n=MS(e,"transitionDuration"),r=MS(e,"transitionDelay"),i=nS(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var jS,VS=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],BS=u.forwardRef((function(e,t){var n=e.onEnter,r=e.onEntering,i=e.onEntered,a=e.onExit,o=e.onExiting,s=e.onExited,c=e.addEndListener,l=e.children,f=e.childRef,h=cb(e,VS),d=(0,u.useRef)(null),v=GE(d,f),p=function(e){var t;v((t=e)&&"setState"in t?aS.findDOMNode(t):null!=t?t:null)},m=function(e){return function(t){e&&d.current&&e(d.current,t)}},y=(0,u.useCallback)(m(n),[n]),g=(0,u.useCallback)(m(r),[r]),b=(0,u.useCallback)(m(i),[i]),k=(0,u.useCallback)(m(a),[a]),w=(0,u.useCallback)(m(o),[o]),x=(0,u.useCallback)(m(s),[s]),E=(0,u.useCallback)(m(c),[c]);return(0,rb.jsx)(RS,ne(ne({ref:t},h),{},{onEnter:y,onEntered:b,onEntering:g,onExit:k,onExited:x,onExiting:w,addEndListener:E,nodeRef:d,children:"function"===typeof l?function(e,t){return l(e,ne(ne({},t),{},{ref:p}))}:u.cloneElement(l,{ref:p})}))})),zS=BS,US=["className","children","transitionClasses"],qS=(ee(jS={},AS,"show"),ee(jS,DS,"show"),jS),KS=u.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.transitionClasses,a=void 0===i?{}:i,o=cb(e,US),s=(0,u.useCallback)((function(e,t){!function(e){e.offsetHeight}(e),null==o.onEnter||o.onEnter(e,t)}),[o]);return(0,rb.jsx)(zS,ne(ne({ref:t,addEndListener:FS},o),{},{onEnter:s,childRef:r.ref,children:function(e,t){return u.cloneElement(r,ne(ne({},t),{},{className:fb()("fade",n,r.props.className,qS[e],a[e])}))}}))}));KS.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},KS.displayName="Fade";var HS=KS,GS=Ub("modal-body"),WS=u.createContext({onHide:function(){}}),QS=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],$S=u.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.contentClassName,a=e.centered,o=e.size,u=e.fullscreen,s=e.children,c=e.scrollable,l=cb(e,QS);n=vb(n,"modal");var f="".concat(n,"-dialog"),h="string"===typeof u?"".concat(n,"-fullscreen-").concat(u):"".concat(n,"-fullscreen");return(0,rb.jsx)("div",ne(ne({},l),{},{ref:t,className:fb()(f,r,o&&"".concat(n,"-").concat(o),a&&"".concat(f,"-centered"),c&&"".concat(f,"-scrollable"),u&&h),children:(0,rb.jsx)("div",{className:fb()("".concat(n,"-content"),i),children:s})}))}));$S.displayName="ModalDialog";var YS=$S,XS=Ub("modal-footer"),JS=["className","variant"],ZS={"aria-label":yE().string,onClick:yE().func,variant:yE().oneOf(["white"])},eI=u.forwardRef((function(e,t){var n=e.className,r=e.variant,i=cb(e,JS);return(0,rb.jsx)("button",ne({ref:t,type:"button",className:fb()("btn-close",r&&"btn-close-".concat(r),n)},i))}));eI.displayName="CloseButton",eI.propTypes=ZS,eI.defaultProps={"aria-label":"Close"};var tI=eI,nI=["closeLabel","closeVariant","closeButton","onHide","children"],rI=u.forwardRef((function(e,t){var n=e.closeLabel,r=e.closeVariant,i=e.closeButton,a=e.onHide,o=e.children,s=cb(e,nI),c=(0,u.useContext)(WS),l=KE((function(){null==c||c.onHide(),null==a||a()}));return(0,rb.jsxs)("div",ne(ne({ref:t},s),{},{children:[o,i&&(0,rb.jsx)(tI,{"aria-label":n,variant:r,onClick:l})]}))}));rI.defaultProps={closeLabel:"Close",closeButton:!1};var iI=rI,aI=["bsPrefix","className"],oI=u.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=cb(e,aI);return n=vb(n,"modal-header"),(0,rb.jsx)(iI,ne(ne({ref:t},i),{},{className:fb()(r,n)}))}));oI.displayName="ModalHeader",oI.defaultProps={closeLabel:"Close",closeButton:!1};var uI=oI,sI=Ub("modal-title",{Component:qb("h4")}),cI=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],lI={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:YS};function fI(e){return(0,rb.jsx)(HS,ne(ne({},e),{},{timeout:null}))}function hI(e){return(0,rb.jsx)(HS,ne(ne({},e),{},{timeout:null}))}var dI=u.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.style,o=e.dialogClassName,s=e.contentClassName,c=e.children,l=e.dialogAs,f=e["aria-labelledby"],h=e["aria-describedby"],d=e["aria-label"],v=e.show,p=e.animation,m=e.backdrop,y=e.keyboard,g=e.onEscapeKeyDown,b=e.onShow,k=e.onHide,w=e.container,x=e.autoFocus,E=e.enforceFocus,S=e.restoreFocus,I=e.restoreFocusOptions,C=e.onEntered,_=e.onExit,T=e.onExiting,N=e.onEnter,A=e.onEntering,D=e.onExited,O=e.backdropClassName,P=e.manager,L=cb(e,cI),R=a((0,u.useState)({}),2),M=R[0],F=R[1],j=a((0,u.useState)(!1),2),V=j[0],B=j[1],z=(0,u.useRef)(!1),U=(0,u.useRef)(!1),q=(0,u.useRef)(null),K=a((0,u.useState)(null),2),H=K[0],G=K[1],W=GE(t,G),Q=KE(k),$="rtl"===(0,u.useContext)(db).dir;n=vb(n,"modal");var Y=(0,u.useMemo)((function(){return{onHide:Q}}),[Q]);function X(){return P||function(e){return wS||(wS=new IS(e)),wS}({isRTL:$})}function J(e){if(LE){var t=X().getScrollbarWidth()>0,n=e.scrollHeight>VE(e).documentElement.clientHeight;F({paddingRight:t&&!n?UE():void 0,paddingLeft:!t&&n?UE():void 0})}}var Z=KE((function(){H&&J(H.dialog)}));WE((function(){zE(window,"resize",Z),null==q.current||q.current()}));var ee=function(){z.current=!0},te=function(e){z.current&&H&&e.target===H.dialog&&(U.current=!0),z.current=!1},re=function(){B(!0),q.current=nS(H.dialog,(function(){B(!1)}))},ie=function(e){"static"!==m?U.current||e.target!==e.currentTarget?U.current=!1:null==k||k():function(e){e.target===e.currentTarget&&re()}(e)},ae=(0,u.useCallback)((function(e){return(0,rb.jsx)("div",ne(ne({},e),{},{className:fb()("".concat(n,"-backdrop"),O,!p&&"show")}))}),[p,O,n]),oe=ne(ne({},i),M);oe.display="block";return(0,rb.jsx)(WS.Provider,{value:Y,children:(0,rb.jsx)(yS,{show:v,ref:W,backdrop:m,container:w,keyboard:!0,autoFocus:x,enforceFocus:E,restoreFocus:S,restoreFocusOptions:I,onEscapeKeyDown:function(e){y||"static"!==m?y&&g&&g(e):(e.preventDefault(),re())},onShow:b,onHide:k,onEnter:function(e,t){e&&J(e),null==N||N(e,t)},onEntering:function(e,t){null==A||A(e,t),jE(window,"resize",Z)},onEntered:C,onExit:function(e){null==q.current||q.current(),null==_||_(e)},onExiting:T,onExited:function(e){e&&(e.style.display=""),null==D||D(e),zE(window,"resize",Z)},manager:X(),transition:p?fI:void 0,backdropTransition:p?hI:void 0,renderBackdrop:ae,renderDialog:function(e){return(0,rb.jsx)("div",ne(ne({role:"dialog"},e),{},{style:oe,className:fb()(r,n,V&&"".concat(n,"-static")),onClick:m?ie:void 0,onMouseUp:te,"aria-label":d,"aria-labelledby":f,"aria-describedby":h,children:(0,rb.jsx)(l,ne(ne({},L),{},{onMouseDown:ee,className:o,contentClassName:s,children:c}))}))}})})}));dI.displayName="Modal",dI.defaultProps=lI;var vI=Object.assign(dI,{Body:GS,Header:uI,Title:sI,Footer:XS,Dialog:YS,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),pI=["as","className","type","tooltip"],mI={type:yE().string,tooltip:yE().bool,as:yE().elementType},yI=u.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,u=e.tooltip,s=void 0!==u&&u,c=cb(e,pI);return(0,rb.jsx)(r,ne(ne({},c),{},{ref:t,className:fb()(i,"".concat(o,"-").concat(s?"tooltip":"feedback"))}))}));yI.displayName="Feedback",yI.propTypes=mI;var gI=yI,bI=u.createContext({}),kI=["id","bsPrefix","className","type","isValid","isInvalid","as"],wI=u.forwardRef((function(e,t){var n=e.id,r=e.bsPrefix,i=e.className,a=e.type,o=void 0===a?"checkbox":a,s=e.isValid,c=void 0!==s&&s,l=e.isInvalid,f=void 0!==l&&l,h=e.as,d=void 0===h?"input":h,v=cb(e,kI),p=(0,u.useContext)(bI).controlId;return r=vb(r,"form-check-input"),(0,rb.jsx)(d,ne(ne({},v),{},{ref:t,type:o,id:n||p,className:fb()(i,r,c&&"is-valid",f&&"is-invalid")}))}));wI.displayName="FormCheckInput";var xI=wI,EI=["bsPrefix","className","htmlFor"],SI=u.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.htmlFor,a=cb(e,EI),o=(0,u.useContext)(bI).controlId;return n=vb(n,"form-check-label"),(0,rb.jsx)("label",ne(ne({},a),{},{ref:t,htmlFor:i||o,className:fb()(r,n)}))}));SI.displayName="FormCheckLabel";var II=SI,CI=["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],_I=u.forwardRef((function(e,t){var n=e.id,r=e.bsPrefix,i=e.bsSwitchPrefix,a=e.inline,o=void 0!==a&&a,s=e.disabled,c=void 0!==s&&s,l=e.isValid,f=void 0!==l&&l,h=e.isInvalid,d=void 0!==h&&h,v=e.feedbackTooltip,p=void 0!==v&&v,m=e.feedback,y=e.feedbackType,g=e.className,b=e.style,k=e.title,w=void 0===k?"":k,x=e.type,E=void 0===x?"checkbox":x,S=e.label,I=e.children,C=e.as,_=void 0===C?"input":C,T=cb(e,CI);r=vb(r,"form-check"),i=vb(i,"form-switch");var N=(0,u.useContext)(bI).controlId,A=(0,u.useMemo)((function(){return{controlId:n||N}}),[N,n]),D=!I&&null!=S&&!1!==S||function(e,t){return u.Children.toArray(e).some((function(e){return u.isValidElement(e)&&e.type===t}))}(I,II),O=(0,rb.jsx)(xI,ne(ne({},T),{},{type:"switch"===E?"checkbox":E,ref:t,isValid:f,isInvalid:d,disabled:c,as:_}));return(0,rb.jsx)(bI.Provider,{value:A,children:(0,rb.jsx)("div",{style:b,className:fb()(g,D&&r,o&&"".concat(r,"-inline"),"switch"===E&&i),children:I||(0,rb.jsxs)(rb.Fragment,{children:[O,D&&(0,rb.jsx)(II,{title:w,children:S}),m&&(0,rb.jsx)(gI,{type:y,tooltip:p,children:m})]})})})}));_I.displayName="FormCheck";var TI=Object.assign(_I,{Input:xI,Label:II}),NI=(n(391),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),AI=u.forwardRef((function(e,t){var n,r,i=e.bsPrefix,a=e.type,o=e.size,s=e.htmlSize,c=e.id,l=e.className,f=e.isValid,h=void 0!==f&&f,d=e.isInvalid,v=void 0!==d&&d,p=e.plaintext,m=e.readOnly,y=e.as,g=void 0===y?"input":y,b=cb(e,NI),k=(0,u.useContext)(bI).controlId;(i=vb(i,"form-control"),p)?n=ee({},"".concat(i,"-plaintext"),!0):(ee(r={},i,!0),ee(r,"".concat(i,"-").concat(o),o),n=r);return(0,rb.jsx)(g,ne(ne({},b),{},{type:a,size:s,ref:t,readOnly:m,id:c||k,className:fb()(l,n,h&&"is-valid",v&&"is-invalid","color"===a&&"".concat(i,"-color"))}))}));AI.displayName="FormControl";var DI=Object.assign(AI,{Feedback:gI}),OI=Ub("form-floating"),PI=["controlId","as"],LI=u.forwardRef((function(e,t){var n=e.controlId,r=e.as,i=void 0===r?"div":r,a=cb(e,PI),o=(0,u.useMemo)((function(){return{controlId:n}}),[n]);return(0,rb.jsx)(bI.Provider,{value:o,children:(0,rb.jsx)(i,ne(ne({},a),{},{ref:t}))})}));LI.displayName="FormGroup";var RI=LI,MI=["as","bsPrefix","className"],FI=["className"];var jI=u.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=cb(e,MI);n=vb(n,"col");var a=pb(),o=[],u=[];return a.forEach((function(e){var t,r,a,s=i[e];delete i[e],"object"===typeof s&&null!=s?(t=s.span,r=s.offset,a=s.order):t=s;var c="xs"!==e?"-".concat(e):"";t&&o.push(!0===t?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(t)),null!=a&&u.push("order".concat(c,"-").concat(a)),null!=r&&u.push("offset".concat(c,"-").concat(r))})),[ne(ne({},i),{},{className:fb().apply(void 0,[r].concat(o,u))}),{as:t,bsPrefix:n,spans:o}]}(e),r=a(n,2),i=r[0],o=i.className,u=cb(i,FI),s=r[1],c=s.as,l=void 0===c?"div":c,f=s.bsPrefix,h=s.spans;return(0,rb.jsx)(l,ne(ne({},u),{},{ref:t,className:fb()(o,!h.length&&f)}))}));jI.displayName="Col";var VI=jI,BI=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],zI=u.forwardRef((function(e,t){var n=e.as,r=void 0===n?"label":n,i=e.bsPrefix,a=e.column,o=e.visuallyHidden,s=e.className,c=e.htmlFor,l=cb(e,BI),f=(0,u.useContext)(bI).controlId;i=vb(i,"form-label");var h="col-form-label";"string"===typeof a&&(h="".concat(h," ").concat(h,"-").concat(a));var d=fb()(s,i,o&&"visually-hidden",a&&h);return c=c||f,a?(0,rb.jsx)(VI,ne({ref:t,as:"label",className:d,htmlFor:c},l)):(0,rb.jsx)(r,ne({ref:t,className:d,htmlFor:c},l))}));zI.displayName="FormLabel",zI.defaultProps={column:!1,visuallyHidden:!1};var UI=zI,qI=["bsPrefix","className","id"],KI=u.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.id,a=cb(e,qI),o=(0,u.useContext)(bI).controlId;return n=vb(n,"form-range"),(0,rb.jsx)("input",ne(ne({},a),{},{type:"range",ref:t,className:fb()(r,n),id:i||o}))}));KI.displayName="FormRange";var HI=KI,GI=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],WI=u.forwardRef((function(e,t){var n=e.bsPrefix,r=e.size,i=e.htmlSize,a=e.className,o=e.isValid,s=void 0!==o&&o,c=e.isInvalid,l=void 0!==c&&c,f=e.id,h=cb(e,GI),d=(0,u.useContext)(bI).controlId;return n=vb(n,"form-select"),(0,rb.jsx)("select",ne(ne({},h),{},{size:i,ref:t,className:fb()(a,n,r&&"".concat(n,"-").concat(r),s&&"is-valid",l&&"is-invalid"),id:f||d}))}));WI.displayName="FormSelect";var QI=WI,$I=["bsPrefix","className","as","muted"],YI=u.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,u=cb(e,$I);return n=vb(n,"form-text"),(0,rb.jsx)(a,ne(ne({},u),{},{ref:t,className:fb()(r,n,o&&"text-muted")}))}));YI.displayName="FormText";var XI=YI,JI=u.forwardRef((function(e,t){return(0,rb.jsx)(TI,ne(ne({},e),{},{ref:t,type:"switch"}))}));JI.displayName="Switch";var ZI=Object.assign(JI,{Input:TI.Input,Label:TI.Label}),eC=["bsPrefix","className","children","controlId","label"],tC=u.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,u=cb(e,eC);return n=vb(n,"form-floating"),(0,rb.jsxs)(RI,ne(ne({ref:t,className:fb()(r,n),controlId:a},u),{},{children:[i,(0,rb.jsx)("label",{htmlFor:a,children:o})]}))}));tC.displayName="FloatingLabel";var nC=tC,rC=["className","validated","as"],iC={_ref:yE().any,validated:yE().bool,as:yE().elementType},aC=u.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=cb(e,rC);return(0,rb.jsx)(a,ne(ne({},o),{},{ref:t,className:fb()(n,r&&"was-validated")}))}));aC.displayName="Form",aC.propTypes=iC;var oC=Object.assign(aC,{Group:RI,Control:DI,Floating:OI,Check:TI,Switch:ZI,Label:UI,Text:XI,Range:HI,Select:QI,FloatingLabel:nC}),uC=function(e){var t=e.show,n=e.handleClose,r=e.defaultCategoryId,i=e.category,a=(0,u.useRef)(),o=(0,u.useRef)(),s=(0,u.useRef)(),c=(0,u.useContext)(ib),l=c.addExpense,f=(c.expenses,c.categories,function(){var e=Z(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,nb(i.id,{description:a.current.value,amount:parseFloat(o.current.value)});case 3:l({description:a.current.value,amount:parseFloat(o.current.value)}),n();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return(0,rb.jsx)(vI,{show:t,onHide:n,centered:!0,size:"sm",children:(0,rb.jsxs)(oC,{onSubmit:f,children:[(0,rb.jsx)(vI.Header,{closeButton:!0,onClick:n,children:(0,rb.jsx)(vI.Title,{children:"New Expense"})}),(0,rb.jsxs)(vI.Body,{children:[(0,rb.jsxs)(oC.Group,{className:"mb-3",controlId:"name",children:[(0,rb.jsx)(oC.Label,{children:"Category"}),(0,rb.jsx)(oC.Select,{defaultValue:r,ref:s,disabled:!0,children:(0,rb.jsx)("option",{value:s.id,children:i.name})})]}),(0,rb.jsxs)(oC.Group,{className:"mb-3",controlId:"description",children:[(0,rb.jsx)(oC.Label,{children:"Description"}),(0,rb.jsx)(oC.Control,{ref:a,type:"text",required:!0})]}),(0,rb.jsxs)(oC.Group,{className:"mb-3",controlId:"amount",children:[(0,rb.jsx)(oC.Label,{children:"Amount"}),(0,rb.jsx)(oC.Control,{type:"number",required:!0,ref:o,min:0,step:.01,placeholder:"0"})]}),(0,rb.jsx)("div",{className:"d-grid",children:(0,rb.jsx)(Tb,{variant:"warning",type:"submit",children:"Add"})})]})]})})},sC=function(e){var t=e.show,n=e.handleClose,r=e.category;return(0,rb.jsxs)(vI,{show:t,onHide:n,centered:!0,size:"sm",children:[(0,rb.jsx)(vI.Header,{closeButton:!0,onClick:n,children:(0,rb.jsx)(vI.Title,{children:"View Expenses"})}),(0,rb.jsx)(vI.Body,{children:r.expenses?r.expenses.map((function(e,t){return(0,rb.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,rb.jsx)("h6",{children:e.description}),(0,rb.jsx)("p",{children:gk.format(e.amount)})]},t)})):(0,rb.jsx)("p",{className:"text-center",children:"No expenses have been added."})})]})},cC=function(e){var t=e.category,n=e.name,r=e.amount,i=e.maximum,o=e.gray,s=e.categoryType,c=[],l=a((0,u.useState)(!1),2),f=l[0],h=l[1],d=a((0,u.useState)(),2),v=d[0],p=d[1],m=a((0,u.useState)(!1),2),y=m[0],g=m[1];r>i?c.push("bg-danger","bg-opacity-10"):o&&c.push("bg-white");var b=function(){var e=Z(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tb(t.id);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,rb.jsxs)(rb.Fragment,{children:[(0,rb.jsxs)(ck,{border:"light",className:c.join(" "),children:[(0,rb.jsx)(ck.Header,{className:"cross bg-white text-black",children:(0,rb.jsx)(OE,{icon:Lb,className:"close",onClick:b})}),(0,rb.jsx)(ck.Body,{children:(0,rb.jsxs)("div",{className:"d-flex align-items-center justify-content-between ",children:[(0,rb.jsx)("div",{className:"col-sm ",children:(0,rb.jsx)(OE,{icon:s[t.name],size:"lg",className:"categoryIcon "})}),(0,rb.jsxs)("div",{className:"col-12 col-sm-10",children:[(0,rb.jsxs)(ck.Title,{className:"d-flex justify-content-between align-items-baseline ",children:[(0,rb.jsx)("h5",{children:n}),(0,rb.jsxs)("div",{className:"d-flex align-items-baseline fs-5",children:[gk.format(r),(0,rb.jsxs)("span",{className:"text-muted fs-6",children:["/",gk.format(i)]})]})]}),(0,rb.jsx)(yk,{className:"rounded-pill",variant:function(e,t){var n=e/t;return n<.5?"success":n<.75?"warning":"danger"}(r,i),min:0,now:r,max:i,label:"".concat(Math.round(r/i*100),"%")}),(0,rb.jsxs)(xb,{direction:"horizontal",gap:"2",className:"mt-4",children:[(0,rb.jsx)(Tb,{variant:"primary",type:"submit",className:"btn-sm ms-auto",onClick:function(e){h(!0),p(e)},children:"Add Expense"}),(0,rb.jsx)(Tb,{variant:"warning ",type:"submit",className:"btn-sm ms-auto",onClick:function(){return g(!0)},children:"View Expenses"})]})]})]})})]}),(0,rb.jsx)(uC,{category:t,show:f,defaultCategoryId:v,handleClose:function(){return h(!1)}}),(0,rb.jsx)(sC,{category:t,show:y,handleClose:function(){return g(!1)}})]})},lC=function(e){var t=e.show,n=e.handleClose,r=(0,u.useContext)(ib),i=r.addCategory,a=(r.categories,(0,u.useRef)()),o=(0,u.useRef)(),s={Entertainment:Ob,Food:jb,Transport:Db,Travel:Rb,Utilities:Ab,Health:Pb,Shopping:Nb};return(0,rb.jsx)(vI,{show:t,onHide:n,centered:!0,size:"sm",children:(0,rb.jsxs)(oC,{onSubmit:function(e){e.preventDefault(),i({name:a.current.value,maximum:parseFloat(o.current.value)}),n()},children:[(0,rb.jsx)(vI.Header,{closeButton:!0,onClick:n,children:(0,rb.jsx)(vI.Title,{children:"New Category"})}),(0,rb.jsxs)(vI.Body,{children:[(0,rb.jsxs)(oC.Group,{className:"mb-3",controlId:"name",children:[(0,rb.jsx)(oC.Label,{children:"Category Name"}),(0,rb.jsx)(oC.Select,{ref:a,defaultValue:"Default",required:!0,children:Object.keys(s).map((function(e){return(0,rb.jsx)("option",{value:e,children:e},e)}))})]}),(0,rb.jsxs)(oC.Group,{className:"mb-3",controlId:"maximum",children:[(0,rb.jsx)(oC.Label,{children:"Maximum Spending"}),(0,rb.jsx)(oC.Control,{type:"number",required:!0,ref:o,min:0,step:.01,placeholder:"0"})]}),(0,rb.jsx)("div",{className:"d-grid",children:(0,rb.jsx)(Tb,{variant:"warning",type:"submit",children:"Add"})})]})]})})},fC=function(){var e=(0,u.useContext)(ib).categories,t=[];e.map((function(e){if(e.expenses){var n=e.expenses.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0);t.push(n)}else t.push(0)}));var n=t.reduce((function(e,t){return e+t}),0),r=e.map((function(e){return e.maximum})).reduce((function(e,t){return e+t}),0);return(0,rb.jsx)(ck,{className:"mb-3",border:"light",children:(0,rb.jsxs)(ck.Body,{children:[(0,rb.jsxs)(ck.Title,{className:"d-flex justify-content-between align-items-baseline ",children:[(0,rb.jsx)("h5",{children:"Total"}),(0,rb.jsxs)("div",{className:"d-flex align-items-baseline fs-5",children:[gk.format(n),(0,rb.jsxs)("span",{className:"text-muted fs-6",children:["/",gk.format(r)]})]})]}),(0,rb.jsx)(yk,{className:"rounded-pill ",variant:function(e,t){var n=e/t;return n<.5?"success":n<.75?"warning":"danger"}(n,r),min:0,now:n,max:r})]})})},hC=function(){var e=a((0,u.useState)(!1),2),t=e[0],n=e[1],r=(0,u.useContext)(ob).username,i=(0,u.useContext)(ib),o=i.getAllCategories,s=i.categories,c=i.expenses,l={Entertainment:Ob,Food:jb,Transport:Db,Travel:Rb,Utilities:Ab,Health:Pb,Shopping:Nb};return(0,u.useEffect)((function(){o()}),[s,c]),(0,rb.jsxs)(rb.Fragment,{children:[(0,rb.jsxs)(gb,{fluid:!0,className:"mb-4",children:[(0,rb.jsx)("h2",{className:"mb-5 mt-3",children:"Hi ".concat(r)}),(0,rb.jsxs)(xb,{direction:"horizontal",className:"mb-4 justify-content-between align-items-baseline",children:[(0,rb.jsx)("h4",{children:"Budget Plan"}),(0,rb.jsxs)(Tb,{variant:"warning",onClick:function(){return n(!0)},children:[(0,rb.jsx)(OE,{icon:Mb})," \xa0 Add Category"]})]}),(0,rb.jsx)(fC,{}),(0,rb.jsx)("div",{className:"grid",children:s.map((function(e){var t=e.expenses?e.expenses.map((function(e){return e.amount})).reduce((function(e,t){return e+t})):0;return(0,rb.jsx)(cC,{category:e,name:e.name,amount:t,maximum:e.maximum,gray:!0,categoryType:l},e.id)}))})]}),(0,rb.jsx)(lC,{show:t,handleClose:function(){return n(!1)}})]})},dC=function(){var e=a((0,u.useState)(""),2),t=e[0],n=e[1],r=(0,u.useContext)(ob).setUsername;return(0,rb.jsxs)(gb,{className:"layout",children:[(0,rb.jsx)("h2",{className:"mb-4 ",children:"Welcome"}),(0,rb.jsxs)(oC,{children:[(0,rb.jsxs)(oC.Group,{className:"mb-3",children:[(0,rb.jsx)(oC.Label,{children:"Enter First Name:"}),(0,rb.jsx)(oC.Control,{type:"text",onChange:function(e){n(e.target.value)},value:t,required:!0})]}),(0,rb.jsx)("div",{className:"d-grid",children:(0,rb.jsx)(Tb,{variant:"warning",children:(0,rb.jsx)(Q,{to:"/budget",onClick:function(e){0!==t.length&&(r(t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()),n(""))},className:"link",children:"Let's Budget!"})})})]})]})};var vC=function(){return(0,rb.jsx)("div",{className:"Phone",children:(0,rb.jsx)(W,{basename:"/Budget",children:(0,rb.jsx)(ub,{children:(0,rb.jsx)(ab,{children:(0,rb.jsxs)(U,{children:[(0,rb.jsx)(B,{path:"/",element:(0,rb.jsx)(dC,{})}),(0,rb.jsx)(B,{path:"/budget",element:(0,rb.jsx)(hC,{})})]})})})})})},pC=document.getElementById("root");(0,t.s)(pC).render((0,rb.jsx)(vC,{tab:"home"}))}()}();
//# sourceMappingURL=main.af5aaf84.js.map